{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"themes/keep/source/js/back2top.js","path":"js/back2top.js","modified":0,"renderable":1},{"_id":"themes/keep/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/js/category-page.js","path":"js/category-page.js","modified":0,"renderable":1},{"_id":"themes/keep/source/js/code-block.js","path":"js/code-block.js","modified":0,"renderable":1},{"_id":"themes/keep/source/js/dark-light-toggle.js","path":"js/dark-light-toggle.js","modified":0,"renderable":1},{"_id":"themes/keep/source/js/lazyload.js","path":"js/lazyload.js","modified":0,"renderable":1},{"_id":"themes/keep/source/js/header-shrink.js","path":"js/header-shrink.js","modified":0,"renderable":1},{"_id":"themes/keep/source/js/links-page.js","path":"js/links-page.js","modified":0,"renderable":1},{"_id":"themes/keep/source/js/local-search.js","path":"js/local-search.js","modified":0,"renderable":1},{"_id":"themes/keep/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/keep/source/js/post-helper.js","path":"js/post-helper.js","modified":0,"renderable":1},{"_id":"themes/keep/source/js/toc.js","path":"js/toc.js","modified":0,"renderable":1},{"_id":"themes/keep/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/keep/source/images/avatar.svg","path":"images/avatar.svg","modified":0,"renderable":1},{"_id":"themes/keep/source/images/bg.png","path":"images/bg.png","modified":0,"renderable":1},{"_id":"themes/keep/source/images/bg.svg","path":"images/bg.svg","modified":0,"renderable":1},{"_id":"themes/keep/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/keep/source/css/common/animated.styl","path":"css/common/animated.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/common/basic.styl","path":"css/common/basic.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/common/css-vars.styl","path":"css/common/css-vars.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/common/markdown.styl","path":"css/common/markdown.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/common/keep-theme.styl","path":"css/common/keep-theme.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/common/variables.styl","path":"css/common/variables.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/layout/archive-content.styl","path":"css/layout/archive-content.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/layout/article-content.styl","path":"css/layout/article-content.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/layout/category-content.styl","path":"css/layout/category-content.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/layout/category-list.styl","path":"css/layout/category-list.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/js/libs/anime.min.js","path":"js/libs/anime.min.js","modified":0,"renderable":1},{"_id":"themes/keep/source/css/layout/home-content.styl","path":"css/layout/home-content.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/layout/page.styl","path":"css/layout/page.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/layout/tag-content.styl","path":"css/layout/tag-content.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/js/libs/pjax.min.js","path":"js/libs/pjax.min.js","modified":0,"renderable":1},{"_id":"themes/keep/source/font/css/brands.min.css","path":"font/css/brands.min.css","modified":0,"renderable":1},{"_id":"themes/keep/source/font/css/fontawesome.min.css","path":"font/css/fontawesome.min.css","modified":0,"renderable":1},{"_id":"themes/keep/source/font/css/regular.min.css","path":"font/css/regular.min.css","modified":0,"renderable":1},{"_id":"themes/keep/source/font/css/solid.min.css","path":"font/css/solid.min.css","modified":0,"renderable":1},{"_id":"themes/keep/source/font/webfonts/fa-brands-400.ttf","path":"font/webfonts/fa-brands-400.ttf","modified":0,"renderable":1},{"_id":"themes/keep/source/font/webfonts/fa-brands-400.woff2","path":"font/webfonts/fa-brands-400.woff2","modified":0,"renderable":1},{"_id":"themes/keep/source/font/webfonts/fa-regular-400.ttf","path":"font/webfonts/fa-regular-400.ttf","modified":0,"renderable":1},{"_id":"themes/keep/source/font/webfonts/fa-regular-400.woff2","path":"font/webfonts/fa-regular-400.woff2","modified":0,"renderable":1},{"_id":"themes/keep/source/font/webfonts/fa-solid-900.ttf","path":"font/webfonts/fa-solid-900.ttf","modified":0,"renderable":1},{"_id":"themes/keep/source/font/webfonts/fa-solid-900.woff2","path":"font/webfonts/fa-solid-900.woff2","modified":0,"renderable":1},{"_id":"themes/keep/source/font/webfonts/fa-v4compatibility.ttf","path":"font/webfonts/fa-v4compatibility.ttf","modified":0,"renderable":1},{"_id":"themes/keep/source/font/webfonts/fa-v4compatibility.woff2","path":"font/webfonts/fa-v4compatibility.woff2","modified":0,"renderable":1},{"_id":"themes/keep/source/images/deploy-provider/aliyun.png","path":"images/deploy-provider/aliyun.png","modified":0,"renderable":1},{"_id":"themes/keep/source/images/deploy-provider/gitee.png","path":"images/deploy-provider/gitee.png","modified":0,"renderable":1},{"_id":"themes/keep/source/images/deploy-provider/github.png","path":"images/deploy-provider/github.png","modified":0,"renderable":1},{"_id":"themes/keep/source/images/deploy-provider/netlify.png","path":"images/deploy-provider/netlify.png","modified":0,"renderable":1},{"_id":"themes/keep/source/images/deploy-provider/tencent_cloud.png","path":"images/deploy-provider/tencent_cloud.png","modified":0,"renderable":1},{"_id":"themes/keep/source/images/deploy-provider/upyun.png","path":"images/deploy-provider/upyun.png","modified":0,"renderable":1},{"_id":"themes/keep/source/images/deploy-provider/vercel.png","path":"images/deploy-provider/vercel.png","modified":0,"renderable":1},{"_id":"themes/keep/source/css/common/code-block/code-block.styl","path":"css/common/code-block/code-block.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/common/code-block/code-theme.styl","path":"css/common/code-block/code-theme.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/css/common/code-block/highlight.styl","path":"css/common/code-block/highlight.styl","modified":0,"renderable":1},{"_id":"themes/keep/source/images/wechat.jpg","path":"images/wechat.jpg","modified":0,"renderable":1}],"Cache":[{"_id":"source/categories/index.md","hash":"baf406e78e9dc7dfefe331c837a582f763826c77","modified":1694252286378},{"_id":"source/about/index.md","hash":"604860facc69313492a20ce5500c09e489bf1e18","modified":1694253158035},{"_id":"source/changelog/index.md","hash":"217bd7046db27d902008fa71b725b5072303356d","modified":1694252307371},{"_id":"source/tags/index.md","hash":"d971a3869b49d387e39a123b6c66967e376e5707","modified":1694252275375},{"_id":"source/links/index.md","hash":"788e561a6ddd7a2af28c5616ba00741df3e42785","modified":1694252267428},{"_id":"source/_posts/hello.md","hash":"4132265766d701aed530a3694bc67c917b7096ce","modified":1694251041798},{"_id":"themes/keep/.commitlintrc.js","hash":"3925f491e830dcb684933589cec3d4be8db0ff26","modified":1694163346000},{"_id":"themes/keep/.editorconfig","hash":"a1c91f0a086bf92fddb02ccf23578ec2b51c099c","modified":1694163346000},{"_id":"themes/keep/.gitignore","hash":"c4cd17a16e43203c7ae1ad41079a671e98ea52d5","modified":1694163346000},{"_id":"themes/keep/.npmignore","hash":"5f1a11e233e883dace7de8daac9e0f4d2ace6b1d","modified":1694163346000},{"_id":"themes/keep/.prettierrc","hash":"459178a4dff70a0885b6f5a49eb6a6265eea3083","modified":1694163346000},{"_id":"themes/keep/.stylelintrc.js","hash":"63ce9d43e8675a8cb771332c81c89ba7a60b5516","modified":1694163346000},{"_id":"themes/keep/.github/FUNDING.yml","hash":"abc482849db4978eb9ea0eb392d088a6733cea90","modified":1694163346000},{"_id":"themes/keep/.husky/commit-msg","hash":"acb6c4e5a6a3c713df9264e4d36798d6326580bb","modified":1694163346000},{"_id":"themes/keep/README.md","hash":"72e2b8b3ddc14cb3873ad0a17bc25a90f192924d","modified":1694163346000},{"_id":"themes/keep/CHANGELOG.md","hash":"c7778bbf912ee310a1a71acbbee12a3c3f8a1d8b","modified":1694163346000},{"_id":"themes/keep/package.json","hash":"32f8b58ba12deda0773b6fb4eca589cbb1a444b9","modified":1694163346000},{"_id":"themes/keep/_config.yml","hash":"6e0f7098ec996c11cbca5949b4475861c658dfd0","modified":1694249770499},{"_id":"themes/keep/.husky/pre-commit","hash":"12a9c8125c55c9cc29620696a0fa050ee61f9a2b","modified":1694163346000},{"_id":"themes/keep/languages/en.yml","hash":"f08015206d481b437ec4719b94e1a101b1a98005","modified":1694163346000},{"_id":"themes/keep/LICENSE","hash":"a2f9ffbf32eeb6284afa81bc4fb4c27b80d044e9","modified":1694163346000},{"_id":"themes/keep/languages/zh-CN.yml","hash":"71164a718221f344df91a5c86257d7bdb35eb84e","modified":1694163346000},{"_id":"themes/keep/layout/archive.ejs","hash":"8456f112fc12bbb1c83cd190d0ce83ee474bd297","modified":1694163346000},{"_id":"themes/keep/languages/zh-TW.yml","hash":"0ea464f74da6dad1b90f39cbf281f3fcd1a3ac97","modified":1694163346000},{"_id":"themes/keep/docs/README_zh-CN.md","hash":"b6594f28b00add834e2d93e22b5bd6d7a8b947f2","modified":1694163346000},{"_id":"themes/keep/layout/archive-content.ejs","hash":"e753c99c041f34f27d673e8c8da2f362ebeb2358","modified":1694163346000},{"_id":"themes/keep/layout/category-content.ejs","hash":"52fd66f1bccf5ffa790f6b408f42d885828409d1","modified":1694163346000},{"_id":"themes/keep/layout/category-list.ejs","hash":"4b0e41b6de6bec6238a6059b94e49e62de437d04","modified":1694163346000},{"_id":"themes/keep/layout/article-content.ejs","hash":"8d2e74e018e8e2857fcefa6c75ddce98da1c7c98","modified":1694163346000},{"_id":"themes/keep/layout/category.ejs","hash":"8456f112fc12bbb1c83cd190d0ce83ee474bd297","modified":1694163346000},{"_id":"themes/keep/layout/index.ejs","hash":"f5fee4e079a9c2c23059ebde4cd89ec723e310c6","modified":1694163346000},{"_id":"themes/keep/layout/home-content.ejs","hash":"80d46652ca28761990ab1a57f71bfc948852d4b2","modified":1694163346000},{"_id":"themes/keep/layout/layout.ejs","hash":"636e099cc96d2b4f0de11ac77620bb513745ae76","modified":1694163346000},{"_id":"themes/keep/layout/page-template.ejs","hash":"52b829b9f16a5cab483541dc9cc4a734e9352035","modified":1694163346000},{"_id":"themes/keep/layout/tag-content.ejs","hash":"b305969138f2b08736fc75e95a9efca8eb5f4e90","modified":1694163346000},{"_id":"themes/keep/layout/page.ejs","hash":"18cddb83a069c1e5a4128621af26c6e2ddab113e","modified":1694163346000},{"_id":"themes/keep/layout/tags.ejs","hash":"8456f112fc12bbb1c83cd190d0ce83ee474bd297","modified":1694163346000},{"_id":"themes/keep/layout/tag.ejs","hash":"8456f112fc12bbb1c83cd190d0ce83ee474bd297","modified":1694163346000},{"_id":"themes/keep/.github/workflows/auto-merge.yml","hash":"1597492ba41e12feaab01e4a6cd0a2d6a49df826","modified":1694163346000},{"_id":"themes/keep/scripts/use-source-data.js","hash":"b29e05a8a9ba823cce7c6f6d8b1482aad5ff0d78","modified":1694163346000},{"_id":"themes/keep/docs/README_zh-TW.md","hash":"2105ec08453aa7ea8372bb295791daa635e4169c","modified":1694163346000},{"_id":"themes/keep/.github/ISSUE_TEMPLATE/config.yml","hash":"c9aedf2c4d2b2addf1fa87260584938ed04ad442","modified":1694163346000},{"_id":"themes/keep/.github/workflows/release-version.yml","hash":"84c49bde4d73657f3a4a7013972e587d6822a5aa","modified":1694163346000},{"_id":"themes/keep/.github/ISSUE_TEMPLATE/feature-request.yml","hash":"798c9eaa048e0002caba6fef989cc59420d02198","modified":1694163346000},{"_id":"themes/keep/.github/ISSUE_TEMPLATE/other.yml","hash":"32b3885dfb1481d77148c22caad31e699974f348","modified":1694163346000},{"_id":"themes/keep/.github/ISSUE_TEMPLATE/bug-report.yml","hash":"ee755f2d6c5f427efd5e673e1ef08530da067ade","modified":1694163346000},{"_id":"themes/keep/layout/_partial/archive-list.ejs","hash":"0973bea6b9da7726a01a4fd6fc6c3d6e6d4c133c","modified":1694163346000},{"_id":"themes/keep/layout/_partial/article-copyright-info.ejs","hash":"42e0b650d47d080bb930c6d598f6ba25b79ce457","modified":1694163346000},{"_id":"themes/keep/layout/_partial/head.ejs","hash":"f4d09e8b0fc2bf79c325c10fd2c09c8f803cdadc","modified":1694163346000},{"_id":"themes/keep/layout/_partial/first-screen.ejs","hash":"1f97263e7f22d97aed906ab87676b19fb45e9f3f","modified":1694163346000},{"_id":"themes/keep/layout/_partial/friends-link.ejs","hash":"6ebb8e7f315a18c65caf14d8dbbe1cc21bda4f7c","modified":1694163346000},{"_id":"themes/keep/layout/_partial/article-meta-info.ejs","hash":"a0f3041037ccd70ecdbcbf4fea4cf802533e7ac4","modified":1694163346000},{"_id":"themes/keep/layout/_partial/header.ejs","hash":"05b35afeb615304df7376f6345a6907cda83d304","modified":1694163346000},{"_id":"themes/keep/layout/_partial/footer.ejs","hash":"13ab1396aa92e4bbaef055328d37fece77c011fe","modified":1694163346000},{"_id":"themes/keep/layout/_partial/image-mask.ejs","hash":"e785b4ca258ce378354216038ef544ca6ef4af51","modified":1694163346000},{"_id":"themes/keep/layout/_partial/paginator.ejs","hash":"c7de89669e7269db469bfd4a56b7c4d8665f56af","modified":1694163346000},{"_id":"themes/keep/layout/_partial/progress-bar.ejs","hash":"3c5ab4ac9c57bce3609f7d5f55429d8703ae2a1d","modified":1694163346000},{"_id":"themes/keep/layout/_partial/local-search.ejs","hash":"18207b298e413fc6b89efc07aa63e8c95a06e56c","modified":1694163346000},{"_id":"themes/keep/layout/_partial/post-tools.ejs","hash":"befe6702c610b68dfa6b230a40fd713ec9a5e404","modified":1694163346000},{"_id":"themes/keep/layout/_partial/scripts.ejs","hash":"42f8a56beb933df4aef5b38f18099ced99ef7a06","modified":1694163346000},{"_id":"themes/keep/layout/_partial/toc.ejs","hash":"fcf05324d0c8a7b4ab872c74b0b56782f4bafd16","modified":1694163346000},{"_id":"themes/keep/layout/_partial/tagcloud.ejs","hash":"4ac6ea2dca2fb8e889a89ded4d04582b891db9e4","modified":1694163346000},{"_id":"themes/keep/layout/_partial/side-tools.ejs","hash":"fe968ec9942168a2994b4eb91a68c87f6aa35fe7","modified":1694163346000},{"_id":"themes/keep/scripts/filters/lazyload-handle.js","hash":"90218c0b0af944e1cf6e23dbc0ba9088d31da86d","modified":1694163346000},{"_id":"themes/keep/scripts/helpers/export-config.js","hash":"124b61769eb63ee64ae92c4bcd5b041705f6521c","modified":1694163346000},{"_id":"themes/keep/scripts/helpers/helper.js","hash":"e335e67b69745181f55599f7469c20fd44d05a77","modified":1694163346000},{"_id":"themes/keep/scripts/filters/link-handle.js","hash":"37a157254ba77fc365c8d9a365cd794cede49394","modified":1694163346000},{"_id":"themes/keep/source/css/style.styl","hash":"a82a0f0caf9ad7ce75d368e1a4c7599f21089be1","modified":1694163346000},{"_id":"themes/keep/source/js/back2top.js","hash":"201b362a12eef083b83560e8da226dc2e0696f5b","modified":1694163346000},{"_id":"themes/keep/source/js/category-page.js","hash":"48e5c9448a516ccc77faca113cde28a1b32b2fca","modified":1694163346000},{"_id":"themes/keep/source/js/dark-light-toggle.js","hash":"4acefb833dc7ae70e3a0126b86895d2fd1fdde73","modified":1694163346000},{"_id":"themes/keep/source/js/code-block.js","hash":"2a8ec5a390a22b241d0530f1bc2b31099e2c8b98","modified":1694163346000},{"_id":"themes/keep/source/js/lazyload.js","hash":"d0e0878947b429ba59b0f952a498a05d6d77d0fa","modified":1694163346000},{"_id":"themes/keep/source/js/header-shrink.js","hash":"3c6fc16cff27f45312e4fbd05bba79c1d730001c","modified":1694163346000},{"_id":"themes/keep/source/js/links-page.js","hash":"d00dcf4c1717155823d58ec8940dcddac4529b06","modified":1694163346000},{"_id":"themes/keep/source/js/main.js","hash":"07408693d7cc2c59443ecebc4a4586b90dba9797","modified":1694163346000},{"_id":"themes/keep/source/js/local-search.js","hash":"35756189425600fdf39106c285784ec6ea9eb247","modified":1694163346000},{"_id":"themes/keep/source/js/utils.js","hash":"2b945897bab8992bcf214ac54ce4b9cea45ee2f6","modified":1694163346000},{"_id":"themes/keep/layout/_partial/comment/comment.ejs","hash":"721b8faff8082b2e3698f642f139eeef005e675c","modified":1694163346000},{"_id":"themes/keep/layout/_partial/comment/giscus.ejs","hash":"32416c4927f7a98648ff4637707dc5f53932d56f","modified":1694163346000},{"_id":"themes/keep/source/images/avatar.svg","hash":"7b91d256891bb24fa0aff8d23c8941588efdf4ed","modified":1694205503842},{"_id":"themes/keep/source/js/toc.js","hash":"fb248fc6bb7ce53764ea9e70efd6b798de2c4d97","modified":1694163346000},{"_id":"themes/keep/source/images/logo.svg","hash":"68413a20688bc38116c63b994746d1c79b263eb0","modified":1694205409252},{"_id":"themes/keep/layout/_partial/common/empty-content.ejs","hash":"78402dfaf5f2ab9462b31039551ca0b5a991485f","modified":1694163346000},{"_id":"themes/keep/layout/_partial/comment/gitalk.ejs","hash":"a42784effea9cff9c0873394872d5e82f250c722","modified":1694163346000},{"_id":"themes/keep/layout/_partial/comment/twikoo.ejs","hash":"bc58b829e0b0a36ed0fabefd19bd0c733873200a","modified":1694163346000},{"_id":"themes/keep/layout/_partial/comment/valine.ejs","hash":"2c7370bd0501fa3d893261306d583d6e82f78778","modified":1694163346000},{"_id":"themes/keep/source/js/post-helper.js","hash":"c242701b041e6cb991bd4fe134364ff2280eb891","modified":1694163346000},{"_id":"themes/keep/source/images/bg.svg","hash":"f3106cd334dc2ceef885c19012bf59a48498af42","modified":1694163346000},{"_id":"themes/keep/layout/_partial/comment/waline.ejs","hash":"ca6e523d6a77d397054d8d83de7604c0764f5f92","modified":1694163346000},{"_id":"themes/keep/source/css/common/animated.styl","hash":"2a8a4f96f848ead7247b24c3f7ea4be0ff19496e","modified":1694163346000},{"_id":"themes/keep/layout/_partial/pjax/pjax.ejs","hash":"949d3fdd4bd215cd7d0c95152c4be630ce227e16","modified":1694163346000},{"_id":"themes/keep/source/css/common/basic.styl","hash":"b1f82894a3f8026f11ee431d156bb25d1eb9af5c","modified":1694163346000},{"_id":"themes/keep/source/css/common/keep-theme.styl","hash":"9c214820ce267289779d857aae1140b6ce522ea5","modified":1694163346000},{"_id":"themes/keep/source/css/common/css-vars.styl","hash":"3297670dd96af7768f409ac4404d23be573619f9","modified":1694163346000},{"_id":"themes/keep/source/css/common/markdown.styl","hash":"18f84f54b5190f9d0b2847958d0b3f6e12f90fcb","modified":1694163346000},{"_id":"themes/keep/source/css/layout/archive-content.styl","hash":"52cdeff06fdbd298050e048589d51831648126bb","modified":1694163346000},{"_id":"themes/keep/source/css/common/variables.styl","hash":"15f567b71c230d793b4bfd656bc81cd3c803a545","modified":1694163346000},{"_id":"themes/keep/source/css/layout/article-content.styl","hash":"cffc6410e4dd4bd2a2675162ba5fa921d3515752","modified":1694163346000},{"_id":"themes/keep/source/css/layout/category-content.styl","hash":"8c4af54fe6baff84a6e11ec47ae990cc4bfc9cfd","modified":1694163346000},{"_id":"themes/keep/source/css/layout/category-list.styl","hash":"3a52fb8683490d30dba93fa045535b7ff512e6d4","modified":1694163346000},{"_id":"themes/keep/source/js/libs/pjax.min.js","hash":"57ec40cb4898d7ba74a03603d608af378e5431f8","modified":1694163346000},{"_id":"themes/keep/source/font/css/brands.min.css","hash":"bb325aa1de092336cbce1281b36663b7fa198023","modified":1694163346000},{"_id":"themes/keep/source/css/layout/home-content.styl","hash":"fd5be93f3778907e16ff609225c58ae292c94a59","modified":1694163346000},{"_id":"themes/keep/source/css/layout/page.styl","hash":"9fdcc98b38ff4fa8613395694b3899ab24eca940","modified":1694163346000},{"_id":"themes/keep/source/css/layout/tag-content.styl","hash":"8eeb05735bbbd45683339e5b46e49674a3ea47c7","modified":1694163346000},{"_id":"themes/keep/source/font/css/regular.min.css","hash":"58d2ff307db72217d6628940a3c07f9e982a3eea","modified":1694163346000},{"_id":"themes/keep/source/font/css/solid.min.css","hash":"f588237d4d8957093e2837c965ac78d059230f78","modified":1694163346000},{"_id":"themes/keep/source/js/libs/anime.min.js","hash":"47cb482a8a488620a793d50ba8f6752324b46af3","modified":1694163346000},{"_id":"themes/keep/source/font/webfonts/fa-regular-400.ttf","hash":"9262ea1d0711b658bb75d5cbe9345e080c7dea90","modified":1694163346000},{"_id":"themes/keep/source/font/webfonts/fa-regular-400.woff2","hash":"56be4c28de7c67747b0fe3dd606be8b319f6d4f4","modified":1694163346000},{"_id":"themes/keep/source/font/webfonts/fa-v4compatibility.woff2","hash":"9e1f957bf329bd280aba89e578420301b312403d","modified":1694163346000},{"_id":"themes/keep/source/images/deploy-provider/github.png","hash":"fa9ed69cd0a004f3cd334d098b8fea5ae2ac3835","modified":1694163346000},{"_id":"themes/keep/source/font/webfonts/fa-v4compatibility.ttf","hash":"b12c2b515fb62c370de1af4ca99635b00aabfe58","modified":1694163346000},{"_id":"themes/keep/source/images/deploy-provider/aliyun.png","hash":"4a4464a8a66adb9ecddf2084087dd652690942d5","modified":1694163346000},{"_id":"themes/keep/source/images/deploy-provider/gitee.png","hash":"d4c79d132c914bf28386df102e7c3f0607c95369","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/archive-list.styl","hash":"81390d314087ded32d273954f1f4f1e1ab2813bc","modified":1694163346000},{"_id":"themes/keep/source/images/deploy-provider/netlify.png","hash":"894e9d227c3ebe1ca05d431c74b61c716eaf4e4d","modified":1694163346000},{"_id":"themes/keep/source/css/common/code-block/code-block.styl","hash":"2fd3af4c446f9543bb9a992590d254b831169ab8","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/article-copyright-info.styl","hash":"c8ff81bead9e5def42280841d3d4704bfbc476ed","modified":1694163346000},{"_id":"themes/keep/source/images/deploy-provider/tencent_cloud.png","hash":"be5357326af6c68b7c109fe5d4f92ada5daec900","modified":1694163346000},{"_id":"themes/keep/source/css/common/code-block/code-theme.styl","hash":"c44443a77754eceb111c8d23e6fa93b966cdb97d","modified":1694163346000},{"_id":"themes/keep/source/css/common/code-block/highlight.styl","hash":"21d73d7d61dfd3abd4e515a3986703498ca4ebdd","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/article-meta-info.styl","hash":"24c36066780ddbedbb000e58f37bd7fdfd61c3bf","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/first-screen.styl","hash":"ddf86818001d1ea23f88e745dc8a457a0be2b2a9","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/footer.styl","hash":"a03f740e21010fc90f6a76105a6226ccd896979e","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/local-search.styl","hash":"ba965eb5230054feab9aad37c7668daf10281e3f","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/image-mask.styl","hash":"d3fb3d4beb0e8f3558d3010b7d28298600c2ae8f","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/page-template.styl","hash":"2b2693e4ba24bb94d9aee4b7e72a0810f579ad76","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/header.styl","hash":"c8621fa9f5a7a0d6ae716c3d2cd067b2f1504e8a","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/paginator.styl","hash":"39157df0bd402d36438b2ced1ba2eb158e1f841e","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/progress-bar.styl","hash":"a1d26275097061b7b53db5dc152c3e6f7adf9542","modified":1694163346000},{"_id":"themes/keep/source/images/deploy-provider/upyun.png","hash":"923dafcc484388f2a1c20356e37eaf62b85479f4","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/post-tools.styl","hash":"4381f98e236f22f380467005a2e4219bb7b82867","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/common/empty-content.styl","hash":"c9dbd9242f3a4251018e42de0026c410808f3f49","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/side-tools.styl","hash":"632a807c7ea483f76c2001bab55672b97d07f199","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/tagcloud.styl","hash":"9764eef397d76df5e7467c16a55e12b3e8ee1ba8","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/toc.styl","hash":"fbd7d4545ebbed76ddd173c2b1c9a096a297e1f1","modified":1694163346000},{"_id":"themes/keep/source/images/deploy-provider/vercel.png","hash":"2b0538b5cd09f71f06f5968a6cd0ae910a96f4ca","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/comment/comment.styl","hash":"77a508bfc06e152c3ebd69a29bc3b0c9d7c86579","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/comment/gitalk.styl","hash":"6344eabedc352463b3ae25e2ee28024c70bd31a2","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/comment/twikoo.styl","hash":"df0b0cf4a778d1e1fbcade3d226ced1a74fdb38f","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/comment/valine.styl","hash":"71ef4b5b22a63d567e48f76ccfaacc79ee40e7bc","modified":1694163346000},{"_id":"themes/keep/source/css/layout/_partial/comment/waline.styl","hash":"c125cadea4680ec3f08aa32ddabe3b2fed935dbe","modified":1694163346000},{"_id":"themes/keep/source/font/css/fontawesome.min.css","hash":"f2c5219fb9f58c2baee6dbd965741975cbc8ae71","modified":1694163346000},{"_id":"themes/keep/source/font/webfonts/fa-brands-400.woff2","hash":"380bea4e9eb484d835d89cc608f2af7c3179e8a4","modified":1694163346000},{"_id":"themes/keep/source/font/webfonts/fa-brands-400.ttf","hash":"42350ed503d66ae23a9c68d38966f25bc3007319","modified":1694163346000},{"_id":"themes/keep/source/font/webfonts/fa-solid-900.woff2","hash":"a7fca574d24e9ffa5ee0e0589ffe17277ae4ec27","modified":1694163346000},{"_id":"themes/keep/source/font/webfonts/fa-solid-900.ttf","hash":"d2caaf5ce75d0da13ace325e24f7aa7079ef1891","modified":1694163346000},{"_id":"themes/keep/source/images/bg.png","hash":"b1cb6fc85f60685633c43ad5a9bf45d3cbb4c328","modified":1694246903653},{"_id":"source/_posts/å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”ŸäºŒé¢.md","hash":"c83fcc563e8057670e318049576b58fb51c5f476","modified":1694275904898},{"_id":"source/_posts/å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”Ÿä¸€é¢.md","hash":"ec9fd17ebebe5a545886770f8d3a36b96c6cdf18","modified":1694275904903},{"_id":"source/_posts/æœç‹Linuxç ”å‘å®ä¹ ç”Ÿä¸€é¢ .md","hash":"af64c0d52aa78c873a29ee12be1b808f2a5a4121","modified":1694275904893},{"_id":"source/_posts/å“”å“©å“”å“©-SREåå°å®ä¹ ç”Ÿä¸€é¢.md","hash":"835a32947a3a1950c4e3fb1f624ec95a2e01f997","modified":1694275904888},{"_id":"themes/keep/source/images/wechat.jpg","hash":"9f5021a15f62aabc643145768bbd03ab37959f6f","modified":1694275431411},{"_id":"source/_posts/åŸºäºå¤§é‡æ•°æ®çš„åœºæ™¯é¢˜.md","hash":"6df7428aac2cd5e8ef9f1232dd76eafd42bb4e93","modified":1694353318004},{"_id":"source/_posts/JRaft-jepsen-çº¿æ€§ä¸€è‡´æ€§æµ‹è¯•.md","hash":"2c3bca3792d9bd28c70a52a316a9d1aa4bc6d208","modified":1694412079128}],"Category":[],"Data":[],"Page":[{"title":"about","date":"2023-09-09T06:09:03.000Z","comment":true,"mathjax":true,"_content":"\n### ğŸŒ± Basic Information\n- Undergraduate student of GDUT\n- Graduation in 2025 \n- Likes reading, instrumental performance, coding\n\n###  ğŸ”­ About Me\n- Contributor of SOFASTACK/SOFAJRaft\n- Contributor of Apache/RocketMQ\n- Student of OSPP-2023\n\n###  ğŸŒ My interests\n- Distributed System\n- Distributed Consistency Algorithm\n","source":"about/index.md","raw":"---\ntitle: about\ndate: 2023-09-09 14:09:03\ncomment: true\nmathjax: true\n---\n\n### ğŸŒ± Basic Information\n- Undergraduate student of GDUT\n- Graduation in 2025 \n- Likes reading, instrumental performance, coding\n\n###  ğŸ”­ About Me\n- Contributor of SOFASTACK/SOFAJRaft\n- Contributor of Apache/RocketMQ\n- Student of OSPP-2023\n\n###  ğŸŒ My interests\n- Distributed System\n- Distributed Consistency Algorithm\n","updated":"2023-09-09T09:52:38.035Z","path":"about/index.html","_id":"clmbue4se0000ocuna3b8f2xr","comments":1,"layout":"page","content":"<h3 id=\"ğŸŒ±-Basic-Information\"><a href=\"#ğŸŒ±-Basic-Information\" class=\"headerlink\" title=\"ğŸŒ± Basic Information\"></a>ğŸŒ± Basic Information</h3><ul>\n<li>Undergraduate student of GDUT</li>\n<li>Graduation in 2025 </li>\n<li>Likes reading, instrumental performance, coding</li>\n</ul>\n<h3 id=\"ğŸ”­-About-Me\"><a href=\"#ğŸ”­-About-Me\" class=\"headerlink\" title=\"ğŸ”­ About Me\"></a>ğŸ”­ About Me</h3><ul>\n<li>Contributor of SOFASTACK/SOFAJRaft</li>\n<li>Contributor of Apache/RocketMQ</li>\n<li>Student of OSPP-2023</li>\n</ul>\n<h3 id=\"ğŸŒ-My-interests\"><a href=\"#ğŸŒ-My-interests\" class=\"headerlink\" title=\"ğŸŒ My interests\"></a>ğŸŒ My interests</h3><ul>\n<li>Distributed System</li>\n<li>Distributed Consistency Algorithm</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"ğŸŒ±-Basic-Information\"><a href=\"#ğŸŒ±-Basic-Information\" class=\"headerlink\" title=\"ğŸŒ± Basic Information\"></a>ğŸŒ± Basic Information</h3><ul>\n<li>Undergraduate student of GDUT</li>\n<li>Graduation in 2025 </li>\n<li>Likes reading, instrumental performance, coding</li>\n</ul>\n<h3 id=\"ğŸ”­-About-Me\"><a href=\"#ğŸ”­-About-Me\" class=\"headerlink\" title=\"ğŸ”­ About Me\"></a>ğŸ”­ About Me</h3><ul>\n<li>Contributor of SOFASTACK/SOFAJRaft</li>\n<li>Contributor of Apache/RocketMQ</li>\n<li>Student of OSPP-2023</li>\n</ul>\n<h3 id=\"ğŸŒ-My-interests\"><a href=\"#ğŸŒ-My-interests\" class=\"headerlink\" title=\"ğŸŒ My interests\"></a>ğŸŒ My interests</h3><ul>\n<li>Distributed System</li>\n<li>Distributed Consistency Algorithm</li>\n</ul>\n"},{"title":"categories","date":"2023-09-09T09:38:06.000Z","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2023-09-09 17:38:06\n---\n","updated":"2023-09-09T09:38:06.378Z","path":"categories/index.html","comments":1,"layout":"page","_id":"clmbue4sg0001ocun5kjm09zz","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"changelog","date":"2023-09-09T09:38:27.000Z","_content":"","source":"changelog/index.md","raw":"---\ntitle: changelog\ndate: 2023-09-09 17:38:27\n---\n","updated":"2023-09-09T09:38:27.371Z","path":"changelog/index.html","comments":1,"layout":"page","_id":"clmbue4sh0002ocun5gyfeq8a","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"links","date":"2023-09-09T09:37:47.000Z","_content":"","source":"links/index.md","raw":"---\ntitle: links\ndate: 2023-09-09 17:37:47\n---\n","updated":"2023-09-09T09:37:47.428Z","path":"links/index.html","comments":1,"layout":"page","_id":"clmbue4sh0003ocunfni91p0o","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2023-09-09T09:37:55.000Z","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2023-09-09 17:37:55\n---\n","updated":"2023-09-09T09:37:55.375Z","path":"tags/index.html","comments":1,"layout":"page","_id":"clmbue4si0004ocun5cvza67r","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"æœç‹Linuxç ”å‘å®ä¹ ç”Ÿä¸€é¢","date":"2023-09-08T20:14:06.000Z","mathjax":true,"_content":"> **è®°å½•ç¬¬ä¸€æ¬¡é¢è¯•ï¼Œæ²¡æ€ä¹ˆå‡†å¤‡å……åˆ†ã€‚ä¸è¿‡é¢è¯•å®˜äººå¾ˆå¥½ï¼Œå¾ˆæœ‰è€å¿ƒã€‚**\n> **æ•´åœºé¢è¯•æ²¡é—®ä¸šåŠ¡é¡¹ç›®ï¼Œå¼€æºé¡¹ç›®ä¹Ÿåªæ˜¯ç®€å•é—®äº†ä¸€ä¸‹ï¼Œå¯èƒ½å’Œæ‹›çš„å²—ä½æœ‰å…³ã€‚**\n> **é—®äº†linuxã€gitç›¸å…³çš„é—®é¢˜ï¼ŒæŒæ¡ä¸å¤ªç‰¢å›ºã€‚**\n\n**æ—¶é—´ï¼š2023.8.31**   \n**æ—¶é•¿ï¼š40min**\n**ç®—æ³•ï¼š<å±‚åºéå†äºŒå‰æ ‘>**\n**æŠ•é€’ï¼šç‰›å®¢ç½‘**\n\n1. è‡ªæˆ‘ä»‹ç»\n2. é—®äº†ä¸‹å²—ä½æ˜¯åšå•¥çš„ï¼Œé¢è¯•å®˜è¯´è¿ç»´ï¼Œéƒ¨ç½²ç‚¹ä¸œè¥¿å•¥çš„\n3. æ„¿æ„è½¬æ–¹å‘å—?æˆ‘çœ‹ä½ ç®€å†æ˜¯åç«¯å¼€å‘\n4. TCPå’ŒUDPçš„åŒºåˆ«\n5. è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼æœ‰å“ªäº›\n6. linuxæŸ¥çœ‹æ–‡ä»¶çš„å‘½ä»¤ï¼ˆè¯´äº†catï¼Œå¥½åƒè¿˜æœ‰moreï¼Œlessï¼‰\n7. vimä¿®æ”¹æ–‡ä»¶çš„è¿‡ç¨‹ï¼Œæ€æ ·ä¿®æ”¹ï¼Œæ€æ ·ä¿å­˜é€€å‡ºï¼ˆEscï¼šwq!ï¼‰\n8. mysqlé»˜è®¤çš„éš”ç¦»çº§åˆ«\n9. mysqlæœ‰å“ªäº›éš”ç¦»çº§åˆ«\n10. è§£é‡Šä¸‹MVCC\n11. dockerå†…æ€ä¹ˆæŸ¥çœ‹å®¹å™¨å†…æ—¥å¿—\n12. shellè„šæœ¬æœ‰å†™è¿‡å—\n13. gitæš‚å­˜æ˜¯ä»€ä¹ˆå‘½ä»¤ï¼ˆgit stashã€git stash popï¼‰\n14. gitå¦‚ä½•å°†ä»£ç åŒæ—¶ä¸Šä¼ åˆ°å¤šä¸ªè¿œç¨‹ä»“åº“ï¼ˆå¯„ï¼‰\n15. Rocketmqä½ åšäº†ä»€ä¹ˆï¼Œ5.0ç›¸æ¯”4.Xå¤šåšäº†å“ªäº›é€‚é…ï¼Ÿ\n16. JRaftä½ åšäº†ä»€ä¹ˆ\n17. åšå¼€æºæ˜¯å…´è¶£è¿˜æ˜¯ä¸ºäº†æ‰¾å·¥ä½œ\n18. æ€ä¹ˆç†è§£cap\n19. ä»Šåæƒ³å¾€ä»€ä¹ˆæ–¹å‘å‘å±•\n20. æ€ä¹ˆç†è§£äº‘åŸç”Ÿ\n21. å¹³æ—¶æ˜¯æ€ä¹ˆå­¦ä¹ æ–°çŸ¥è¯†çš„\n\nç®—æ³•ï¼šäºŒå‰æ ‘å±‚åºéå†ï¼ˆå¯„ï¼‰è·Ÿé¢è¯•å®˜è¯´ç®—æ³•æ²¡å’‹å‡†å¤‡ï¼Œå°±è¯´äº†æ€è·¯ï¼ˆé€’å½’dfsï¼‰\nåé—®ï¼šä¹‹åå­¦ä¹ æœ‰å“ªäº›å»ºè®®ï¼šæ·±åº¦å’Œå¹¿åº¦","source":"_posts/æœç‹Linuxç ”å‘å®ä¹ ç”Ÿä¸€é¢ .md","raw":"---\ntitle: æœç‹Linuxç ”å‘å®ä¹ ç”Ÿä¸€é¢\ndate: 2023-09-09 04:14:06\ntags: é¢ç»\nmathjax: true\n---\n> **è®°å½•ç¬¬ä¸€æ¬¡é¢è¯•ï¼Œæ²¡æ€ä¹ˆå‡†å¤‡å……åˆ†ã€‚ä¸è¿‡é¢è¯•å®˜äººå¾ˆå¥½ï¼Œå¾ˆæœ‰è€å¿ƒã€‚**\n> **æ•´åœºé¢è¯•æ²¡é—®ä¸šåŠ¡é¡¹ç›®ï¼Œå¼€æºé¡¹ç›®ä¹Ÿåªæ˜¯ç®€å•é—®äº†ä¸€ä¸‹ï¼Œå¯èƒ½å’Œæ‹›çš„å²—ä½æœ‰å…³ã€‚**\n> **é—®äº†linuxã€gitç›¸å…³çš„é—®é¢˜ï¼ŒæŒæ¡ä¸å¤ªç‰¢å›ºã€‚**\n\n**æ—¶é—´ï¼š2023.8.31**   \n**æ—¶é•¿ï¼š40min**\n**ç®—æ³•ï¼š<å±‚åºéå†äºŒå‰æ ‘>**\n**æŠ•é€’ï¼šç‰›å®¢ç½‘**\n\n1. è‡ªæˆ‘ä»‹ç»\n2. é—®äº†ä¸‹å²—ä½æ˜¯åšå•¥çš„ï¼Œé¢è¯•å®˜è¯´è¿ç»´ï¼Œéƒ¨ç½²ç‚¹ä¸œè¥¿å•¥çš„\n3. æ„¿æ„è½¬æ–¹å‘å—?æˆ‘çœ‹ä½ ç®€å†æ˜¯åç«¯å¼€å‘\n4. TCPå’ŒUDPçš„åŒºåˆ«\n5. è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼æœ‰å“ªäº›\n6. linuxæŸ¥çœ‹æ–‡ä»¶çš„å‘½ä»¤ï¼ˆè¯´äº†catï¼Œå¥½åƒè¿˜æœ‰moreï¼Œlessï¼‰\n7. vimä¿®æ”¹æ–‡ä»¶çš„è¿‡ç¨‹ï¼Œæ€æ ·ä¿®æ”¹ï¼Œæ€æ ·ä¿å­˜é€€å‡ºï¼ˆEscï¼šwq!ï¼‰\n8. mysqlé»˜è®¤çš„éš”ç¦»çº§åˆ«\n9. mysqlæœ‰å“ªäº›éš”ç¦»çº§åˆ«\n10. è§£é‡Šä¸‹MVCC\n11. dockerå†…æ€ä¹ˆæŸ¥çœ‹å®¹å™¨å†…æ—¥å¿—\n12. shellè„šæœ¬æœ‰å†™è¿‡å—\n13. gitæš‚å­˜æ˜¯ä»€ä¹ˆå‘½ä»¤ï¼ˆgit stashã€git stash popï¼‰\n14. gitå¦‚ä½•å°†ä»£ç åŒæ—¶ä¸Šä¼ åˆ°å¤šä¸ªè¿œç¨‹ä»“åº“ï¼ˆå¯„ï¼‰\n15. Rocketmqä½ åšäº†ä»€ä¹ˆï¼Œ5.0ç›¸æ¯”4.Xå¤šåšäº†å“ªäº›é€‚é…ï¼Ÿ\n16. JRaftä½ åšäº†ä»€ä¹ˆ\n17. åšå¼€æºæ˜¯å…´è¶£è¿˜æ˜¯ä¸ºäº†æ‰¾å·¥ä½œ\n18. æ€ä¹ˆç†è§£cap\n19. ä»Šåæƒ³å¾€ä»€ä¹ˆæ–¹å‘å‘å±•\n20. æ€ä¹ˆç†è§£äº‘åŸç”Ÿ\n21. å¹³æ—¶æ˜¯æ€ä¹ˆå­¦ä¹ æ–°çŸ¥è¯†çš„\n\nç®—æ³•ï¼šäºŒå‰æ ‘å±‚åºéå†ï¼ˆå¯„ï¼‰è·Ÿé¢è¯•å®˜è¯´ç®—æ³•æ²¡å’‹å‡†å¤‡ï¼Œå°±è¯´äº†æ€è·¯ï¼ˆé€’å½’dfsï¼‰\nåé—®ï¼šä¹‹åå­¦ä¹ æœ‰å“ªäº›å»ºè®®ï¼šæ·±åº¦å’Œå¹¿åº¦","slug":"æœç‹Linuxç ”å‘å®ä¹ ç”Ÿä¸€é¢ ","published":1,"updated":"2023-09-09T16:11:44.893Z","_id":"clmbv15gk0007ocun9eomcuam","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p><strong>è®°å½•ç¬¬ä¸€æ¬¡é¢è¯•ï¼Œæ²¡æ€ä¹ˆå‡†å¤‡å……åˆ†ã€‚ä¸è¿‡é¢è¯•å®˜äººå¾ˆå¥½ï¼Œå¾ˆæœ‰è€å¿ƒã€‚</strong><br>\n<strong>æ•´åœºé¢è¯•æ²¡é—®ä¸šåŠ¡é¡¹ç›®ï¼Œå¼€æºé¡¹ç›®ä¹Ÿåªæ˜¯ç®€å•é—®äº†ä¸€ä¸‹ï¼Œå¯èƒ½å’Œæ‹›çš„å²—ä½æœ‰å…³ã€‚</strong><br>\n<strong>é—®äº†linuxã€gitç›¸å…³çš„é—®é¢˜ï¼ŒæŒæ¡ä¸å¤ªç‰¢å›ºã€‚</strong></p>\n</blockquote>\n<p><strong>æ—¶é—´ï¼š2023.8.31</strong><br>\n<strong>æ—¶é•¿ï¼š40min</strong><br>\n<strong>ç®—æ³•ï¼š&lt;å±‚åºéå†äºŒå‰æ ‘&gt;</strong><br>\n<strong>æŠ•é€’ï¼šç‰›å®¢ç½‘</strong></p>\n<ol>\n<li>è‡ªæˆ‘ä»‹ç»</li>\n<li>é—®äº†ä¸‹å²—ä½æ˜¯åšå•¥çš„ï¼Œé¢è¯•å®˜è¯´è¿ç»´ï¼Œéƒ¨ç½²ç‚¹ä¸œè¥¿å•¥çš„</li>\n<li>æ„¿æ„è½¬æ–¹å‘å—?æˆ‘çœ‹ä½ ç®€å†æ˜¯åç«¯å¼€å‘</li>\n<li>TCPå’ŒUDPçš„åŒºåˆ«</li>\n<li>è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼æœ‰å“ªäº›</li>\n<li>linuxæŸ¥çœ‹æ–‡ä»¶çš„å‘½ä»¤ï¼ˆè¯´äº†catï¼Œå¥½åƒè¿˜æœ‰moreï¼Œlessï¼‰</li>\n<li>vimä¿®æ”¹æ–‡ä»¶çš„è¿‡ç¨‹ï¼Œæ€æ ·ä¿®æ”¹ï¼Œæ€æ ·ä¿å­˜é€€å‡ºï¼ˆEscï¼šwq!ï¼‰</li>\n<li>mysqlé»˜è®¤çš„éš”ç¦»çº§åˆ«</li>\n<li>mysqlæœ‰å“ªäº›éš”ç¦»çº§åˆ«</li>\n<li>è§£é‡Šä¸‹MVCC</li>\n<li>dockerå†…æ€ä¹ˆæŸ¥çœ‹å®¹å™¨å†…æ—¥å¿—</li>\n<li>shellè„šæœ¬æœ‰å†™è¿‡å—</li>\n<li>gitæš‚å­˜æ˜¯ä»€ä¹ˆå‘½ä»¤ï¼ˆgit stashã€git stash popï¼‰</li>\n<li>gitå¦‚ä½•å°†ä»£ç åŒæ—¶ä¸Šä¼ åˆ°å¤šä¸ªè¿œç¨‹ä»“åº“ï¼ˆå¯„ï¼‰</li>\n<li>Rocketmqä½ åšäº†ä»€ä¹ˆï¼Œ5.0ç›¸æ¯”4.Xå¤šåšäº†å“ªäº›é€‚é…ï¼Ÿ</li>\n<li>JRaftä½ åšäº†ä»€ä¹ˆ</li>\n<li>åšå¼€æºæ˜¯å…´è¶£è¿˜æ˜¯ä¸ºäº†æ‰¾å·¥ä½œ</li>\n<li>æ€ä¹ˆç†è§£cap</li>\n<li>ä»Šåæƒ³å¾€ä»€ä¹ˆæ–¹å‘å‘å±•</li>\n<li>æ€ä¹ˆç†è§£äº‘åŸç”Ÿ</li>\n<li>å¹³æ—¶æ˜¯æ€ä¹ˆå­¦ä¹ æ–°çŸ¥è¯†çš„</li>\n</ol>\n<p>ç®—æ³•ï¼šäºŒå‰æ ‘å±‚åºéå†ï¼ˆå¯„ï¼‰è·Ÿé¢è¯•å®˜è¯´ç®—æ³•æ²¡å’‹å‡†å¤‡ï¼Œå°±è¯´äº†æ€è·¯ï¼ˆé€’å½’dfsï¼‰<br>\nåé—®ï¼šä¹‹åå­¦ä¹ æœ‰å“ªäº›å»ºè®®ï¼šæ·±åº¦å’Œå¹¿åº¦</p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p><strong>è®°å½•ç¬¬ä¸€æ¬¡é¢è¯•ï¼Œæ²¡æ€ä¹ˆå‡†å¤‡å……åˆ†ã€‚ä¸è¿‡é¢è¯•å®˜äººå¾ˆå¥½ï¼Œå¾ˆæœ‰è€å¿ƒã€‚</strong><br>\n<strong>æ•´åœºé¢è¯•æ²¡é—®ä¸šåŠ¡é¡¹ç›®ï¼Œå¼€æºé¡¹ç›®ä¹Ÿåªæ˜¯ç®€å•é—®äº†ä¸€ä¸‹ï¼Œå¯èƒ½å’Œæ‹›çš„å²—ä½æœ‰å…³ã€‚</strong><br>\n<strong>é—®äº†linuxã€gitç›¸å…³çš„é—®é¢˜ï¼ŒæŒæ¡ä¸å¤ªç‰¢å›ºã€‚</strong></p>\n</blockquote>\n<p><strong>æ—¶é—´ï¼š2023.8.31</strong><br>\n<strong>æ—¶é•¿ï¼š40min</strong><br>\n<strong>ç®—æ³•ï¼š&lt;å±‚åºéå†äºŒå‰æ ‘&gt;</strong><br>\n<strong>æŠ•é€’ï¼šç‰›å®¢ç½‘</strong></p>\n<ol>\n<li>è‡ªæˆ‘ä»‹ç»</li>\n<li>é—®äº†ä¸‹å²—ä½æ˜¯åšå•¥çš„ï¼Œé¢è¯•å®˜è¯´è¿ç»´ï¼Œéƒ¨ç½²ç‚¹ä¸œè¥¿å•¥çš„</li>\n<li>æ„¿æ„è½¬æ–¹å‘å—?æˆ‘çœ‹ä½ ç®€å†æ˜¯åç«¯å¼€å‘</li>\n<li>TCPå’ŒUDPçš„åŒºåˆ«</li>\n<li>è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼æœ‰å“ªäº›</li>\n<li>linuxæŸ¥çœ‹æ–‡ä»¶çš„å‘½ä»¤ï¼ˆè¯´äº†catï¼Œå¥½åƒè¿˜æœ‰moreï¼Œlessï¼‰</li>\n<li>vimä¿®æ”¹æ–‡ä»¶çš„è¿‡ç¨‹ï¼Œæ€æ ·ä¿®æ”¹ï¼Œæ€æ ·ä¿å­˜é€€å‡ºï¼ˆEscï¼šwq!ï¼‰</li>\n<li>mysqlé»˜è®¤çš„éš”ç¦»çº§åˆ«</li>\n<li>mysqlæœ‰å“ªäº›éš”ç¦»çº§åˆ«</li>\n<li>è§£é‡Šä¸‹MVCC</li>\n<li>dockerå†…æ€ä¹ˆæŸ¥çœ‹å®¹å™¨å†…æ—¥å¿—</li>\n<li>shellè„šæœ¬æœ‰å†™è¿‡å—</li>\n<li>gitæš‚å­˜æ˜¯ä»€ä¹ˆå‘½ä»¤ï¼ˆgit stashã€git stash popï¼‰</li>\n<li>gitå¦‚ä½•å°†ä»£ç åŒæ—¶ä¸Šä¼ åˆ°å¤šä¸ªè¿œç¨‹ä»“åº“ï¼ˆå¯„ï¼‰</li>\n<li>Rocketmqä½ åšäº†ä»€ä¹ˆï¼Œ5.0ç›¸æ¯”4.Xå¤šåšäº†å“ªäº›é€‚é…ï¼Ÿ</li>\n<li>JRaftä½ åšäº†ä»€ä¹ˆ</li>\n<li>åšå¼€æºæ˜¯å…´è¶£è¿˜æ˜¯ä¸ºäº†æ‰¾å·¥ä½œ</li>\n<li>æ€ä¹ˆç†è§£cap</li>\n<li>ä»Šåæƒ³å¾€ä»€ä¹ˆæ–¹å‘å‘å±•</li>\n<li>æ€ä¹ˆç†è§£äº‘åŸç”Ÿ</li>\n<li>å¹³æ—¶æ˜¯æ€ä¹ˆå­¦ä¹ æ–°çŸ¥è¯†çš„</li>\n</ol>\n<p>ç®—æ³•ï¼šäºŒå‰æ ‘å±‚åºéå†ï¼ˆå¯„ï¼‰è·Ÿé¢è¯•å®˜è¯´ç®—æ³•æ²¡å’‹å‡†å¤‡ï¼Œå°±è¯´äº†æ€è·¯ï¼ˆé€’å½’dfsï¼‰<br>\nåé—®ï¼šä¹‹åå­¦ä¹ æœ‰å“ªäº›å»ºè®®ï¼šæ·±åº¦å’Œå¹¿åº¦</p>\n","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Sun Sep 10 2023 00:11:44 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)","title":"æœç‹Linuxç ”å‘å®ä¹ ç”Ÿä¸€é¢","path":"2023/09/09/æœç‹Linuxç ”å‘å®ä¹ ç”Ÿä¸€é¢ /","eyeCatchImage":null,"excerpt":null,"date":{"_isAMomentObject":true,"_i":"2023-09-08T20:14:06.000Z","_isUTC":false,"_pf":{"empty":false,"unusedTokens":[],"unusedInput":[],"overflow":-2,"charsLeftOver":0,"nullInput":false,"invalidEra":null,"invalidMonth":null,"invalidFormat":false,"userInvalidated":false,"iso":false,"parsedDateParts":[],"era":null,"meridiem":null,"rfc2822":false,"weekdayMismatch":false},"_locale":{"_calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"_longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"_invalidDate":"Invalid date","_dayOfMonthOrdinalParse":{},"_relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"_months":["January","February","March","April","May","June","July","August","September","October","November","December"],"_monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"_week":{"dow":0,"doy":6},"_weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"_weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"_weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"_meridiemParse":{},"_eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"_abbr":"en","_config":{"calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"invalidDate":"Invalid date","dayOfMonthOrdinalParse":{},"relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"week":{"dow":0,"doy":6},"weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"meridiemParse":{},"eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"abbr":"en"},"_dayOfMonthOrdinalParseLenient":{}},"_d":"2023-09-08T20:14:06.000Z","_isValid":true,"_z":null},"pv":0,"totalPV":0,"categories":"","tags":["é¢ç»"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”Ÿä¸€é¢","date":"2023-09-09T10:10:38.000Z","_content":"\n> é¢è¯•å®˜çš„ç”µè„‘åäº†ï¼Œæ‰“ç”µè¯é€šçŸ¥æˆ‘ç”¨è…¾è®¯ä¼šè®®é¢,è¿˜ä¸€ç›´æŠ±æ­‰ï¼ŒæŒºç¤¼è²Œçš„é¢è¯•å®˜ã€‚\n> ä¸Šæ¥å°±è¯´åªé¢ä¸‰ååˆ†é’Ÿï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯KPIé¢ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹ç´¯ã€‚\n> ç®—æ³•é¢˜æ²¡å†™å®Œï¼Œè¯´äº†æ€è·¯ï¼Œå¤§æ¦‚é¢äº†40minï¼Œèµ°å¾—å¾ˆåŒ†å¿™ï¼Œå¯èƒ½å·¥ä½œå¾ˆå¿™æˆ–è€…è¿˜æœ‰å…¶ä»–äººçº¦é¢ã€‚\n\n**æ—¶é—´ï¼š2023.9.2**\n**ç®—æ³•ï¼šå‰åºéå†äºŒå‰æ ‘+å±‚åºéå†äºŒå‰æ ‘**\n**æ—¶é•¿ï¼š40min**\n**æŠ•é€’ï¼šè„‰è„‰**\n\n**å…«è‚¡ç¯‡**\n\n1. ArrayListå’ŒLinkedListåŒºåˆ«\n2. ä¸ºä»€ä¹ˆLinkedlistçš„æ’å…¥ä¼šæ¯”ArrayListæ’å…¥æ•ˆç‡é«˜\n3. HashMapçŸ¥é“å§ï¼Œä»–æœ‰ä»€ä¹ˆé—®é¢˜ï¼ˆè¯´äº†çº¿ç¨‹ä¸å®‰å…¨ï¼Œå¤´æ’æ­»å¾ªç¯ã€åŒæ—¶putè¦†ç›–ï¼Œå¹¶å‘putã€getå¯èƒ½ä¸ºç©ºï¼‰\n4. è¯´è¯´å¤´æ’æ³•å’Œå°¾æ’æ³•\n5. HashTableä¸ºä»€ä¹ˆçº¿ç¨‹å®‰å…¨\n6. ConcurrentHashMap1.7å’Œ1.8çº¿ç¨‹å®‰å…¨æ€ä¹ˆåšçš„ï¼ˆåˆ†æ®µé”->sychronized+CASï¼‰\n7. JDK1.8é‡Œçš„ sychronized é”æ˜¯é”çš„å“ªé‡Œï¼ˆæ•°ç»„èŠ‚ç‚¹ï¼‰\n\n**ä¸šåŠ¡é¡¹ç›®ç¯‡**\n\n1. tokenæ— æ„Ÿåˆ·æ–°æ€ä¹ˆåšçš„ï¼ˆaccessTokenã€refreshTokenï¼‰\n2. å‰ç«¯æ¯æ¬¡å‘è¯·æ±‚éƒ½è¦å¸¦ä¸¤ä¸ªtokenå—ï¼Ÿ\n3. è¯´è¯´å¸ƒéš†è¿‡æ»¤å™¨çš„ç»“æ„\n4. å¸ƒéš†è¿‡æ»¤å™¨æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼ˆè¯´äº†æŸ¥è¯¢è¯¯åˆ¤ï¼‰\n5. å¸ƒéš†è¿‡æ»¤å™¨çš„å…ƒç´ èƒ½å¦åˆ é™¤ï¼ˆä¸èƒ½ï¼‰\n6. å¸ƒéš†è¿‡æ»¤å™¨å¦‚ä½•æé«˜å®¹é”™èƒ½åŠ›\n7. çŸ¥ä¸çŸ¥é“å¸ƒè°·é¸Ÿè¿‡æ»¤å™¨ï¼Ÿï¼ˆä¸çŸ¥é“ï¼‰\n8. å…¨å±€å¼‚å¸¸å¤„ç†å™¨æ€ä¹ˆåšçš„ï¼Ÿ\n9. æ€ä¹ˆæ²¡ç”¨Springè‡ªå¸¦çš„@ExceptionHandlerï¼Œæˆ‘è¯´å°±æ˜¯ç”¨çš„è¿™ä¸ª\n10. ä½ é¡¹ç›®ç”¨äº†rabbitmqæ˜¯å§ï¼Œä¸ºä»€ä¹ˆå¼ƒç”¨äº†åŸæœ‰çš„è‡ªæ—‹é‡è¯•æœºåˆ¶\n11. mqé™¤äº†è§£è€¦ï¼Œè¿˜æœ‰å“ªäº›åŠŸèƒ½ï¼Ÿï¼ˆå‰Šå³°ã€å¼‚æ­¥ï¼‰\n12. mqæ€ä¹ˆä¿è¯äº‹åŠ¡çš„ï¼ˆæˆ‘è¯´çŸ¥é“äº‹åŠ¡æ¶ˆæ¯ï¼Œä¸è¿‡é¡¹ç›®é‡Œæ²¡ç”¨ï¼Œé¢è¯•å®˜åº”è¯¥æ˜¯æƒ³é—®äº‹åŠ¡æ¶ˆæ¯æ˜¯æ€ä¹ˆå®ç°çš„ï¼‰\n13. å–œæ¬¢çœ‹ä»€ä¹ˆä¹¦ï¼ˆæˆ‘è¯´è®¡ç®—æœºï¼Œæˆ–è€…äººæ–‡ç¤¾ç§‘ï¼Ÿä»–è¯´è¿™ç©æ„å„¿ä¸æ˜¯çœ‹äº†å°±ç¡ç€äº†å—ï¼‰\n14. æœ‰ä»€ä¹ˆçˆ±å¥½\n\n**ç®—æ³•ç¯‡**\n\n1. å‰åºéå†äºŒå‰æ ‘\n2. å±‚åºéå†äºŒå‰æ ‘\n\n**åé—®**\n\n1. é¢è¯•å®˜è¯´æœ¬æ¥æƒ³é—®åé¢ä¸¤ä¸ªå¼€æºé¡¹ç›®çš„ï¼Œæ²¡æ—¶é—´äº†ï¼Œç•™ç»™äºŒé¢çš„é¢è¯•å®˜å»é—®äº†\n2. éƒ¨é—¨æ˜¯å•¥ï¼Œåšä»€ä¹ˆçš„ï¼šä¼ä¸šæ•ˆç‡äººäº‹åå°\n3. æŠ€æœ¯æ ˆæ˜¯å“ªäº›ï¼ˆmysqlã€redisã€esã€rocketmqã€è‡ªç ”ç½‘å…³ã€è‡ªç ”kvå­˜å‚¨ã€k8sé‚£å¥—ï¼‰\n4. ä»Šå¤©è¡¨ç°å’‹æ ·ï¼ˆåŸºç¡€æŒºæ‰å®çš„ï¼Œæ²Ÿé€šä¹Ÿä¸é”™ï¼Œè¿˜æœ‰ä¸¤ä¸ªå¼€æºé¡¹ç›®æ²¡æ—¶é—´é—®äº†ï¼Œç­‰äºŒé¢é¢è¯•å®˜å†é—®å§ï¼‰\n\n\n\n\n","source":"_posts/å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”Ÿä¸€é¢.md","raw":"---\ntitle: å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”Ÿä¸€é¢\ndate: 2023-09-09 18:10:38\ntags: é¢ç»\n---\n\n> é¢è¯•å®˜çš„ç”µè„‘åäº†ï¼Œæ‰“ç”µè¯é€šçŸ¥æˆ‘ç”¨è…¾è®¯ä¼šè®®é¢,è¿˜ä¸€ç›´æŠ±æ­‰ï¼ŒæŒºç¤¼è²Œçš„é¢è¯•å®˜ã€‚\n> ä¸Šæ¥å°±è¯´åªé¢ä¸‰ååˆ†é’Ÿï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯KPIé¢ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹ç´¯ã€‚\n> ç®—æ³•é¢˜æ²¡å†™å®Œï¼Œè¯´äº†æ€è·¯ï¼Œå¤§æ¦‚é¢äº†40minï¼Œèµ°å¾—å¾ˆåŒ†å¿™ï¼Œå¯èƒ½å·¥ä½œå¾ˆå¿™æˆ–è€…è¿˜æœ‰å…¶ä»–äººçº¦é¢ã€‚\n\n**æ—¶é—´ï¼š2023.9.2**\n**ç®—æ³•ï¼šå‰åºéå†äºŒå‰æ ‘+å±‚åºéå†äºŒå‰æ ‘**\n**æ—¶é•¿ï¼š40min**\n**æŠ•é€’ï¼šè„‰è„‰**\n\n**å…«è‚¡ç¯‡**\n\n1. ArrayListå’ŒLinkedListåŒºåˆ«\n2. ä¸ºä»€ä¹ˆLinkedlistçš„æ’å…¥ä¼šæ¯”ArrayListæ’å…¥æ•ˆç‡é«˜\n3. HashMapçŸ¥é“å§ï¼Œä»–æœ‰ä»€ä¹ˆé—®é¢˜ï¼ˆè¯´äº†çº¿ç¨‹ä¸å®‰å…¨ï¼Œå¤´æ’æ­»å¾ªç¯ã€åŒæ—¶putè¦†ç›–ï¼Œå¹¶å‘putã€getå¯èƒ½ä¸ºç©ºï¼‰\n4. è¯´è¯´å¤´æ’æ³•å’Œå°¾æ’æ³•\n5. HashTableä¸ºä»€ä¹ˆçº¿ç¨‹å®‰å…¨\n6. ConcurrentHashMap1.7å’Œ1.8çº¿ç¨‹å®‰å…¨æ€ä¹ˆåšçš„ï¼ˆåˆ†æ®µé”->sychronized+CASï¼‰\n7. JDK1.8é‡Œçš„ sychronized é”æ˜¯é”çš„å“ªé‡Œï¼ˆæ•°ç»„èŠ‚ç‚¹ï¼‰\n\n**ä¸šåŠ¡é¡¹ç›®ç¯‡**\n\n1. tokenæ— æ„Ÿåˆ·æ–°æ€ä¹ˆåšçš„ï¼ˆaccessTokenã€refreshTokenï¼‰\n2. å‰ç«¯æ¯æ¬¡å‘è¯·æ±‚éƒ½è¦å¸¦ä¸¤ä¸ªtokenå—ï¼Ÿ\n3. è¯´è¯´å¸ƒéš†è¿‡æ»¤å™¨çš„ç»“æ„\n4. å¸ƒéš†è¿‡æ»¤å™¨æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼ˆè¯´äº†æŸ¥è¯¢è¯¯åˆ¤ï¼‰\n5. å¸ƒéš†è¿‡æ»¤å™¨çš„å…ƒç´ èƒ½å¦åˆ é™¤ï¼ˆä¸èƒ½ï¼‰\n6. å¸ƒéš†è¿‡æ»¤å™¨å¦‚ä½•æé«˜å®¹é”™èƒ½åŠ›\n7. çŸ¥ä¸çŸ¥é“å¸ƒè°·é¸Ÿè¿‡æ»¤å™¨ï¼Ÿï¼ˆä¸çŸ¥é“ï¼‰\n8. å…¨å±€å¼‚å¸¸å¤„ç†å™¨æ€ä¹ˆåšçš„ï¼Ÿ\n9. æ€ä¹ˆæ²¡ç”¨Springè‡ªå¸¦çš„@ExceptionHandlerï¼Œæˆ‘è¯´å°±æ˜¯ç”¨çš„è¿™ä¸ª\n10. ä½ é¡¹ç›®ç”¨äº†rabbitmqæ˜¯å§ï¼Œä¸ºä»€ä¹ˆå¼ƒç”¨äº†åŸæœ‰çš„è‡ªæ—‹é‡è¯•æœºåˆ¶\n11. mqé™¤äº†è§£è€¦ï¼Œè¿˜æœ‰å“ªäº›åŠŸèƒ½ï¼Ÿï¼ˆå‰Šå³°ã€å¼‚æ­¥ï¼‰\n12. mqæ€ä¹ˆä¿è¯äº‹åŠ¡çš„ï¼ˆæˆ‘è¯´çŸ¥é“äº‹åŠ¡æ¶ˆæ¯ï¼Œä¸è¿‡é¡¹ç›®é‡Œæ²¡ç”¨ï¼Œé¢è¯•å®˜åº”è¯¥æ˜¯æƒ³é—®äº‹åŠ¡æ¶ˆæ¯æ˜¯æ€ä¹ˆå®ç°çš„ï¼‰\n13. å–œæ¬¢çœ‹ä»€ä¹ˆä¹¦ï¼ˆæˆ‘è¯´è®¡ç®—æœºï¼Œæˆ–è€…äººæ–‡ç¤¾ç§‘ï¼Ÿä»–è¯´è¿™ç©æ„å„¿ä¸æ˜¯çœ‹äº†å°±ç¡ç€äº†å—ï¼‰\n14. æœ‰ä»€ä¹ˆçˆ±å¥½\n\n**ç®—æ³•ç¯‡**\n\n1. å‰åºéå†äºŒå‰æ ‘\n2. å±‚åºéå†äºŒå‰æ ‘\n\n**åé—®**\n\n1. é¢è¯•å®˜è¯´æœ¬æ¥æƒ³é—®åé¢ä¸¤ä¸ªå¼€æºé¡¹ç›®çš„ï¼Œæ²¡æ—¶é—´äº†ï¼Œç•™ç»™äºŒé¢çš„é¢è¯•å®˜å»é—®äº†\n2. éƒ¨é—¨æ˜¯å•¥ï¼Œåšä»€ä¹ˆçš„ï¼šä¼ä¸šæ•ˆç‡äººäº‹åå°\n3. æŠ€æœ¯æ ˆæ˜¯å“ªäº›ï¼ˆmysqlã€redisã€esã€rocketmqã€è‡ªç ”ç½‘å…³ã€è‡ªç ”kvå­˜å‚¨ã€k8sé‚£å¥—ï¼‰\n4. ä»Šå¤©è¡¨ç°å’‹æ ·ï¼ˆåŸºç¡€æŒºæ‰å®çš„ï¼Œæ²Ÿé€šä¹Ÿä¸é”™ï¼Œè¿˜æœ‰ä¸¤ä¸ªå¼€æºé¡¹ç›®æ²¡æ—¶é—´é—®äº†ï¼Œç­‰äºŒé¢é¢è¯•å®˜å†é—®å§ï¼‰\n\n\n\n\n","slug":"å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”Ÿä¸€é¢","published":1,"updated":"2023-09-09T16:11:44.903Z","_id":"clmbyfolp0000x4un13tp70yc","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>é¢è¯•å®˜çš„ç”µè„‘åäº†ï¼Œæ‰“ç”µè¯é€šçŸ¥æˆ‘ç”¨è…¾è®¯ä¼šè®®é¢,è¿˜ä¸€ç›´æŠ±æ­‰ï¼ŒæŒºç¤¼è²Œçš„é¢è¯•å®˜ã€‚<br />\nä¸Šæ¥å°±è¯´åªé¢ä¸‰ååˆ†é’Ÿï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯KPIé¢ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹ç´¯ã€‚<br />\nç®—æ³•é¢˜æ²¡å†™å®Œï¼Œè¯´äº†æ€è·¯ï¼Œå¤§æ¦‚é¢äº†40minï¼Œèµ°å¾—å¾ˆåŒ†å¿™ï¼Œå¯èƒ½å·¥ä½œå¾ˆå¿™æˆ–è€…è¿˜æœ‰å…¶ä»–äººçº¦é¢ã€‚</p>\n</blockquote>\n<p><strong>æ—¶é—´ï¼š2023.9.2</strong><br />\n<strong>ç®—æ³•ï¼šå‰åºéå†äºŒå‰æ ‘+å±‚åºéå†äºŒå‰æ ‘</strong><br />\n<strong>æ—¶é•¿ï¼š40min</strong><br />\n<strong>æŠ•é€’ï¼šè„‰è„‰</strong></p>\n<p><strong>å…«è‚¡ç¯‡</strong></p>\n<ol>\n<li>ArrayListå’ŒLinkedListåŒºåˆ«</li>\n<li>ä¸ºä»€ä¹ˆLinkedlistçš„æ’å…¥ä¼šæ¯”ArrayListæ’å…¥æ•ˆç‡é«˜</li>\n<li>HashMapçŸ¥é“å§ï¼Œä»–æœ‰ä»€ä¹ˆé—®é¢˜ï¼ˆè¯´äº†çº¿ç¨‹ä¸å®‰å…¨ï¼Œå¤´æ’æ­»å¾ªç¯ã€åŒæ—¶putè¦†ç›–ï¼Œå¹¶å‘putã€getå¯èƒ½ä¸ºç©ºï¼‰</li>\n<li>è¯´è¯´å¤´æ’æ³•å’Œå°¾æ’æ³•</li>\n<li>HashTableä¸ºä»€ä¹ˆçº¿ç¨‹å®‰å…¨</li>\n<li>ConcurrentHashMap1.7å’Œ1.8çº¿ç¨‹å®‰å…¨æ€ä¹ˆåšçš„ï¼ˆåˆ†æ®µé”-&gt;sychronized+CASï¼‰</li>\n<li>JDK1.8é‡Œçš„ sychronized é”æ˜¯é”çš„å“ªé‡Œï¼ˆæ•°ç»„èŠ‚ç‚¹ï¼‰</li>\n</ol>\n<p><strong>ä¸šåŠ¡é¡¹ç›®ç¯‡</strong></p>\n<ol>\n<li>tokenæ— æ„Ÿåˆ·æ–°æ€ä¹ˆåšçš„ï¼ˆaccessTokenã€refreshTokenï¼‰</li>\n<li>å‰ç«¯æ¯æ¬¡å‘è¯·æ±‚éƒ½è¦å¸¦ä¸¤ä¸ªtokenå—ï¼Ÿ</li>\n<li>è¯´è¯´å¸ƒéš†è¿‡æ»¤å™¨çš„ç»“æ„</li>\n<li>å¸ƒéš†è¿‡æ»¤å™¨æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼ˆè¯´äº†æŸ¥è¯¢è¯¯åˆ¤ï¼‰</li>\n<li>å¸ƒéš†è¿‡æ»¤å™¨çš„å…ƒç´ èƒ½å¦åˆ é™¤ï¼ˆä¸èƒ½ï¼‰</li>\n<li>å¸ƒéš†è¿‡æ»¤å™¨å¦‚ä½•æé«˜å®¹é”™èƒ½åŠ›</li>\n<li>çŸ¥ä¸çŸ¥é“å¸ƒè°·é¸Ÿè¿‡æ»¤å™¨ï¼Ÿï¼ˆä¸çŸ¥é“ï¼‰</li>\n<li>å…¨å±€å¼‚å¸¸å¤„ç†å™¨æ€ä¹ˆåšçš„ï¼Ÿ</li>\n<li>æ€ä¹ˆæ²¡ç”¨Springè‡ªå¸¦çš„@ExceptionHandlerï¼Œæˆ‘è¯´å°±æ˜¯ç”¨çš„è¿™ä¸ª</li>\n<li>ä½ é¡¹ç›®ç”¨äº†rabbitmqæ˜¯å§ï¼Œä¸ºä»€ä¹ˆå¼ƒç”¨äº†åŸæœ‰çš„è‡ªæ—‹é‡è¯•æœºåˆ¶</li>\n<li>mqé™¤äº†è§£è€¦ï¼Œè¿˜æœ‰å“ªäº›åŠŸèƒ½ï¼Ÿï¼ˆå‰Šå³°ã€å¼‚æ­¥ï¼‰</li>\n<li>mqæ€ä¹ˆä¿è¯äº‹åŠ¡çš„ï¼ˆæˆ‘è¯´çŸ¥é“äº‹åŠ¡æ¶ˆæ¯ï¼Œä¸è¿‡é¡¹ç›®é‡Œæ²¡ç”¨ï¼Œé¢è¯•å®˜åº”è¯¥æ˜¯æƒ³é—®äº‹åŠ¡æ¶ˆæ¯æ˜¯æ€ä¹ˆå®ç°çš„ï¼‰</li>\n<li>å–œæ¬¢çœ‹ä»€ä¹ˆä¹¦ï¼ˆæˆ‘è¯´è®¡ç®—æœºï¼Œæˆ–è€…äººæ–‡ç¤¾ç§‘ï¼Ÿä»–è¯´è¿™ç©æ„å„¿ä¸æ˜¯çœ‹äº†å°±ç¡ç€äº†å—ï¼‰</li>\n<li>æœ‰ä»€ä¹ˆçˆ±å¥½</li>\n</ol>\n<p><strong>ç®—æ³•ç¯‡</strong></p>\n<ol>\n<li>å‰åºéå†äºŒå‰æ ‘</li>\n<li>å±‚åºéå†äºŒå‰æ ‘</li>\n</ol>\n<p><strong>åé—®</strong></p>\n<ol>\n<li>é¢è¯•å®˜è¯´æœ¬æ¥æƒ³é—®åé¢ä¸¤ä¸ªå¼€æºé¡¹ç›®çš„ï¼Œæ²¡æ—¶é—´äº†ï¼Œç•™ç»™äºŒé¢çš„é¢è¯•å®˜å»é—®äº†</li>\n<li>éƒ¨é—¨æ˜¯å•¥ï¼Œåšä»€ä¹ˆçš„ï¼šä¼ä¸šæ•ˆç‡äººäº‹åå°</li>\n<li>æŠ€æœ¯æ ˆæ˜¯å“ªäº›ï¼ˆmysqlã€redisã€esã€rocketmqã€è‡ªç ”ç½‘å…³ã€è‡ªç ”kvå­˜å‚¨ã€k8sé‚£å¥—ï¼‰</li>\n<li>ä»Šå¤©è¡¨ç°å’‹æ ·ï¼ˆåŸºç¡€æŒºæ‰å®çš„ï¼Œæ²Ÿé€šä¹Ÿä¸é”™ï¼Œè¿˜æœ‰ä¸¤ä¸ªå¼€æºé¡¹ç›®æ²¡æ—¶é—´é—®äº†ï¼Œç­‰äºŒé¢é¢è¯•å®˜å†é—®å§ï¼‰</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>é¢è¯•å®˜çš„ç”µè„‘åäº†ï¼Œæ‰“ç”µè¯é€šçŸ¥æˆ‘ç”¨è…¾è®¯ä¼šè®®é¢,è¿˜ä¸€ç›´æŠ±æ­‰ï¼ŒæŒºç¤¼è²Œçš„é¢è¯•å®˜ã€‚<br />\nä¸Šæ¥å°±è¯´åªé¢ä¸‰ååˆ†é’Ÿï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯KPIé¢ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹ç´¯ã€‚<br />\nç®—æ³•é¢˜æ²¡å†™å®Œï¼Œè¯´äº†æ€è·¯ï¼Œå¤§æ¦‚é¢äº†40minï¼Œèµ°å¾—å¾ˆåŒ†å¿™ï¼Œå¯èƒ½å·¥ä½œå¾ˆå¿™æˆ–è€…è¿˜æœ‰å…¶ä»–äººçº¦é¢ã€‚</p>\n</blockquote>\n<p><strong>æ—¶é—´ï¼š2023.9.2</strong><br />\n<strong>ç®—æ³•ï¼šå‰åºéå†äºŒå‰æ ‘+å±‚åºéå†äºŒå‰æ ‘</strong><br />\n<strong>æ—¶é•¿ï¼š40min</strong><br />\n<strong>æŠ•é€’ï¼šè„‰è„‰</strong></p>\n<p><strong>å…«è‚¡ç¯‡</strong></p>\n<ol>\n<li>ArrayListå’ŒLinkedListåŒºåˆ«</li>\n<li>ä¸ºä»€ä¹ˆLinkedlistçš„æ’å…¥ä¼šæ¯”ArrayListæ’å…¥æ•ˆç‡é«˜</li>\n<li>HashMapçŸ¥é“å§ï¼Œä»–æœ‰ä»€ä¹ˆé—®é¢˜ï¼ˆè¯´äº†çº¿ç¨‹ä¸å®‰å…¨ï¼Œå¤´æ’æ­»å¾ªç¯ã€åŒæ—¶putè¦†ç›–ï¼Œå¹¶å‘putã€getå¯èƒ½ä¸ºç©ºï¼‰</li>\n<li>è¯´è¯´å¤´æ’æ³•å’Œå°¾æ’æ³•</li>\n<li>HashTableä¸ºä»€ä¹ˆçº¿ç¨‹å®‰å…¨</li>\n<li>ConcurrentHashMap1.7å’Œ1.8çº¿ç¨‹å®‰å…¨æ€ä¹ˆåšçš„ï¼ˆåˆ†æ®µé”-&gt;sychronized+CASï¼‰</li>\n<li>JDK1.8é‡Œçš„ sychronized é”æ˜¯é”çš„å“ªé‡Œï¼ˆæ•°ç»„èŠ‚ç‚¹ï¼‰</li>\n</ol>\n<p><strong>ä¸šåŠ¡é¡¹ç›®ç¯‡</strong></p>\n<ol>\n<li>tokenæ— æ„Ÿåˆ·æ–°æ€ä¹ˆåšçš„ï¼ˆaccessTokenã€refreshTokenï¼‰</li>\n<li>å‰ç«¯æ¯æ¬¡å‘è¯·æ±‚éƒ½è¦å¸¦ä¸¤ä¸ªtokenå—ï¼Ÿ</li>\n<li>è¯´è¯´å¸ƒéš†è¿‡æ»¤å™¨çš„ç»“æ„</li>\n<li>å¸ƒéš†è¿‡æ»¤å™¨æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼ˆè¯´äº†æŸ¥è¯¢è¯¯åˆ¤ï¼‰</li>\n<li>å¸ƒéš†è¿‡æ»¤å™¨çš„å…ƒç´ èƒ½å¦åˆ é™¤ï¼ˆä¸èƒ½ï¼‰</li>\n<li>å¸ƒéš†è¿‡æ»¤å™¨å¦‚ä½•æé«˜å®¹é”™èƒ½åŠ›</li>\n<li>çŸ¥ä¸çŸ¥é“å¸ƒè°·é¸Ÿè¿‡æ»¤å™¨ï¼Ÿï¼ˆä¸çŸ¥é“ï¼‰</li>\n<li>å…¨å±€å¼‚å¸¸å¤„ç†å™¨æ€ä¹ˆåšçš„ï¼Ÿ</li>\n<li>æ€ä¹ˆæ²¡ç”¨Springè‡ªå¸¦çš„@ExceptionHandlerï¼Œæˆ‘è¯´å°±æ˜¯ç”¨çš„è¿™ä¸ª</li>\n<li>ä½ é¡¹ç›®ç”¨äº†rabbitmqæ˜¯å§ï¼Œä¸ºä»€ä¹ˆå¼ƒç”¨äº†åŸæœ‰çš„è‡ªæ—‹é‡è¯•æœºåˆ¶</li>\n<li>mqé™¤äº†è§£è€¦ï¼Œè¿˜æœ‰å“ªäº›åŠŸèƒ½ï¼Ÿï¼ˆå‰Šå³°ã€å¼‚æ­¥ï¼‰</li>\n<li>mqæ€ä¹ˆä¿è¯äº‹åŠ¡çš„ï¼ˆæˆ‘è¯´çŸ¥é“äº‹åŠ¡æ¶ˆæ¯ï¼Œä¸è¿‡é¡¹ç›®é‡Œæ²¡ç”¨ï¼Œé¢è¯•å®˜åº”è¯¥æ˜¯æƒ³é—®äº‹åŠ¡æ¶ˆæ¯æ˜¯æ€ä¹ˆå®ç°çš„ï¼‰</li>\n<li>å–œæ¬¢çœ‹ä»€ä¹ˆä¹¦ï¼ˆæˆ‘è¯´è®¡ç®—æœºï¼Œæˆ–è€…äººæ–‡ç¤¾ç§‘ï¼Ÿä»–è¯´è¿™ç©æ„å„¿ä¸æ˜¯çœ‹äº†å°±ç¡ç€äº†å—ï¼‰</li>\n<li>æœ‰ä»€ä¹ˆçˆ±å¥½</li>\n</ol>\n<p><strong>ç®—æ³•ç¯‡</strong></p>\n<ol>\n<li>å‰åºéå†äºŒå‰æ ‘</li>\n<li>å±‚åºéå†äºŒå‰æ ‘</li>\n</ol>\n<p><strong>åé—®</strong></p>\n<ol>\n<li>é¢è¯•å®˜è¯´æœ¬æ¥æƒ³é—®åé¢ä¸¤ä¸ªå¼€æºé¡¹ç›®çš„ï¼Œæ²¡æ—¶é—´äº†ï¼Œç•™ç»™äºŒé¢çš„é¢è¯•å®˜å»é—®äº†</li>\n<li>éƒ¨é—¨æ˜¯å•¥ï¼Œåšä»€ä¹ˆçš„ï¼šä¼ä¸šæ•ˆç‡äººäº‹åå°</li>\n<li>æŠ€æœ¯æ ˆæ˜¯å“ªäº›ï¼ˆmysqlã€redisã€esã€rocketmqã€è‡ªç ”ç½‘å…³ã€è‡ªç ”kvå­˜å‚¨ã€k8sé‚£å¥—ï¼‰</li>\n<li>ä»Šå¤©è¡¨ç°å’‹æ ·ï¼ˆåŸºç¡€æŒºæ‰å®çš„ï¼Œæ²Ÿé€šä¹Ÿä¸é”™ï¼Œè¿˜æœ‰ä¸¤ä¸ªå¼€æºé¡¹ç›®æ²¡æ—¶é—´é—®äº†ï¼Œç­‰äºŒé¢é¢è¯•å®˜å†é—®å§ï¼‰</li>\n</ol>\n","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Sun Sep 10 2023 00:11:44 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)","title":"å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”Ÿä¸€é¢","path":"2023/09/09/å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”Ÿä¸€é¢/","eyeCatchImage":null,"excerpt":null,"date":{"_isAMomentObject":true,"_i":"2023-09-09T10:10:38.000Z","_isUTC":false,"_pf":{"empty":false,"unusedTokens":[],"unusedInput":[],"overflow":-2,"charsLeftOver":0,"nullInput":false,"invalidEra":null,"invalidMonth":null,"invalidFormat":false,"userInvalidated":false,"iso":false,"parsedDateParts":[],"era":null,"meridiem":null,"rfc2822":false,"weekdayMismatch":false},"_locale":{"_calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"_longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"_invalidDate":"Invalid date","_dayOfMonthOrdinalParse":{},"_relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"_months":["January","February","March","April","May","June","July","August","September","October","November","December"],"_monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"_week":{"dow":0,"doy":6},"_weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"_weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"_weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"_meridiemParse":{},"_eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"_abbr":"en","_config":{"calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"invalidDate":"Invalid date","dayOfMonthOrdinalParse":{},"relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"week":{"dow":0,"doy":6},"weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"meridiemParse":{},"eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"abbr":"en"},"_dayOfMonthOrdinalParseLenient":{}},"_d":"2023-09-09T10:10:38.000Z","_isValid":true,"_z":null},"pv":0,"totalPV":0,"categories":"","tags":["é¢ç»"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”ŸäºŒé¢","date":"2023-09-09T10:11:46.000Z","_content":"> æˆ‘æå‰å‡ åˆ†é’Ÿè¿›å»çš„æ—¶å€™ï¼Œé¢è¯•å®˜å·²ç»åˆ°äº†ï¼ŒæŒºç§¯æçš„ä¸€ä¸ªé¢è¯•å®˜ã€‚\n> ä¸‹åˆåˆšé¢å®Œbç«™ä¸€é¢ï¼Œå¤´è¿˜æœ‰ç‚¹æ˜ã€‚\n> äºŒé¢é¢è¯•å®˜å¾ˆniceï¼Œä¸Šæ¥ä¹Ÿæ˜¯è¯´åªé¢30minï¼Œä¸çŸ¥é“æ˜¯ä¼ ç»Ÿè¿˜æ˜¯KPI\n> é—®çš„é—®é¢˜ç‰¹åˆ«çµæ´»ï¼ŒåŸºæœ¬æ²¡æœ‰é—®å…«è‚¡å•¥çš„ã€‚\n\n\n**æ—¶é—´ï¼š2023.9.4 17:30**\n**æ—¶é•¿ï¼š50min**\n**ç®—æ³•ï¼šæ— æ‰‹æ’•**\n**æŠ•é€’ï¼šè„‰è„‰**\n\n**æ‹·æ‰“ï¼š**\n\n1. ä¸€é¢è‡ªæˆ‘è¯„ä»·æ€ä¹ˆæ ·ï¼Ÿ\n2. è§‰å¾—ä¸€é¢é¢è¯•å®˜æ€ä¹ˆæ ·ï¼Ÿæˆ‘è¯´ç‰¹åˆ«å’Œè”¼å¯äº²\n3. ä¸ºä»€ä¹ˆä¼šæƒ³åšå¼€æºï¼Œè¯´è¯´åšå¼€æºçš„å¥‘æœºï¼ˆå¹æ°´...ï¼‰\n4. å¦‚æœå°çº¢ä¹¦å†…éƒ¨éœ€è¦åšä¸€ä¸ªstarterï¼Œä½ ä¼šä»å“ªäº›æ–¹é¢å»è€ƒè™‘ã€è®¾è®¡\n5. Rocketmqå»¶è¿Ÿæ¶ˆæ¯åº•å±‚æ˜¯æ€ä¹ˆè®¾è®¡çš„ï¼ˆæäº†å»¶è¿Ÿçº§åˆ«ï¼Œä¿®æ”¹topicä¸ºSCHEDULE_TOPIC_XXXXï¼‰\n6. é‚£ä½ è¯´è¯´ScheduleMessageServiceæ€ä¹ˆæ‹‰å»¶æ—¶æ¶ˆæ¯çš„ï¼ˆå¿˜äº†ï¼‰\n7. mysqlçš„æŸ¥è¯¢èƒ½åšå“ªäº›ä¼˜åŒ–ï¼ˆè¯´äº†ç´¢å¼•ã€é¿å…å›è¡¨ï¼‰ç„¶åå–Šåœ\n8. çŸ¥é“å“ªäº›ä¸­é—´ä»¶ç”¨åˆ°äº†raftç®—æ³•ï¼ˆç­”äº†etcdï¼ŒTiKVï¼Œrocketmqï¼Œkafkaï¼Œnacosï¼‰\n9. é—®æˆ‘ç®—æ³•åˆ·å¾—å’‹æ ·äº†ï¼Œé—®æˆ‘ä¼šä¸ä¼šæ¥é›¨æ°´ï¼ˆäººå‚»äº†ï¼‰\n10. å­¦æ ¡é‚£äº›è¯¾å’‹åŠ\n11. æ‰‹é‡Œæœ‰ä¸æœ‰å…¶ä»–offerï¼Œä½ æ„¿æ„æ¥ä¸Šæµ·å—ï¼Ÿ\n\n**åœºæ™¯é¢˜ï¼š**\n\n1. åè¿‡é«˜é“å§ï¼Œæœ‰æŠ¢è¿‡ç¥¨å—ã€‚ä½ è¯´è¯´æŠ¢ç¥¨ä¼šæœ‰å“ªäº›æƒ…å†µï¼Ÿï¼ˆå¤šä¸ªçº¿ç¨‹åŒæ—¶è¯»ä½™ç¥¨ä¸º1ï¼Œå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œè¦åŠ é”ï¼‰\n2. é‚£ä½ è¯´çš„æ˜¯ä¸€ç§æƒ…å†µï¼Œè¿˜æœ‰å…¶ä»–æƒ…å†µå—ï¼Ÿï¼ˆè¯»çš„ç¼“å­˜ï¼Œmysqlå’Œredisæ•°æ®ä¸ä¸€è‡´ï¼‰\n3. é‚£å¯¹äºæ•°æ®ä¸ä¸€è‡´æˆ‘ä»¬ä¸€èˆ¬æ€ä¹ˆå¤„ç†ï¼Ÿ\n4. ç°åœ¨æˆ‘ä»¬æ¥ç»™12306æŠ¢ç¥¨ç³»ç»Ÿè®¾è®¡ä¸€ä¸ªç¼“å­˜ï¼Œkvå­˜ä»€ä¹ˆï¼Ÿ\n\né¢è¯•å®˜ä¸€ç›´åœ¨å¼•å¯¼æˆ‘ï¼ŒèŠ±äº†å¤§æ¦‚åå¤šåˆ†é’Ÿã€‚ç­”å¾—ä¸æ˜¯å¾ˆå¥½ã€‚\n**åé—®+èŠå¤©ï¼š**\n\n1. ä»Šå¤©çš„é¢è¯•è¯„ä»·å’‹æ ·\n2. éƒ¨é—¨æ˜¯åšä»€ä¹ˆçš„\n3. é¢è¯•å®˜æ‚¨æ€ä¹ˆçœ‹åŸºæ¶å’Œä¸šåŠ¡ï¼ˆé¢è¯•å®˜å¯¹è¿™ä¸ªè¯é¢˜å¥½åƒå¾ˆæ„Ÿå…´è¶£ï¼ŒèŠäº†å¾ˆä¹…ï¼‰\n\n","source":"_posts/å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”ŸäºŒé¢.md","raw":"---\ntitle: å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”ŸäºŒé¢\ndate: 2023-09-09 18:11:46\ntags: é¢ç»\n---\n> æˆ‘æå‰å‡ åˆ†é’Ÿè¿›å»çš„æ—¶å€™ï¼Œé¢è¯•å®˜å·²ç»åˆ°äº†ï¼ŒæŒºç§¯æçš„ä¸€ä¸ªé¢è¯•å®˜ã€‚\n> ä¸‹åˆåˆšé¢å®Œbç«™ä¸€é¢ï¼Œå¤´è¿˜æœ‰ç‚¹æ˜ã€‚\n> äºŒé¢é¢è¯•å®˜å¾ˆniceï¼Œä¸Šæ¥ä¹Ÿæ˜¯è¯´åªé¢30minï¼Œä¸çŸ¥é“æ˜¯ä¼ ç»Ÿè¿˜æ˜¯KPI\n> é—®çš„é—®é¢˜ç‰¹åˆ«çµæ´»ï¼ŒåŸºæœ¬æ²¡æœ‰é—®å…«è‚¡å•¥çš„ã€‚\n\n\n**æ—¶é—´ï¼š2023.9.4 17:30**\n**æ—¶é•¿ï¼š50min**\n**ç®—æ³•ï¼šæ— æ‰‹æ’•**\n**æŠ•é€’ï¼šè„‰è„‰**\n\n**æ‹·æ‰“ï¼š**\n\n1. ä¸€é¢è‡ªæˆ‘è¯„ä»·æ€ä¹ˆæ ·ï¼Ÿ\n2. è§‰å¾—ä¸€é¢é¢è¯•å®˜æ€ä¹ˆæ ·ï¼Ÿæˆ‘è¯´ç‰¹åˆ«å’Œè”¼å¯äº²\n3. ä¸ºä»€ä¹ˆä¼šæƒ³åšå¼€æºï¼Œè¯´è¯´åšå¼€æºçš„å¥‘æœºï¼ˆå¹æ°´...ï¼‰\n4. å¦‚æœå°çº¢ä¹¦å†…éƒ¨éœ€è¦åšä¸€ä¸ªstarterï¼Œä½ ä¼šä»å“ªäº›æ–¹é¢å»è€ƒè™‘ã€è®¾è®¡\n5. Rocketmqå»¶è¿Ÿæ¶ˆæ¯åº•å±‚æ˜¯æ€ä¹ˆè®¾è®¡çš„ï¼ˆæäº†å»¶è¿Ÿçº§åˆ«ï¼Œä¿®æ”¹topicä¸ºSCHEDULE_TOPIC_XXXXï¼‰\n6. é‚£ä½ è¯´è¯´ScheduleMessageServiceæ€ä¹ˆæ‹‰å»¶æ—¶æ¶ˆæ¯çš„ï¼ˆå¿˜äº†ï¼‰\n7. mysqlçš„æŸ¥è¯¢èƒ½åšå“ªäº›ä¼˜åŒ–ï¼ˆè¯´äº†ç´¢å¼•ã€é¿å…å›è¡¨ï¼‰ç„¶åå–Šåœ\n8. çŸ¥é“å“ªäº›ä¸­é—´ä»¶ç”¨åˆ°äº†raftç®—æ³•ï¼ˆç­”äº†etcdï¼ŒTiKVï¼Œrocketmqï¼Œkafkaï¼Œnacosï¼‰\n9. é—®æˆ‘ç®—æ³•åˆ·å¾—å’‹æ ·äº†ï¼Œé—®æˆ‘ä¼šä¸ä¼šæ¥é›¨æ°´ï¼ˆäººå‚»äº†ï¼‰\n10. å­¦æ ¡é‚£äº›è¯¾å’‹åŠ\n11. æ‰‹é‡Œæœ‰ä¸æœ‰å…¶ä»–offerï¼Œä½ æ„¿æ„æ¥ä¸Šæµ·å—ï¼Ÿ\n\n**åœºæ™¯é¢˜ï¼š**\n\n1. åè¿‡é«˜é“å§ï¼Œæœ‰æŠ¢è¿‡ç¥¨å—ã€‚ä½ è¯´è¯´æŠ¢ç¥¨ä¼šæœ‰å“ªäº›æƒ…å†µï¼Ÿï¼ˆå¤šä¸ªçº¿ç¨‹åŒæ—¶è¯»ä½™ç¥¨ä¸º1ï¼Œå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œè¦åŠ é”ï¼‰\n2. é‚£ä½ è¯´çš„æ˜¯ä¸€ç§æƒ…å†µï¼Œè¿˜æœ‰å…¶ä»–æƒ…å†µå—ï¼Ÿï¼ˆè¯»çš„ç¼“å­˜ï¼Œmysqlå’Œredisæ•°æ®ä¸ä¸€è‡´ï¼‰\n3. é‚£å¯¹äºæ•°æ®ä¸ä¸€è‡´æˆ‘ä»¬ä¸€èˆ¬æ€ä¹ˆå¤„ç†ï¼Ÿ\n4. ç°åœ¨æˆ‘ä»¬æ¥ç»™12306æŠ¢ç¥¨ç³»ç»Ÿè®¾è®¡ä¸€ä¸ªç¼“å­˜ï¼Œkvå­˜ä»€ä¹ˆï¼Ÿ\n\né¢è¯•å®˜ä¸€ç›´åœ¨å¼•å¯¼æˆ‘ï¼ŒèŠ±äº†å¤§æ¦‚åå¤šåˆ†é’Ÿã€‚ç­”å¾—ä¸æ˜¯å¾ˆå¥½ã€‚\n**åé—®+èŠå¤©ï¼š**\n\n1. ä»Šå¤©çš„é¢è¯•è¯„ä»·å’‹æ ·\n2. éƒ¨é—¨æ˜¯åšä»€ä¹ˆçš„\n3. é¢è¯•å®˜æ‚¨æ€ä¹ˆçœ‹åŸºæ¶å’Œä¸šåŠ¡ï¼ˆé¢è¯•å®˜å¯¹è¿™ä¸ªè¯é¢˜å¥½åƒå¾ˆæ„Ÿå…´è¶£ï¼ŒèŠäº†å¾ˆä¹…ï¼‰\n\n","slug":"å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”ŸäºŒé¢","published":1,"updated":"2023-09-09T16:11:44.898Z","_id":"clmbyfolt0001x4unckpn5ti6","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>æˆ‘æå‰å‡ åˆ†é’Ÿè¿›å»çš„æ—¶å€™ï¼Œé¢è¯•å®˜å·²ç»åˆ°äº†ï¼ŒæŒºç§¯æçš„ä¸€ä¸ªé¢è¯•å®˜ã€‚<br />\nä¸‹åˆåˆšé¢å®Œbç«™ä¸€é¢ï¼Œå¤´è¿˜æœ‰ç‚¹æ˜ã€‚<br />\näºŒé¢é¢è¯•å®˜å¾ˆniceï¼Œä¸Šæ¥ä¹Ÿæ˜¯è¯´åªé¢30minï¼Œä¸çŸ¥é“æ˜¯ä¼ ç»Ÿè¿˜æ˜¯KPI<br />\né—®çš„é—®é¢˜ç‰¹åˆ«çµæ´»ï¼ŒåŸºæœ¬æ²¡æœ‰é—®å…«è‚¡å•¥çš„ã€‚</p>\n</blockquote>\n<p><strong>æ—¶é—´ï¼š2023.9.4 17:30</strong><br />\n<strong>æ—¶é•¿ï¼š50min</strong><br />\n<strong>ç®—æ³•ï¼šæ— æ‰‹æ’•</strong><br />\n<strong>æŠ•é€’ï¼šè„‰è„‰</strong></p>\n<p><strong>æ‹·æ‰“ï¼š</strong></p>\n<ol>\n<li>ä¸€é¢è‡ªæˆ‘è¯„ä»·æ€ä¹ˆæ ·ï¼Ÿ</li>\n<li>è§‰å¾—ä¸€é¢é¢è¯•å®˜æ€ä¹ˆæ ·ï¼Ÿæˆ‘è¯´ç‰¹åˆ«å’Œè”¼å¯äº²</li>\n<li>ä¸ºä»€ä¹ˆä¼šæƒ³åšå¼€æºï¼Œè¯´è¯´åšå¼€æºçš„å¥‘æœºï¼ˆå¹æ°´â€¦ï¼‰</li>\n<li>å¦‚æœå°çº¢ä¹¦å†…éƒ¨éœ€è¦åšä¸€ä¸ªstarterï¼Œä½ ä¼šä»å“ªäº›æ–¹é¢å»è€ƒè™‘ã€è®¾è®¡</li>\n<li>Rocketmqå»¶è¿Ÿæ¶ˆæ¯åº•å±‚æ˜¯æ€ä¹ˆè®¾è®¡çš„ï¼ˆæäº†å»¶è¿Ÿçº§åˆ«ï¼Œä¿®æ”¹topicä¸ºSCHEDULE_TOPIC_XXXXï¼‰</li>\n<li>é‚£ä½ è¯´è¯´ScheduleMessageServiceæ€ä¹ˆæ‹‰å»¶æ—¶æ¶ˆæ¯çš„ï¼ˆå¿˜äº†ï¼‰</li>\n<li>mysqlçš„æŸ¥è¯¢èƒ½åšå“ªäº›ä¼˜åŒ–ï¼ˆè¯´äº†ç´¢å¼•ã€é¿å…å›è¡¨ï¼‰ç„¶åå–Šåœ</li>\n<li>çŸ¥é“å“ªäº›ä¸­é—´ä»¶ç”¨åˆ°äº†raftç®—æ³•ï¼ˆç­”äº†etcdï¼ŒTiKVï¼Œrocketmqï¼Œkafkaï¼Œnacosï¼‰</li>\n<li>é—®æˆ‘ç®—æ³•åˆ·å¾—å’‹æ ·äº†ï¼Œé—®æˆ‘ä¼šä¸ä¼šæ¥é›¨æ°´ï¼ˆäººå‚»äº†ï¼‰</li>\n<li>å­¦æ ¡é‚£äº›è¯¾å’‹åŠ</li>\n<li>æ‰‹é‡Œæœ‰ä¸æœ‰å…¶ä»–offerï¼Œä½ æ„¿æ„æ¥ä¸Šæµ·å—ï¼Ÿ</li>\n</ol>\n<p><strong>åœºæ™¯é¢˜ï¼š</strong></p>\n<ol>\n<li>åè¿‡é«˜é“å§ï¼Œæœ‰æŠ¢è¿‡ç¥¨å—ã€‚ä½ è¯´è¯´æŠ¢ç¥¨ä¼šæœ‰å“ªäº›æƒ…å†µï¼Ÿï¼ˆå¤šä¸ªçº¿ç¨‹åŒæ—¶è¯»ä½™ç¥¨ä¸º1ï¼Œå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œè¦åŠ é”ï¼‰</li>\n<li>é‚£ä½ è¯´çš„æ˜¯ä¸€ç§æƒ…å†µï¼Œè¿˜æœ‰å…¶ä»–æƒ…å†µå—ï¼Ÿï¼ˆè¯»çš„ç¼“å­˜ï¼Œmysqlå’Œredisæ•°æ®ä¸ä¸€è‡´ï¼‰</li>\n<li>é‚£å¯¹äºæ•°æ®ä¸ä¸€è‡´æˆ‘ä»¬ä¸€èˆ¬æ€ä¹ˆå¤„ç†ï¼Ÿ</li>\n<li>ç°åœ¨æˆ‘ä»¬æ¥ç»™12306æŠ¢ç¥¨ç³»ç»Ÿè®¾è®¡ä¸€ä¸ªç¼“å­˜ï¼Œkvå­˜ä»€ä¹ˆï¼Ÿ</li>\n</ol>\n<p>é¢è¯•å®˜ä¸€ç›´åœ¨å¼•å¯¼æˆ‘ï¼ŒèŠ±äº†å¤§æ¦‚åå¤šåˆ†é’Ÿã€‚ç­”å¾—ä¸æ˜¯å¾ˆå¥½ã€‚<br />\n<strong>åé—®+èŠå¤©ï¼š</strong></p>\n<ol>\n<li>ä»Šå¤©çš„é¢è¯•è¯„ä»·å’‹æ ·</li>\n<li>éƒ¨é—¨æ˜¯åšä»€ä¹ˆçš„</li>\n<li>é¢è¯•å®˜æ‚¨æ€ä¹ˆçœ‹åŸºæ¶å’Œä¸šåŠ¡ï¼ˆé¢è¯•å®˜å¯¹è¿™ä¸ªè¯é¢˜å¥½åƒå¾ˆæ„Ÿå…´è¶£ï¼ŒèŠäº†å¾ˆä¹…ï¼‰</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>æˆ‘æå‰å‡ åˆ†é’Ÿè¿›å»çš„æ—¶å€™ï¼Œé¢è¯•å®˜å·²ç»åˆ°äº†ï¼ŒæŒºç§¯æçš„ä¸€ä¸ªé¢è¯•å®˜ã€‚<br />\nä¸‹åˆåˆšé¢å®Œbç«™ä¸€é¢ï¼Œå¤´è¿˜æœ‰ç‚¹æ˜ã€‚<br />\näºŒé¢é¢è¯•å®˜å¾ˆniceï¼Œä¸Šæ¥ä¹Ÿæ˜¯è¯´åªé¢30minï¼Œä¸çŸ¥é“æ˜¯ä¼ ç»Ÿè¿˜æ˜¯KPI<br />\né—®çš„é—®é¢˜ç‰¹åˆ«çµæ´»ï¼ŒåŸºæœ¬æ²¡æœ‰é—®å…«è‚¡å•¥çš„ã€‚</p>\n</blockquote>\n<p><strong>æ—¶é—´ï¼š2023.9.4 17:30</strong><br />\n<strong>æ—¶é•¿ï¼š50min</strong><br />\n<strong>ç®—æ³•ï¼šæ— æ‰‹æ’•</strong><br />\n<strong>æŠ•é€’ï¼šè„‰è„‰</strong></p>\n<p><strong>æ‹·æ‰“ï¼š</strong></p>\n<ol>\n<li>ä¸€é¢è‡ªæˆ‘è¯„ä»·æ€ä¹ˆæ ·ï¼Ÿ</li>\n<li>è§‰å¾—ä¸€é¢é¢è¯•å®˜æ€ä¹ˆæ ·ï¼Ÿæˆ‘è¯´ç‰¹åˆ«å’Œè”¼å¯äº²</li>\n<li>ä¸ºä»€ä¹ˆä¼šæƒ³åšå¼€æºï¼Œè¯´è¯´åšå¼€æºçš„å¥‘æœºï¼ˆå¹æ°´â€¦ï¼‰</li>\n<li>å¦‚æœå°çº¢ä¹¦å†…éƒ¨éœ€è¦åšä¸€ä¸ªstarterï¼Œä½ ä¼šä»å“ªäº›æ–¹é¢å»è€ƒè™‘ã€è®¾è®¡</li>\n<li>Rocketmqå»¶è¿Ÿæ¶ˆæ¯åº•å±‚æ˜¯æ€ä¹ˆè®¾è®¡çš„ï¼ˆæäº†å»¶è¿Ÿçº§åˆ«ï¼Œä¿®æ”¹topicä¸ºSCHEDULE_TOPIC_XXXXï¼‰</li>\n<li>é‚£ä½ è¯´è¯´ScheduleMessageServiceæ€ä¹ˆæ‹‰å»¶æ—¶æ¶ˆæ¯çš„ï¼ˆå¿˜äº†ï¼‰</li>\n<li>mysqlçš„æŸ¥è¯¢èƒ½åšå“ªäº›ä¼˜åŒ–ï¼ˆè¯´äº†ç´¢å¼•ã€é¿å…å›è¡¨ï¼‰ç„¶åå–Šåœ</li>\n<li>çŸ¥é“å“ªäº›ä¸­é—´ä»¶ç”¨åˆ°äº†raftç®—æ³•ï¼ˆç­”äº†etcdï¼ŒTiKVï¼Œrocketmqï¼Œkafkaï¼Œnacosï¼‰</li>\n<li>é—®æˆ‘ç®—æ³•åˆ·å¾—å’‹æ ·äº†ï¼Œé—®æˆ‘ä¼šä¸ä¼šæ¥é›¨æ°´ï¼ˆäººå‚»äº†ï¼‰</li>\n<li>å­¦æ ¡é‚£äº›è¯¾å’‹åŠ</li>\n<li>æ‰‹é‡Œæœ‰ä¸æœ‰å…¶ä»–offerï¼Œä½ æ„¿æ„æ¥ä¸Šæµ·å—ï¼Ÿ</li>\n</ol>\n<p><strong>åœºæ™¯é¢˜ï¼š</strong></p>\n<ol>\n<li>åè¿‡é«˜é“å§ï¼Œæœ‰æŠ¢è¿‡ç¥¨å—ã€‚ä½ è¯´è¯´æŠ¢ç¥¨ä¼šæœ‰å“ªäº›æƒ…å†µï¼Ÿï¼ˆå¤šä¸ªçº¿ç¨‹åŒæ—¶è¯»ä½™ç¥¨ä¸º1ï¼Œå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œè¦åŠ é”ï¼‰</li>\n<li>é‚£ä½ è¯´çš„æ˜¯ä¸€ç§æƒ…å†µï¼Œè¿˜æœ‰å…¶ä»–æƒ…å†µå—ï¼Ÿï¼ˆè¯»çš„ç¼“å­˜ï¼Œmysqlå’Œredisæ•°æ®ä¸ä¸€è‡´ï¼‰</li>\n<li>é‚£å¯¹äºæ•°æ®ä¸ä¸€è‡´æˆ‘ä»¬ä¸€èˆ¬æ€ä¹ˆå¤„ç†ï¼Ÿ</li>\n<li>ç°åœ¨æˆ‘ä»¬æ¥ç»™12306æŠ¢ç¥¨ç³»ç»Ÿè®¾è®¡ä¸€ä¸ªç¼“å­˜ï¼Œkvå­˜ä»€ä¹ˆï¼Ÿ</li>\n</ol>\n<p>é¢è¯•å®˜ä¸€ç›´åœ¨å¼•å¯¼æˆ‘ï¼ŒèŠ±äº†å¤§æ¦‚åå¤šåˆ†é’Ÿã€‚ç­”å¾—ä¸æ˜¯å¾ˆå¥½ã€‚<br />\n<strong>åé—®+èŠå¤©ï¼š</strong></p>\n<ol>\n<li>ä»Šå¤©çš„é¢è¯•è¯„ä»·å’‹æ ·</li>\n<li>éƒ¨é—¨æ˜¯åšä»€ä¹ˆçš„</li>\n<li>é¢è¯•å®˜æ‚¨æ€ä¹ˆçœ‹åŸºæ¶å’Œä¸šåŠ¡ï¼ˆé¢è¯•å®˜å¯¹è¿™ä¸ªè¯é¢˜å¥½åƒå¾ˆæ„Ÿå…´è¶£ï¼ŒèŠäº†å¾ˆä¹…ï¼‰</li>\n</ol>\n","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Sun Sep 10 2023 00:11:44 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)","title":"å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”ŸäºŒé¢","path":"2023/09/09/å°çº¢ä¹¦ä¼ä¸šæ•ˆç‡éƒ¨é—¨åå°å®ä¹ ç”ŸäºŒé¢/","eyeCatchImage":null,"excerpt":null,"date":{"_isAMomentObject":true,"_i":"2023-09-09T10:11:46.000Z","_isUTC":false,"_pf":{"empty":false,"unusedTokens":[],"unusedInput":[],"overflow":-2,"charsLeftOver":0,"nullInput":false,"invalidEra":null,"invalidMonth":null,"invalidFormat":false,"userInvalidated":false,"iso":false,"parsedDateParts":[],"era":null,"meridiem":null,"rfc2822":false,"weekdayMismatch":false},"_locale":{"_calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"_longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"_invalidDate":"Invalid date","_dayOfMonthOrdinalParse":{},"_relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"_months":["January","February","March","April","May","June","July","August","September","October","November","December"],"_monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"_week":{"dow":0,"doy":6},"_weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"_weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"_weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"_meridiemParse":{},"_eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"_abbr":"en","_config":{"calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"invalidDate":"Invalid date","dayOfMonthOrdinalParse":{},"relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"week":{"dow":0,"doy":6},"weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"meridiemParse":{},"eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"abbr":"en"},"_dayOfMonthOrdinalParseLenient":{}},"_d":"2023-09-09T10:11:46.000Z","_isValid":true,"_z":null},"pv":0,"totalPV":0,"categories":"","tags":["é¢ç»"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"å“”å“©å“”å“©-SREåå°å®ä¹ ç”Ÿä¸€é¢","date":"2023-09-09T11:42:06.000Z","_content":"\n> **ç¬¬ä¸€æ¬¡ä½“éªŒç”µè¯é¢ï¼Œæœ‰ç‚¹å°ç´§å¼ ã€‚å¸ˆå…„å®ä¹ çš„éƒ¨é—¨ï¼Œä»–mentoré¢çš„ä¸€é¢ï¼Œå‡†å¤‡ä¸æ˜¯ç‰¹åˆ«å……åˆ†ï¼Œè¢«ç‹ ç‹ æ‹·æ‰“äº†ã€‚**\n\n**æ—¶é—´ï¼š2023/9/4 15:00**\n**æ—¶é•¿ï¼š40min**\n**ç®—æ³•ï¼šç”µè¯é¢ï¼Œæ— ç®—æ³•**\n**æŠ•é€’ï¼šboosç›´è˜**\n**ç”µè¯é¢40minï¼Œæ— æ‰‹æ’•ç®—æ³•**\n\n1. è‡ªæˆ‘ä»‹ç»\n2. å·¥ä½œå®¤åšçš„ä»€ä¹ˆé¡¹ç›®ï¼Œåˆ†ä¸ºå“ªäº›æ¨¡å—\n3. CICDç®€å•è¯´è¯´\n4. æ“ä½œç³»ç»Ÿç†Ÿæ‚‰å—\n5. rocketmq5.0 SDK ç›¸æ¯” 4.x åšäº†å“ªäº›ä¼˜åŒ–ï¼Œä»€ä¹ˆåŒºåˆ«\n6. è¯´è¯´rocketmqæ•´åˆspringçš„è¿‡ç¨‹ï¼Œä¸ºä»€ä¹ˆè¦é‡æ–°æ•´åˆä¸€å¥—å‡ºæ¥\n7. å¯¹æ¯”å…¶ä»–æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸åŒmqåˆ†åˆ«ç”¨åœ¨ä»€ä¹ˆåœºæ™¯\n8. è¯´è¯´raftç®—æ³•\n9. æœ‰äº†è§£å…¶ä»–ä¸€è‡´æ€§ç®—æ³•å—\n10. leaderé€‰ä¸¾è¿‡ç¨‹\n11. spliteVoteæ€ä¹ˆå¤„ç†çš„\n12. é€‰ä¸¾æŠ•ç¥¨çš„æ¡ä»¶\n13. è¯´è¯´é›†åˆï¼ˆå§å•¦å§å•¦ï¼ŒArrayListï¼ŒLinkedListï¼ŒHashMapï¼ŒHashTableï¼ŒConcurrenHashMapï¼‰\n14. çº¿ç¨‹çš„çŠ¶æ€\n15. çº¿ç¨‹çŠ¶æ€çš„è½¬æ¢ï¼ˆå¯„ï¼‰\n16. futureè·å¾—ç»“æœæ€ä¹ˆå¤„ç†ï¼ˆæ²¡å¤ªæ‡‚é—®çš„å•¥ï¼‰ï¼ˆå¯„ï¼‰\n17. JUCå·¥å…·ç±»ç”¨è¿‡å“ªäº›\n18. jvmå®æˆ˜è¿‡å—ï¼Œè¯´è¯´å‘½ä»¤ï¼ˆæ²¡è°ƒä¼˜è¿‡ï¼‰ï¼ˆå¯„ï¼‰\n19. jstackå¯ä»¥æŸ¥çœ‹å“ªäº›å‚æ•°ï¼ˆå¯„ï¼‰\n20. è‡ªå·±å†™ä»£ç æœ‰é‡åˆ°å“ªäº›é—®é¢˜ï¼ˆè¯´äº†gitpodä¸Šç”¨dockerè·‘å¤šä¸ªubuntuå®¹å™¨ï¼Œç”¨jepsenæ¡†æ¶æ£€éªŒraftä¸€è‡´æ€§ï¼‰\n21. ä½ ä»¬ç»å¸¸ç”¨dockerå—\n22. é•œåƒæ€ä¹ˆç®¡ç†çš„\n23. å®ä¹ çš„è¯ï¼Œå­¦æ ¡çš„è¯¾æ€ä¹ˆåŠ\n\n**åé—®ï¼š**\n\n1. éƒ¨é—¨å¹²ä»€ä¹ˆçš„\n2. é¢è¯•è¯„ä»·ï¼šåŸºç¡€å…«è‚¡è¿˜ä¸å¤ªç†Ÿï¼Œæ¡£æ¡ˆç³»ç»Ÿæ²¡æœ‰è®²æ¸…æ¥šï¼Œä¸å¤ªç†Ÿï¼Œå¯¹å¼€æºé¡¹ç›®è¿˜æŒºç†Ÿæ‚‰çš„ã€‚","source":"_posts/å“”å“©å“”å“©-SREåå°å®ä¹ ç”Ÿä¸€é¢.md","raw":"---\ntitle: å“”å“©å“”å“©-SREåå°å®ä¹ ç”Ÿä¸€é¢\ndate: 2023-09-09 19:42:06\ntags: é¢ç»\n---\n\n> **ç¬¬ä¸€æ¬¡ä½“éªŒç”µè¯é¢ï¼Œæœ‰ç‚¹å°ç´§å¼ ã€‚å¸ˆå…„å®ä¹ çš„éƒ¨é—¨ï¼Œä»–mentoré¢çš„ä¸€é¢ï¼Œå‡†å¤‡ä¸æ˜¯ç‰¹åˆ«å……åˆ†ï¼Œè¢«ç‹ ç‹ æ‹·æ‰“äº†ã€‚**\n\n**æ—¶é—´ï¼š2023/9/4 15:00**\n**æ—¶é•¿ï¼š40min**\n**ç®—æ³•ï¼šç”µè¯é¢ï¼Œæ— ç®—æ³•**\n**æŠ•é€’ï¼šboosç›´è˜**\n**ç”µè¯é¢40minï¼Œæ— æ‰‹æ’•ç®—æ³•**\n\n1. è‡ªæˆ‘ä»‹ç»\n2. å·¥ä½œå®¤åšçš„ä»€ä¹ˆé¡¹ç›®ï¼Œåˆ†ä¸ºå“ªäº›æ¨¡å—\n3. CICDç®€å•è¯´è¯´\n4. æ“ä½œç³»ç»Ÿç†Ÿæ‚‰å—\n5. rocketmq5.0 SDK ç›¸æ¯” 4.x åšäº†å“ªäº›ä¼˜åŒ–ï¼Œä»€ä¹ˆåŒºåˆ«\n6. è¯´è¯´rocketmqæ•´åˆspringçš„è¿‡ç¨‹ï¼Œä¸ºä»€ä¹ˆè¦é‡æ–°æ•´åˆä¸€å¥—å‡ºæ¥\n7. å¯¹æ¯”å…¶ä»–æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸åŒmqåˆ†åˆ«ç”¨åœ¨ä»€ä¹ˆåœºæ™¯\n8. è¯´è¯´raftç®—æ³•\n9. æœ‰äº†è§£å…¶ä»–ä¸€è‡´æ€§ç®—æ³•å—\n10. leaderé€‰ä¸¾è¿‡ç¨‹\n11. spliteVoteæ€ä¹ˆå¤„ç†çš„\n12. é€‰ä¸¾æŠ•ç¥¨çš„æ¡ä»¶\n13. è¯´è¯´é›†åˆï¼ˆå§å•¦å§å•¦ï¼ŒArrayListï¼ŒLinkedListï¼ŒHashMapï¼ŒHashTableï¼ŒConcurrenHashMapï¼‰\n14. çº¿ç¨‹çš„çŠ¶æ€\n15. çº¿ç¨‹çŠ¶æ€çš„è½¬æ¢ï¼ˆå¯„ï¼‰\n16. futureè·å¾—ç»“æœæ€ä¹ˆå¤„ç†ï¼ˆæ²¡å¤ªæ‡‚é—®çš„å•¥ï¼‰ï¼ˆå¯„ï¼‰\n17. JUCå·¥å…·ç±»ç”¨è¿‡å“ªäº›\n18. jvmå®æˆ˜è¿‡å—ï¼Œè¯´è¯´å‘½ä»¤ï¼ˆæ²¡è°ƒä¼˜è¿‡ï¼‰ï¼ˆå¯„ï¼‰\n19. jstackå¯ä»¥æŸ¥çœ‹å“ªäº›å‚æ•°ï¼ˆå¯„ï¼‰\n20. è‡ªå·±å†™ä»£ç æœ‰é‡åˆ°å“ªäº›é—®é¢˜ï¼ˆè¯´äº†gitpodä¸Šç”¨dockerè·‘å¤šä¸ªubuntuå®¹å™¨ï¼Œç”¨jepsenæ¡†æ¶æ£€éªŒraftä¸€è‡´æ€§ï¼‰\n21. ä½ ä»¬ç»å¸¸ç”¨dockerå—\n22. é•œåƒæ€ä¹ˆç®¡ç†çš„\n23. å®ä¹ çš„è¯ï¼Œå­¦æ ¡çš„è¯¾æ€ä¹ˆåŠ\n\n**åé—®ï¼š**\n\n1. éƒ¨é—¨å¹²ä»€ä¹ˆçš„\n2. é¢è¯•è¯„ä»·ï¼šåŸºç¡€å…«è‚¡è¿˜ä¸å¤ªç†Ÿï¼Œæ¡£æ¡ˆç³»ç»Ÿæ²¡æœ‰è®²æ¸…æ¥šï¼Œä¸å¤ªç†Ÿï¼Œå¯¹å¼€æºé¡¹ç›®è¿˜æŒºç†Ÿæ‚‰çš„ã€‚","slug":"å“”å“©å“”å“©-SREåå°å®ä¹ ç”Ÿä¸€é¢","published":1,"updated":"2023-09-09T16:11:44.888Z","_id":"clmbymkoc0000p4un5vbo9wf7","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p><strong>ç¬¬ä¸€æ¬¡ä½“éªŒç”µè¯é¢ï¼Œæœ‰ç‚¹å°ç´§å¼ ã€‚å¸ˆå…„å®ä¹ çš„éƒ¨é—¨ï¼Œä»–mentoré¢çš„ä¸€é¢ï¼Œå‡†å¤‡ä¸æ˜¯ç‰¹åˆ«å……åˆ†ï¼Œè¢«ç‹ ç‹ æ‹·æ‰“äº†ã€‚</strong></p>\n</blockquote>\n<p><strong>æ—¶é—´ï¼š2023/9/4 15:00</strong><br />\n<strong>æ—¶é•¿ï¼š40min</strong><br />\n<strong>ç®—æ³•ï¼šç”µè¯é¢ï¼Œæ— ç®—æ³•</strong><br />\n<strong>æŠ•é€’ï¼šboosç›´è˜</strong><br />\n<strong>ç”µè¯é¢40minï¼Œæ— æ‰‹æ’•ç®—æ³•</strong></p>\n<ol>\n<li>è‡ªæˆ‘ä»‹ç»</li>\n<li>å·¥ä½œå®¤åšçš„ä»€ä¹ˆé¡¹ç›®ï¼Œåˆ†ä¸ºå“ªäº›æ¨¡å—</li>\n<li>CICDç®€å•è¯´è¯´</li>\n<li>æ“ä½œç³»ç»Ÿç†Ÿæ‚‰å—</li>\n<li>rocketmq5.0 SDK ç›¸æ¯” 4.x åšäº†å“ªäº›ä¼˜åŒ–ï¼Œä»€ä¹ˆåŒºåˆ«</li>\n<li>è¯´è¯´rocketmqæ•´åˆspringçš„è¿‡ç¨‹ï¼Œä¸ºä»€ä¹ˆè¦é‡æ–°æ•´åˆä¸€å¥—å‡ºæ¥</li>\n<li>å¯¹æ¯”å…¶ä»–æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸åŒmqåˆ†åˆ«ç”¨åœ¨ä»€ä¹ˆåœºæ™¯</li>\n<li>è¯´è¯´raftç®—æ³•</li>\n<li>æœ‰äº†è§£å…¶ä»–ä¸€è‡´æ€§ç®—æ³•å—</li>\n<li>leaderé€‰ä¸¾è¿‡ç¨‹</li>\n<li>spliteVoteæ€ä¹ˆå¤„ç†çš„</li>\n<li>é€‰ä¸¾æŠ•ç¥¨çš„æ¡ä»¶</li>\n<li>è¯´è¯´é›†åˆï¼ˆå§å•¦å§å•¦ï¼ŒArrayListï¼ŒLinkedListï¼ŒHashMapï¼ŒHashTableï¼ŒConcurrenHashMapï¼‰</li>\n<li>çº¿ç¨‹çš„çŠ¶æ€</li>\n<li>çº¿ç¨‹çŠ¶æ€çš„è½¬æ¢ï¼ˆå¯„ï¼‰</li>\n<li>futureè·å¾—ç»“æœæ€ä¹ˆå¤„ç†ï¼ˆæ²¡å¤ªæ‡‚é—®çš„å•¥ï¼‰ï¼ˆå¯„ï¼‰</li>\n<li>JUCå·¥å…·ç±»ç”¨è¿‡å“ªäº›</li>\n<li>jvmå®æˆ˜è¿‡å—ï¼Œè¯´è¯´å‘½ä»¤ï¼ˆæ²¡è°ƒä¼˜è¿‡ï¼‰ï¼ˆå¯„ï¼‰</li>\n<li>jstackå¯ä»¥æŸ¥çœ‹å“ªäº›å‚æ•°ï¼ˆå¯„ï¼‰</li>\n<li>è‡ªå·±å†™ä»£ç æœ‰é‡åˆ°å“ªäº›é—®é¢˜ï¼ˆè¯´äº†gitpodä¸Šç”¨dockerè·‘å¤šä¸ªubuntuå®¹å™¨ï¼Œç”¨jepsenæ¡†æ¶æ£€éªŒraftä¸€è‡´æ€§ï¼‰</li>\n<li>ä½ ä»¬ç»å¸¸ç”¨dockerå—</li>\n<li>é•œåƒæ€ä¹ˆç®¡ç†çš„</li>\n<li>å®ä¹ çš„è¯ï¼Œå­¦æ ¡çš„è¯¾æ€ä¹ˆåŠ</li>\n</ol>\n<p><strong>åé—®ï¼š</strong></p>\n<ol>\n<li>éƒ¨é—¨å¹²ä»€ä¹ˆçš„</li>\n<li>é¢è¯•è¯„ä»·ï¼šåŸºç¡€å…«è‚¡è¿˜ä¸å¤ªç†Ÿï¼Œæ¡£æ¡ˆç³»ç»Ÿæ²¡æœ‰è®²æ¸…æ¥šï¼Œä¸å¤ªç†Ÿï¼Œå¯¹å¼€æºé¡¹ç›®è¿˜æŒºç†Ÿæ‚‰çš„ã€‚</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p><strong>ç¬¬ä¸€æ¬¡ä½“éªŒç”µè¯é¢ï¼Œæœ‰ç‚¹å°ç´§å¼ ã€‚å¸ˆå…„å®ä¹ çš„éƒ¨é—¨ï¼Œä»–mentoré¢çš„ä¸€é¢ï¼Œå‡†å¤‡ä¸æ˜¯ç‰¹åˆ«å……åˆ†ï¼Œè¢«ç‹ ç‹ æ‹·æ‰“äº†ã€‚</strong></p>\n</blockquote>\n<p><strong>æ—¶é—´ï¼š2023/9/4 15:00</strong><br />\n<strong>æ—¶é•¿ï¼š40min</strong><br />\n<strong>ç®—æ³•ï¼šç”µè¯é¢ï¼Œæ— ç®—æ³•</strong><br />\n<strong>æŠ•é€’ï¼šboosç›´è˜</strong><br />\n<strong>ç”µè¯é¢40minï¼Œæ— æ‰‹æ’•ç®—æ³•</strong></p>\n<ol>\n<li>è‡ªæˆ‘ä»‹ç»</li>\n<li>å·¥ä½œå®¤åšçš„ä»€ä¹ˆé¡¹ç›®ï¼Œåˆ†ä¸ºå“ªäº›æ¨¡å—</li>\n<li>CICDç®€å•è¯´è¯´</li>\n<li>æ“ä½œç³»ç»Ÿç†Ÿæ‚‰å—</li>\n<li>rocketmq5.0 SDK ç›¸æ¯” 4.x åšäº†å“ªäº›ä¼˜åŒ–ï¼Œä»€ä¹ˆåŒºåˆ«</li>\n<li>è¯´è¯´rocketmqæ•´åˆspringçš„è¿‡ç¨‹ï¼Œä¸ºä»€ä¹ˆè¦é‡æ–°æ•´åˆä¸€å¥—å‡ºæ¥</li>\n<li>å¯¹æ¯”å…¶ä»–æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸åŒmqåˆ†åˆ«ç”¨åœ¨ä»€ä¹ˆåœºæ™¯</li>\n<li>è¯´è¯´raftç®—æ³•</li>\n<li>æœ‰äº†è§£å…¶ä»–ä¸€è‡´æ€§ç®—æ³•å—</li>\n<li>leaderé€‰ä¸¾è¿‡ç¨‹</li>\n<li>spliteVoteæ€ä¹ˆå¤„ç†çš„</li>\n<li>é€‰ä¸¾æŠ•ç¥¨çš„æ¡ä»¶</li>\n<li>è¯´è¯´é›†åˆï¼ˆå§å•¦å§å•¦ï¼ŒArrayListï¼ŒLinkedListï¼ŒHashMapï¼ŒHashTableï¼ŒConcurrenHashMapï¼‰</li>\n<li>çº¿ç¨‹çš„çŠ¶æ€</li>\n<li>çº¿ç¨‹çŠ¶æ€çš„è½¬æ¢ï¼ˆå¯„ï¼‰</li>\n<li>futureè·å¾—ç»“æœæ€ä¹ˆå¤„ç†ï¼ˆæ²¡å¤ªæ‡‚é—®çš„å•¥ï¼‰ï¼ˆå¯„ï¼‰</li>\n<li>JUCå·¥å…·ç±»ç”¨è¿‡å“ªäº›</li>\n<li>jvmå®æˆ˜è¿‡å—ï¼Œè¯´è¯´å‘½ä»¤ï¼ˆæ²¡è°ƒä¼˜è¿‡ï¼‰ï¼ˆå¯„ï¼‰</li>\n<li>jstackå¯ä»¥æŸ¥çœ‹å“ªäº›å‚æ•°ï¼ˆå¯„ï¼‰</li>\n<li>è‡ªå·±å†™ä»£ç æœ‰é‡åˆ°å“ªäº›é—®é¢˜ï¼ˆè¯´äº†gitpodä¸Šç”¨dockerè·‘å¤šä¸ªubuntuå®¹å™¨ï¼Œç”¨jepsenæ¡†æ¶æ£€éªŒraftä¸€è‡´æ€§ï¼‰</li>\n<li>ä½ ä»¬ç»å¸¸ç”¨dockerå—</li>\n<li>é•œåƒæ€ä¹ˆç®¡ç†çš„</li>\n<li>å®ä¹ çš„è¯ï¼Œå­¦æ ¡çš„è¯¾æ€ä¹ˆåŠ</li>\n</ol>\n<p><strong>åé—®ï¼š</strong></p>\n<ol>\n<li>éƒ¨é—¨å¹²ä»€ä¹ˆçš„</li>\n<li>é¢è¯•è¯„ä»·ï¼šåŸºç¡€å…«è‚¡è¿˜ä¸å¤ªç†Ÿï¼Œæ¡£æ¡ˆç³»ç»Ÿæ²¡æœ‰è®²æ¸…æ¥šï¼Œä¸å¤ªç†Ÿï¼Œå¯¹å¼€æºé¡¹ç›®è¿˜æŒºç†Ÿæ‚‰çš„ã€‚</li>\n</ol>\n","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Sun Sep 10 2023 00:11:44 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)","title":"å“”å“©å“”å“©-SREåå°å®ä¹ ç”Ÿä¸€é¢","path":"2023/09/09/å“”å“©å“”å“©-SREåå°å®ä¹ ç”Ÿä¸€é¢/","eyeCatchImage":null,"excerpt":null,"date":{"_isAMomentObject":true,"_i":"2023-09-09T11:42:06.000Z","_isUTC":false,"_pf":{"empty":false,"unusedTokens":[],"unusedInput":[],"overflow":-2,"charsLeftOver":0,"nullInput":false,"invalidEra":null,"invalidMonth":null,"invalidFormat":false,"userInvalidated":false,"iso":false,"parsedDateParts":[],"era":null,"meridiem":null,"rfc2822":false,"weekdayMismatch":false},"_locale":{"_calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"_longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"_invalidDate":"Invalid date","_dayOfMonthOrdinalParse":{},"_relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"_months":["January","February","March","April","May","June","July","August","September","October","November","December"],"_monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"_week":{"dow":0,"doy":6},"_weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"_weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"_weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"_meridiemParse":{},"_eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"_abbr":"en","_config":{"calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"invalidDate":"Invalid date","dayOfMonthOrdinalParse":{},"relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"week":{"dow":0,"doy":6},"weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"meridiemParse":{},"eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"abbr":"en"},"_dayOfMonthOrdinalParseLenient":{}},"_d":"2023-09-09T11:42:06.000Z","_isValid":true,"_z":null},"pv":0,"totalPV":0,"categories":"","tags":["é¢ç»"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"åŸºäºå¤§é‡æ•°æ®çš„åœºæ™¯é¢˜","date":"2023-09-10T13:01:55.000Z","_content":"# å¤§æ–‡ä»¶æ‰¾top100å•è¯\n\n### é¢˜ç›®æè¿°\n\næœ‰ä¸€ä¸ª 1GB å¤§å°çš„æ–‡ä»¶ï¼Œæ–‡ä»¶é‡Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªè¯ï¼Œæ¯ä¸ªè¯çš„å¤§å°ä¸è¶…è¿‡ 16Bï¼Œå†…å­˜å¤§å°é™åˆ¶æ˜¯ 1MBï¼Œè¦æ±‚è¿”å›é¢‘æ•°æœ€é«˜çš„ 100 ä¸ªè¯(Top 100)ã€‚\n\n### è§£ç­”æ€è·¯\n\nç”±äºå†…å­˜é™åˆ¶ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥å°†å¤§æ–‡ä»¶æ‰€æœ‰è¯ä¸€æ¬¡æ€§å…¨éƒ¨è¯»åˆ°å†…å­˜ä¸­ã€‚å› æ­¤ï¼Œå¯ä»¥é‡‡ç”¨åˆ†æ²»ç­–ç•¥ï¼ŒæŠŠä¸€ä¸ªå¤§æ–‡ä»¶åˆ†è§£æˆnä¸ªå°æ–‡ä»¶ï¼Œä¿è¯æ¯ä¸ªæ–‡ä»¶çš„å¤§å°å°äºå†…å­˜å¤§å°é™åˆ¶ï¼ˆè¿™é‡Œæ˜¯ 1MBï¼‰ï¼Œè¿›è€Œç›´æ¥å°†å•ä¸ªå°æ–‡ä»¶è¯»å–åˆ°å†…å­˜ä¸­è¿›è¡Œå¤„ç†ã€‚\n**1.å“ˆå¸Œå–ä½™**\néå†å¤§æ–‡ä»¶çš„æ¯ä¸ªè¯wordï¼Œæ‰§è¡Œ hash(word) % 5000ï¼Œå°†ç»“æœä¸º i çš„è¯å­˜æ”¾åˆ°æ–‡ä»¶ file(i) ä¸­ã€‚éå†ç»“æŸåï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° 5000 ä¸ªå°æ–‡ä»¶ã€‚æ¯ä¸ªå°æ–‡ä»¶çš„å¤§å°ä¸º 200KB å·¦å³ã€‚å¦‚æœæœ‰çš„å°æ–‡ä»¶å¤§å°ä»ç„¶è¶…è¿‡ 1MBï¼Œåˆ™é‡‡ç”¨åŒæ ·çš„æ–¹å¼ç»§ç»­è¿›è¡Œåˆ†è§£ï¼Œç›´åˆ°å°äº1MBä¸ºæ­¢ã€‚\n**2.ç»Ÿè®¡é¢‘æ•°**\næ¥ç€ç»Ÿè®¡æ¯ä¸ªå°æ–‡ä»¶ file(i) ä¸­å‡ºç°é¢‘æ•°æœ€é«˜çš„ 100 ä¸ªè¯ã€‚æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ HashMap æ¥å®ç°ã€‚å…¶ä¸­ key ä¸ºè¯ï¼Œvalue ä¸ºè¯¥è¯å‡ºç°çš„é¢‘ç‡ã€‚éå†åˆ°è¯ wordï¼Œå¦‚æœåœ¨ HashMap ä¸­ä¸å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œ map.put(word, 1)ï¼›å­˜åœ¨åˆ™æ‰§è¡Œ map.put(word, map.get(word)+1)ï¼Œå°†è¯¥è¯é¢‘æ•°åŠ  1ã€‚\n**3.å°é¡¶å †**\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ„å»ºä¸€ä¸ªå †å¤§å°ä¸º 100 çš„å°é¡¶å †æ¥æ‰¾å‡ºæ‰€æœ‰è¯ä¸­å‡ºç°é¢‘æ•°æœ€é«˜çš„ top100 å•è¯ã€‚ä¾æ¬¡éå†æ¯ä¸ªå°æ–‡ä»¶ï¼Œéå†åˆ°çš„è¯çš„å‡ºç°æ¬¡æ•°å¤§äºå †é¡¶è¯çš„å‡ºç°æ¬¡æ•°ï¼Œåˆ™ç”¨æ–°è¯æ›¿æ¢å †é¡¶çš„è¯ï¼Œç„¶åè°ƒæ•´å°é¡¶å †ï¼Œéå†ç»“æŸåï¼Œå°é¡¶å †ä¸Šçš„è¯å°±æ˜¯å‡ºç°é¢‘æ•°æœ€é«˜çš„ 100 ä¸ªè¯ã€‚\n**æ³¨æ„ï¼šè‹¥è¦æ‰¾å‡ºæœ€å°top100å•è¯çš„æ–¹æ³•ä¸ä¹‹ç±»ä¼¼ï¼Œå°†å°é¡¶å †æ¢æˆå¤§é¡¶å †å°±å¥½äº†ã€‚**\nä»åºåˆ—ä¸­é€‰æ‹©æœ€å¤§çš„Kä¸ªæ•°ï¼ˆå°é¡¶å †ï¼‰\nåœºæ™¯ï¼šè¦é€‰æ‹©æœ€å¤§çš„kä¸ªæ•°ã€‚\nåšæ³•ï¼šã€æ„é€ å°é¡¶å †ï¼ˆä¸€å…±kä¸ªæ•°ï¼‰ã€‘ï¼Œæ¯æ¬¡å–æ•°ç»„ä¸­å‰©ä½™æ•°ä¸ ã€å †é¡¶çš„å…ƒç´ ï¼ˆkä¸ªæ•°ä¸­çš„æœ€å°å€¼ï¼‰ã€‘ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å¤§ï¼Œåˆ™åˆ é™¤å †é¡¶å…ƒç´ ï¼Œå¹¶æ·»åŠ è¿™ä¸ªæ–°æ•°åˆ°å †ä¸­ï¼›å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å°ï¼Œåˆ™è¯´æ˜å †ä¸­çš„kä¸ªæ•°éƒ½æ¯”æ–°æ•°å¤§ï¼Œæ‰€ä»¥ä¸ç”¨è¿›è¡Œæ“ä½œã€‚\nä»åºåˆ—ä¸­é€‰æ‹©æœ€å°çš„Kä¸ªæ•°ï¼ˆå¤§é¡¶å †ï¼‰\nåœºæ™¯ï¼šè¦é€‰æ‹©æœ€å°çš„kä¸ªæ•°ã€‚\nåšæ³•ï¼šã€æ„é€ å¤§é¡¶å †ï¼ˆä¸€å…±kä¸ªæ•°ï¼‰ã€‘ï¼Œæ¯æ¬¡å–æ•°ç»„ä¸­å‰©ä½™æ•°ä¸ ã€å †é¡¶çš„å…ƒç´ ï¼ˆkä¸ªæ•°ä¸­çš„æœ€å¤§æ•°ï¼‰ã€‘ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å°ï¼Œåˆ™åˆ é™¤å †é¡¶å…ƒç´ ï¼Œå¹¶æ·»åŠ è¿™ä¸ªæ–°æ•°åˆ°å †ä¸­ï¼›å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å¤§ï¼Œåˆ™è¯´æ˜å †ä¸­çš„kä¸ªæ•°éƒ½æ¯”æ–°æ•°å°ï¼Œæ‰€ä»¥ä¸ç”¨è¿›è¡Œæ“ä½œã€‚\n\n# å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸é‡å¤æ•´æ•°\n\n### é¢˜ç›®æè¿°\n\nåœ¨ 2 äº¿ä¸ªæ•´æ•°ä¸­æ‰¾å‡ºä¸é‡å¤çš„æ•´æ•°ï¼Œå†…å­˜ä¸è¶³ä»¥å®¹çº³è¿™ 2 äº¿ä¸ªæ•´æ•°ã€‚\n\n### è§£ç­”æ€è·¯\n\n#### æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•\n\nä¸å‰é¢çš„é¢˜ç›®æ–¹æ³•ç±»ä¼¼ï¼Œå…ˆå°† 2 äº¿ä¸ªæ•°åˆ’åˆ†åˆ°å¤šä¸ªå°æ–‡ä»¶ï¼Œç”¨ HashSet/HashMap æ‰¾å‡ºæ¯ä¸ªå°æ–‡ä»¶ä¸­ä¸é‡å¤çš„æ•´æ•°ï¼Œå†åˆå¹¶æ¯ä¸ªå­ç»“æœï¼Œå³ä¸ºæœ€ç»ˆç»“æœã€‚\n\n#### æ–¹æ³•äºŒï¼šä½å›¾æ³•\n\nä½å›¾æ˜¯æŒ‡ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª bit æ¥æ ‡è®°æŸä¸ªå…ƒç´ å¯¹åº”çš„å€¼ã€‚å› ä¸ºä½¿ç”¨bitä¸ºå•ä½å­˜å‚¨æ•°æ®å¯ä»¥å¤§å¤§èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚å¯¹äºè¿™é“é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ 2 ä¸ª bit æ¥è¡¨ç¤ºå„ä¸ªæ•°å­—çš„çŠ¶æ€ï¼š\n\n- 00 è¡¨ç¤ºè¿™ä¸ªæ•°å­—æ²¡å‡ºç°è¿‡ï¼›\n- 01 è¡¨ç¤ºè¿™ä¸ªæ•°å­—å‡ºç°è¿‡ä¸€æ¬¡ï¼ˆå³ä¸ºé¢˜ç›®æ‰€æ‰¾çš„ä¸é‡å¤æ•´æ•°ï¼‰ï¼›\n- 10 è¡¨ç¤ºè¿™ä¸ªæ•°å­—å‡ºç°äº†å¤šæ¬¡ã€‚\n\n2äº¿ä¸ªæ•´æ•°ï¼Œæ€»å…±æ‰€éœ€å†…å­˜ä¸º\n\n```shell\n2äº¿ä¸ªæ•´æ•° Ã— 4å­—èŠ‚/æ•´æ•° = 8äº¿å­—èŠ‚\n1GBç­‰äº1,073,741,824å­—èŠ‚ã€‚\n8äº¿å­—èŠ‚ Ã· 1,073,741,824å­—èŠ‚/GB â‰ˆ 0.745GBã€‚\n```\n\nå› æ­¤ï¼Œå¦‚æœæ­¤é¢˜çš„å¯ç”¨å†…å­˜è¶…è¿‡ 0.75GB æ—¶ï¼Œå¯ä»¥é‡‡ç”¨ä½å›¾æ³•ã€‚\néå† 2 äº¿ä¸ªæ•´æ•°ï¼ŒæŸ¥çœ‹ä½å›¾ä¸­å¯¹åº”çš„ä½ï¼Œå¦‚æœæ˜¯ 00ï¼Œåˆ™å˜ä¸º 01ï¼Œå¦‚æœæ˜¯ 01 åˆ™å˜ä¸º 10ï¼Œå¦‚æœæ˜¯ 10 åˆ™ä¿æŒä¸å˜ã€‚éå†ç»“æŸåï¼ŒæŸ¥çœ‹ä½å›¾ï¼ŒæŠŠå¯¹åº”ä½æ˜¯ 01 çš„æ•´æ•°è¾“å‡ºå³å¯ã€‚\n\n# å¤§é‡æ•°æ®ä¸­åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨\n\n### é¢˜ç›®æè¿°\n\nç»™å®š 40 äº¿ä¸ªä¸é‡å¤çš„æ²¡æ’è¿‡åºçš„ unsigned int å‹æ•´æ•°ï¼Œç„¶åå†ç»™å®šä¸€ä¸ªæ•°ï¼Œå¦‚ä½•å¿«é€Ÿåˆ¤æ–­è¿™ä¸ªæ•°æ˜¯å¦åœ¨è¿™ 40 äº¿ä¸ªæ•´æ•°å½“ä¸­ï¼Ÿ\n\n### è§£ç­”æ€è·¯\n\n#### æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•\n\nåˆ†æ²»æ³•è§£å†³ï¼Œä¸å‰é¢ç±»ä¼¼ï¼Œä¸å†èµ˜è¿°ã€‚\n\n#### æ–¹æ³•äºŒï¼šä½å›¾æ³•\n\n40 äº¿ä¸ªä¸é‡å¤æ•´æ•°ï¼Œæˆ‘ä»¬ç”¨ 40 äº¿ä¸ª bit æ¥è¡¨ç¤ºï¼Œåˆå§‹ä½å‡ä¸º 0ï¼Œé‚£ä¹ˆæ€»å…±éœ€è¦å†…å­˜ï¼š4,000,000,000bâ‰ˆ512Mã€‚\næˆ‘ä»¬è¯»å–è¿™ 40 äº¿ä¸ªæ•´æ•°ï¼Œå°†å¯¹åº”çš„ bit è®¾ç½®ä¸º 1ã€‚æ¥ç€è¯»å–è¦æŸ¥è¯¢çš„æ•°ï¼ŒæŸ¥çœ‹ç›¸åº”ä½æ˜¯å¦ä¸º 1ï¼Œå¦‚æœä¸º 1 è¡¨ç¤ºå­˜åœ¨ï¼Œå¦‚æœä¸º 0 è¡¨ç¤ºä¸å­˜åœ¨ã€‚\n\n# å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸­ä½æ•°\n\n### é¢˜ç›®æè¿°\n\nä» 5 äº¿ä¸ªæ•°ä¸­æ‰¾å‡ºä¸­ä½æ•°ã€‚æ•°æ®æ’åºåï¼Œä½ç½®åœ¨æœ€ä¸­é—´çš„æ•°å°±æ˜¯ä¸­ä½æ•°ã€‚å½“æ ·æœ¬æ•°ä¸ºå¥‡æ•°æ—¶ï¼Œä¸­ä½æ•°ä¸º ç¬¬ (N+1)/2 ä¸ªæ•°ï¼›å½“æ ·æœ¬æ•°ä¸ºå¶æ•°æ—¶ï¼Œä¸­ä½æ•°ä¸º ç¬¬ N/2 ä¸ªæ•°ä¸ç¬¬ 1+N/2 ä¸ªæ•°çš„å‡å€¼ã€‚\n\n### è§£ç­”æ€è·¯\n\nå¦‚æœè¿™é“é¢˜æ²¡æœ‰å†…å­˜å¤§å°é™åˆ¶ï¼Œåˆ™å¯ä»¥æŠŠæ‰€æœ‰æ•°è¯»åˆ°å†…å­˜ä¸­æ’åºåæ‰¾å‡ºä¸­ä½æ•°ã€‚ä½†æ˜¯æœ€å¥½çš„æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸º O(NlogN)ã€‚è¿™é‡Œä½¿ç”¨å…¶ä»–æ–¹æ³•ã€‚\n\n#### æ–¹æ³•ä¸€ï¼šåŒå †æ³•\n\nç»´æŠ¤ä¸¤ä¸ªå †ï¼Œä¸€ä¸ªå¤§é¡¶å †ï¼Œä¸€ä¸ªå°é¡¶å †ã€‚å¤§é¡¶å †ä¸­æœ€å¤§çš„æ•°**å°äºç­‰äº**å°é¡¶å †ä¸­æœ€å°çš„æ•°ï¼›ä¿è¯è¿™ä¸¤ä¸ªå †ä¸­çš„å…ƒç´ ä¸ªæ•°çš„å·®ä¸è¶…è¿‡ 1ã€‚\nè‹¥æ•°æ®æ€»æ•°ä¸º**å¶æ•°**ï¼Œå½“è¿™ä¸¤ä¸ªå †å»ºå¥½ä¹‹åï¼Œ**ä¸­ä½æ•°å°±æ˜¯è¿™ä¸¤ä¸ªå †é¡¶å…ƒç´ çš„å¹³å‡å€¼**ã€‚å½“æ•°æ®æ€»æ•°ä¸º**å¥‡æ•°**æ—¶ï¼Œæ ¹æ®ä¸¤ä¸ªå †çš„å¤§å°ï¼Œ**ä¸­ä½æ•°ä¸€å®šåœ¨æ•°æ®å¤šçš„å †çš„å †é¡¶**ã€‚\nä»¥ä¸Šè¿™ç§æ–¹æ³•ï¼Œéœ€è¦æŠŠæ‰€æœ‰æ•°æ®éƒ½åŠ è½½åˆ°å†…å­˜ä¸­ã€‚å½“æ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œå°±ä¸èƒ½è¿™æ ·äº†ï¼Œå› æ­¤ï¼Œè¿™ç§æ–¹æ³•**é€‚ç”¨äºæ•°æ®é‡è¾ƒå°çš„æƒ…å†µ**ã€‚5 äº¿ä¸ªæ•°ï¼Œæ¯ä¸ªæ•°å­—å ç”¨ 4Bï¼Œæ€»å…±éœ€è¦ 2G å†…å­˜ã€‚å¦‚æœå¯ç”¨å†…å­˜ä¸è¶³ 2Gï¼Œå°±ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•äº†ã€‚\n\n#### æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•\n\nåˆ†æ²»æ³•çš„æ€æƒ³æ˜¯æŠŠä¸€ä¸ªå¤§çš„é—®é¢˜é€æ¸è½¬æ¢ä¸ºè§„æ¨¡è¾ƒå°çš„é—®é¢˜æ¥æ±‚è§£ã€‚\né¡ºåºè¯»å–è¿™ 5 äº¿ä¸ªæ•°å­—ï¼Œå¯¹äºè¯»å–åˆ°çš„æ•°å­— numberï¼Œå¦‚æœå®ƒå¯¹åº”çš„äºŒè¿›åˆ¶ä¸­æœ€é«˜ä½ä¸º1ï¼Œåˆ™æŠŠè¿™ä¸ªæ•°å­—å†™åˆ° file(1) ä¸­ï¼Œå¦åˆ™å†™å…¥ file(0) ä¸­ã€‚é€šè¿‡è¿™ä¸€æ­¥ï¼Œå¯ä»¥æŠŠè¿™ 5 äº¿ä¸ªæ•°åˆ’**åˆ†ä¸ºä¸¤éƒ¨åˆ†**ï¼Œè€Œä¸” file(0) ä¸­çš„æ•°éƒ½å¤§äº file(1) ä¸­çš„æ•°ï¼ˆæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼‰ã€‚\nåˆ’åˆ†ä¹‹åï¼Œå¯ä»¥éå¸¸å®¹æ˜“åœ°çŸ¥é“ä¸­ä½æ•°æ˜¯åœ¨ file(0) è¿˜æ˜¯ file(1) ä¸­ã€‚å‡è®¾ file(1) ä¸­æœ‰ 1 äº¿ä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°ä¸€å®šåœ¨ file(0) ä¸­ï¼Œä¸”æ˜¯åœ¨ file(0) ä¸­ï¼Œä»å°åˆ°å¤§æ’åˆ—çš„ç¬¬ 1.5 äº¿ä¸ªæ•°ä¸å®ƒåé¢çš„ä¸€ä¸ªæ•°çš„å¹³å‡å€¼ã€‚\nç”±äº5 äº¿æ•°çš„ä¸­ä½æ•°æ˜¯ç¬¬ 2.5 äº¿ä¸å³è¾¹ç›¸é‚»ä¸€ä¸ªæ•°æ±‚å¹³å‡å€¼ã€‚è‹¥ file(1) æœ‰ä¸€äº¿ä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯ file(0) ä¸­ä»ç¬¬ 1.5 äº¿ä¸ªæ•°å¼€å§‹çš„ä¸¤ä¸ªæ•°æ±‚å¾—çš„å¹³å‡å€¼ã€‚\nå¯¹äº file(0) å¯ä»¥ç”¨æ¬¡é«˜ä½çš„äºŒè¿›åˆ¶ç»§ç»­å°†æ–‡ä»¶ä¸€åˆ†ä¸ºäºŒï¼Œå¦‚æ­¤åˆ’åˆ†ä¸‹å»ï¼Œ**ç›´åˆ°åˆ’åˆ†åçš„æ–‡ä»¶å¯ä»¥è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼ŒæŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ä»¥åç›´æ¥æ’åºï¼Œæ‰¾å‡ºä¸­ä½æ•°ã€‚**\nå½“æ•°æ®æ€»æ•°ä¸ºå¶æ•°ï¼Œå¦‚æœåˆ’åˆ†åä¸¤ä¸ªæ–‡ä»¶ä¸­çš„æ•°æ®æœ‰ç›¸åŒä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ•°æ®è¾ƒå°çš„æ–‡ä»¶ä¸­çš„æœ€å¤§å€¼ä¸æ•°æ®è¾ƒå¤§çš„æ–‡ä»¶ä¸­çš„æœ€å°å€¼çš„å¹³å‡å€¼ã€‚\n\n# å¤§æ–‡ä»¶æŸ¥è¯¢é¢‘åº¦æ’åº\n\n### é¢˜ç›®æè¿°\n\næœ‰ 10 ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¤§å°ä¸º 1Gï¼Œæ¯ä¸ªæ–‡ä»¶çš„æ¯ä¸€è¡Œå­˜æ”¾çš„éƒ½æ˜¯ç”¨æˆ·çš„ queryï¼Œæ¯ä¸ªæ–‡ä»¶çš„ query éƒ½å¯èƒ½é‡å¤ã€‚è¦æ±‚æŒ‰ç…§ query çš„é¢‘åº¦æ’åºã€‚\n\n### è§£ç­”æ€è·¯\n\nå¦‚æœ query çš„é‡å¤åº¦æ¯”è¾ƒå¤§ï¼Œå¯ä»¥è€ƒè™‘ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰ query è¯»å…¥å†…å­˜ä¸­å¤„ç†ï¼›å¦‚æœ query çš„é‡å¤ç‡ä¸é«˜ï¼Œé‚£ä¹ˆå¯ç”¨å†…å­˜ä¸è¶³ä»¥å®¹çº³æ‰€æœ‰çš„ queryï¼Œè¿™æ—¶å€™å°±éœ€è¦é‡‡ç”¨åˆ†æ²»æ³•æˆ–å…¶ä»–çš„æ–¹æ³•æ¥è§£å†³ã€‚\n\n#### æ–¹æ³•ä¸€ï¼šHashMap æ³•\n\nå¦‚æœ query é‡å¤ç‡é«˜ï¼Œè¯´æ˜ä¸åŒ query æ€»æ•°æ¯”è¾ƒå°ï¼Œå¯ä»¥è€ƒè™‘æŠŠæ‰€æœ‰çš„ query éƒ½åŠ è½½åˆ°å†…å­˜ä¸­çš„ HashMap ä¸­ã€‚æ¥ç€å°±å¯ä»¥æŒ‰ç…§ query å‡ºç°çš„æ¬¡æ•°è¿›è¡Œæ’åºã€‚\n\n#### æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•\n\nåˆ†æ²»æ³•éœ€è¦æ ¹æ®æ•°æ®é‡å¤§å°ä»¥åŠå¯ç”¨å†…å­˜çš„å¤§å°æ¥ç¡®å®šé—®é¢˜åˆ’åˆ†çš„è§„æ¨¡ã€‚æˆ‘ä»¬é¡ºåºéå† 10 ä¸ªæ–‡ä»¶ä¸­çš„ queryï¼Œé€šè¿‡ Hash å‡½æ•° hash(query) % 10 æŠŠè¿™äº› query åˆ’åˆ†åˆ° 10 ä¸ªå°æ–‡ä»¶ä¸­ã€‚ä¹‹åå¯¹æ¯ä¸ªå°æ–‡ä»¶ä½¿ç”¨ HashMap ç»Ÿè®¡ query å‡ºç°æ¬¡æ•°ï¼Œæ ¹æ®æ¬¡æ•°æ’åºå¹¶å†™å…¥åˆ°é›¶å¤–ä¸€ä¸ªå•ç‹¬æ–‡ä»¶ä¸­ã€‚\næ¥ç€å¯¹æ‰€æœ‰æ–‡ä»¶æŒ‰ç…§ query çš„æ¬¡æ•°è¿›è¡Œæ’åºï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨**å½’å¹¶æ’åº**ï¼ˆç”±äºæ— æ³•æŠŠæ‰€æœ‰ query éƒ½è¯»å…¥å†…å­˜ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨**å¤–æ’åº**ï¼‰ã€‚\n\n**å¦‚ä½•ç†è§£å¤–æ’åºï¼Ÿ**\nä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªå«æœ‰ 10000 ä¸ªè®°å½•çš„æ–‡ä»¶ï¼Œä½†æ˜¯å†…å­˜çš„å¯ä½¿ç”¨å®¹é‡ä»…ä¸º 1000 ä¸ªè®°å½•ï¼Œæ¯«æ— ç–‘é—®éœ€è¦ä½¿ç”¨å¤–éƒ¨æ’åºç®—æ³•ï¼Œå…·ä½“åˆ†ä¸ºä¸¤æ­¥ï¼š\n\n- å°†æ•´ä¸ªæ–‡ä»¶å…¶ç­‰åˆ†ä¸º 10 ä¸ªä¸´æ—¶æ–‡ä»¶ï¼ˆæ¯ä¸ªæ–‡ä»¶ä¸­å«æœ‰ 1000 ä¸ªè®°å½•ï¼‰ï¼Œç„¶åå°†è¿™ 10 ä¸ªæ–‡ä»¶ä¾æ¬¡è¿›å…¥å†…å­˜ï¼Œé‡‡å–é€‚å½“çš„å†…å­˜æ’åºç®—æ³•å¯¹å…¶ä¸­çš„è®°å½•è¿›è¡Œæ’åºï¼Œå°†å¾—åˆ°çš„æœ‰åºæ–‡ä»¶ï¼ˆåˆå§‹å½’å¹¶æ®µï¼‰ç§»è‡³å¤–å­˜ã€‚\n- å¯¹å¾—åˆ°çš„ 10 ä¸ªåˆå§‹å½’å¹¶æ®µè¿›è¡Œå¦‚å›¾ 1 çš„ä¸¤ä¸¤å½’å¹¶ï¼Œç›´è‡³å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„æœ‰åºæ–‡ä»¶ã€‚\n![image.png](https://cdn.staticaly.com/gh/1294566108/1294566108.github.io@release/images/outSourt.pkuo99qstj4.webp)\n\n**æ³¨æ„ï¼š** åœ¨å®é™…å½’å¹¶çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºå†…å­˜å®¹é‡çš„é™åˆ¶ä¸èƒ½æ»¡è¶³åŒæ—¶å°† 2 ä¸ªå½’å¹¶æ®µå…¨éƒ¨å®Œæ•´çš„è¯»å…¥å†…å­˜è¿›è¡Œå½’å¹¶ï¼Œåªèƒ½ä¸æ–­åœ°å– 2 ä¸ªå½’å¹¶æ®µä¸­çš„æ¯ä¸€å°éƒ¨åˆ†è¿›è¡Œå½’å¹¶ï¼Œé€šè¿‡ä¸æ–­åœ°è¯»æ•°æ®å’Œå‘å¤–å­˜å†™æ•°æ®ï¼Œç›´è‡³ 2 ä¸ªå½’å¹¶æ®µå®Œæˆå½’å¹¶å˜ä¸º 1 ä¸ªå¤§çš„æœ‰åºæ–‡ä»¶ã€‚","source":"_posts/åŸºäºå¤§é‡æ•°æ®çš„åœºæ™¯é¢˜.md","raw":"---\ntitle: åŸºäºå¤§é‡æ•°æ®çš„åœºæ™¯é¢˜\ndate: 2023-09-10 21:01:55\ntags: åœºæ™¯é¢˜\n---\n# å¤§æ–‡ä»¶æ‰¾top100å•è¯\n\n### é¢˜ç›®æè¿°\n\næœ‰ä¸€ä¸ª 1GB å¤§å°çš„æ–‡ä»¶ï¼Œæ–‡ä»¶é‡Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªè¯ï¼Œæ¯ä¸ªè¯çš„å¤§å°ä¸è¶…è¿‡ 16Bï¼Œå†…å­˜å¤§å°é™åˆ¶æ˜¯ 1MBï¼Œè¦æ±‚è¿”å›é¢‘æ•°æœ€é«˜çš„ 100 ä¸ªè¯(Top 100)ã€‚\n\n### è§£ç­”æ€è·¯\n\nç”±äºå†…å­˜é™åˆ¶ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥å°†å¤§æ–‡ä»¶æ‰€æœ‰è¯ä¸€æ¬¡æ€§å…¨éƒ¨è¯»åˆ°å†…å­˜ä¸­ã€‚å› æ­¤ï¼Œå¯ä»¥é‡‡ç”¨åˆ†æ²»ç­–ç•¥ï¼ŒæŠŠä¸€ä¸ªå¤§æ–‡ä»¶åˆ†è§£æˆnä¸ªå°æ–‡ä»¶ï¼Œä¿è¯æ¯ä¸ªæ–‡ä»¶çš„å¤§å°å°äºå†…å­˜å¤§å°é™åˆ¶ï¼ˆè¿™é‡Œæ˜¯ 1MBï¼‰ï¼Œè¿›è€Œç›´æ¥å°†å•ä¸ªå°æ–‡ä»¶è¯»å–åˆ°å†…å­˜ä¸­è¿›è¡Œå¤„ç†ã€‚\n**1.å“ˆå¸Œå–ä½™**\néå†å¤§æ–‡ä»¶çš„æ¯ä¸ªè¯wordï¼Œæ‰§è¡Œ hash(word) % 5000ï¼Œå°†ç»“æœä¸º i çš„è¯å­˜æ”¾åˆ°æ–‡ä»¶ file(i) ä¸­ã€‚éå†ç»“æŸåï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° 5000 ä¸ªå°æ–‡ä»¶ã€‚æ¯ä¸ªå°æ–‡ä»¶çš„å¤§å°ä¸º 200KB å·¦å³ã€‚å¦‚æœæœ‰çš„å°æ–‡ä»¶å¤§å°ä»ç„¶è¶…è¿‡ 1MBï¼Œåˆ™é‡‡ç”¨åŒæ ·çš„æ–¹å¼ç»§ç»­è¿›è¡Œåˆ†è§£ï¼Œç›´åˆ°å°äº1MBä¸ºæ­¢ã€‚\n**2.ç»Ÿè®¡é¢‘æ•°**\næ¥ç€ç»Ÿè®¡æ¯ä¸ªå°æ–‡ä»¶ file(i) ä¸­å‡ºç°é¢‘æ•°æœ€é«˜çš„ 100 ä¸ªè¯ã€‚æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ HashMap æ¥å®ç°ã€‚å…¶ä¸­ key ä¸ºè¯ï¼Œvalue ä¸ºè¯¥è¯å‡ºç°çš„é¢‘ç‡ã€‚éå†åˆ°è¯ wordï¼Œå¦‚æœåœ¨ HashMap ä¸­ä¸å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œ map.put(word, 1)ï¼›å­˜åœ¨åˆ™æ‰§è¡Œ map.put(word, map.get(word)+1)ï¼Œå°†è¯¥è¯é¢‘æ•°åŠ  1ã€‚\n**3.å°é¡¶å †**\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ„å»ºä¸€ä¸ªå †å¤§å°ä¸º 100 çš„å°é¡¶å †æ¥æ‰¾å‡ºæ‰€æœ‰è¯ä¸­å‡ºç°é¢‘æ•°æœ€é«˜çš„ top100 å•è¯ã€‚ä¾æ¬¡éå†æ¯ä¸ªå°æ–‡ä»¶ï¼Œéå†åˆ°çš„è¯çš„å‡ºç°æ¬¡æ•°å¤§äºå †é¡¶è¯çš„å‡ºç°æ¬¡æ•°ï¼Œåˆ™ç”¨æ–°è¯æ›¿æ¢å †é¡¶çš„è¯ï¼Œç„¶åè°ƒæ•´å°é¡¶å †ï¼Œéå†ç»“æŸåï¼Œå°é¡¶å †ä¸Šçš„è¯å°±æ˜¯å‡ºç°é¢‘æ•°æœ€é«˜çš„ 100 ä¸ªè¯ã€‚\n**æ³¨æ„ï¼šè‹¥è¦æ‰¾å‡ºæœ€å°top100å•è¯çš„æ–¹æ³•ä¸ä¹‹ç±»ä¼¼ï¼Œå°†å°é¡¶å †æ¢æˆå¤§é¡¶å †å°±å¥½äº†ã€‚**\nä»åºåˆ—ä¸­é€‰æ‹©æœ€å¤§çš„Kä¸ªæ•°ï¼ˆå°é¡¶å †ï¼‰\nåœºæ™¯ï¼šè¦é€‰æ‹©æœ€å¤§çš„kä¸ªæ•°ã€‚\nåšæ³•ï¼šã€æ„é€ å°é¡¶å †ï¼ˆä¸€å…±kä¸ªæ•°ï¼‰ã€‘ï¼Œæ¯æ¬¡å–æ•°ç»„ä¸­å‰©ä½™æ•°ä¸ ã€å †é¡¶çš„å…ƒç´ ï¼ˆkä¸ªæ•°ä¸­çš„æœ€å°å€¼ï¼‰ã€‘ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å¤§ï¼Œåˆ™åˆ é™¤å †é¡¶å…ƒç´ ï¼Œå¹¶æ·»åŠ è¿™ä¸ªæ–°æ•°åˆ°å †ä¸­ï¼›å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å°ï¼Œåˆ™è¯´æ˜å †ä¸­çš„kä¸ªæ•°éƒ½æ¯”æ–°æ•°å¤§ï¼Œæ‰€ä»¥ä¸ç”¨è¿›è¡Œæ“ä½œã€‚\nä»åºåˆ—ä¸­é€‰æ‹©æœ€å°çš„Kä¸ªæ•°ï¼ˆå¤§é¡¶å †ï¼‰\nåœºæ™¯ï¼šè¦é€‰æ‹©æœ€å°çš„kä¸ªæ•°ã€‚\nåšæ³•ï¼šã€æ„é€ å¤§é¡¶å †ï¼ˆä¸€å…±kä¸ªæ•°ï¼‰ã€‘ï¼Œæ¯æ¬¡å–æ•°ç»„ä¸­å‰©ä½™æ•°ä¸ ã€å †é¡¶çš„å…ƒç´ ï¼ˆkä¸ªæ•°ä¸­çš„æœ€å¤§æ•°ï¼‰ã€‘ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å°ï¼Œåˆ™åˆ é™¤å †é¡¶å…ƒç´ ï¼Œå¹¶æ·»åŠ è¿™ä¸ªæ–°æ•°åˆ°å †ä¸­ï¼›å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å¤§ï¼Œåˆ™è¯´æ˜å †ä¸­çš„kä¸ªæ•°éƒ½æ¯”æ–°æ•°å°ï¼Œæ‰€ä»¥ä¸ç”¨è¿›è¡Œæ“ä½œã€‚\n\n# å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸é‡å¤æ•´æ•°\n\n### é¢˜ç›®æè¿°\n\nåœ¨ 2 äº¿ä¸ªæ•´æ•°ä¸­æ‰¾å‡ºä¸é‡å¤çš„æ•´æ•°ï¼Œå†…å­˜ä¸è¶³ä»¥å®¹çº³è¿™ 2 äº¿ä¸ªæ•´æ•°ã€‚\n\n### è§£ç­”æ€è·¯\n\n#### æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•\n\nä¸å‰é¢çš„é¢˜ç›®æ–¹æ³•ç±»ä¼¼ï¼Œå…ˆå°† 2 äº¿ä¸ªæ•°åˆ’åˆ†åˆ°å¤šä¸ªå°æ–‡ä»¶ï¼Œç”¨ HashSet/HashMap æ‰¾å‡ºæ¯ä¸ªå°æ–‡ä»¶ä¸­ä¸é‡å¤çš„æ•´æ•°ï¼Œå†åˆå¹¶æ¯ä¸ªå­ç»“æœï¼Œå³ä¸ºæœ€ç»ˆç»“æœã€‚\n\n#### æ–¹æ³•äºŒï¼šä½å›¾æ³•\n\nä½å›¾æ˜¯æŒ‡ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª bit æ¥æ ‡è®°æŸä¸ªå…ƒç´ å¯¹åº”çš„å€¼ã€‚å› ä¸ºä½¿ç”¨bitä¸ºå•ä½å­˜å‚¨æ•°æ®å¯ä»¥å¤§å¤§èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚å¯¹äºè¿™é“é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ 2 ä¸ª bit æ¥è¡¨ç¤ºå„ä¸ªæ•°å­—çš„çŠ¶æ€ï¼š\n\n- 00 è¡¨ç¤ºè¿™ä¸ªæ•°å­—æ²¡å‡ºç°è¿‡ï¼›\n- 01 è¡¨ç¤ºè¿™ä¸ªæ•°å­—å‡ºç°è¿‡ä¸€æ¬¡ï¼ˆå³ä¸ºé¢˜ç›®æ‰€æ‰¾çš„ä¸é‡å¤æ•´æ•°ï¼‰ï¼›\n- 10 è¡¨ç¤ºè¿™ä¸ªæ•°å­—å‡ºç°äº†å¤šæ¬¡ã€‚\n\n2äº¿ä¸ªæ•´æ•°ï¼Œæ€»å…±æ‰€éœ€å†…å­˜ä¸º\n\n```shell\n2äº¿ä¸ªæ•´æ•° Ã— 4å­—èŠ‚/æ•´æ•° = 8äº¿å­—èŠ‚\n1GBç­‰äº1,073,741,824å­—èŠ‚ã€‚\n8äº¿å­—èŠ‚ Ã· 1,073,741,824å­—èŠ‚/GB â‰ˆ 0.745GBã€‚\n```\n\nå› æ­¤ï¼Œå¦‚æœæ­¤é¢˜çš„å¯ç”¨å†…å­˜è¶…è¿‡ 0.75GB æ—¶ï¼Œå¯ä»¥é‡‡ç”¨ä½å›¾æ³•ã€‚\néå† 2 äº¿ä¸ªæ•´æ•°ï¼ŒæŸ¥çœ‹ä½å›¾ä¸­å¯¹åº”çš„ä½ï¼Œå¦‚æœæ˜¯ 00ï¼Œåˆ™å˜ä¸º 01ï¼Œå¦‚æœæ˜¯ 01 åˆ™å˜ä¸º 10ï¼Œå¦‚æœæ˜¯ 10 åˆ™ä¿æŒä¸å˜ã€‚éå†ç»“æŸåï¼ŒæŸ¥çœ‹ä½å›¾ï¼ŒæŠŠå¯¹åº”ä½æ˜¯ 01 çš„æ•´æ•°è¾“å‡ºå³å¯ã€‚\n\n# å¤§é‡æ•°æ®ä¸­åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨\n\n### é¢˜ç›®æè¿°\n\nç»™å®š 40 äº¿ä¸ªä¸é‡å¤çš„æ²¡æ’è¿‡åºçš„ unsigned int å‹æ•´æ•°ï¼Œç„¶åå†ç»™å®šä¸€ä¸ªæ•°ï¼Œå¦‚ä½•å¿«é€Ÿåˆ¤æ–­è¿™ä¸ªæ•°æ˜¯å¦åœ¨è¿™ 40 äº¿ä¸ªæ•´æ•°å½“ä¸­ï¼Ÿ\n\n### è§£ç­”æ€è·¯\n\n#### æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•\n\nåˆ†æ²»æ³•è§£å†³ï¼Œä¸å‰é¢ç±»ä¼¼ï¼Œä¸å†èµ˜è¿°ã€‚\n\n#### æ–¹æ³•äºŒï¼šä½å›¾æ³•\n\n40 äº¿ä¸ªä¸é‡å¤æ•´æ•°ï¼Œæˆ‘ä»¬ç”¨ 40 äº¿ä¸ª bit æ¥è¡¨ç¤ºï¼Œåˆå§‹ä½å‡ä¸º 0ï¼Œé‚£ä¹ˆæ€»å…±éœ€è¦å†…å­˜ï¼š4,000,000,000bâ‰ˆ512Mã€‚\næˆ‘ä»¬è¯»å–è¿™ 40 äº¿ä¸ªæ•´æ•°ï¼Œå°†å¯¹åº”çš„ bit è®¾ç½®ä¸º 1ã€‚æ¥ç€è¯»å–è¦æŸ¥è¯¢çš„æ•°ï¼ŒæŸ¥çœ‹ç›¸åº”ä½æ˜¯å¦ä¸º 1ï¼Œå¦‚æœä¸º 1 è¡¨ç¤ºå­˜åœ¨ï¼Œå¦‚æœä¸º 0 è¡¨ç¤ºä¸å­˜åœ¨ã€‚\n\n# å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸­ä½æ•°\n\n### é¢˜ç›®æè¿°\n\nä» 5 äº¿ä¸ªæ•°ä¸­æ‰¾å‡ºä¸­ä½æ•°ã€‚æ•°æ®æ’åºåï¼Œä½ç½®åœ¨æœ€ä¸­é—´çš„æ•°å°±æ˜¯ä¸­ä½æ•°ã€‚å½“æ ·æœ¬æ•°ä¸ºå¥‡æ•°æ—¶ï¼Œä¸­ä½æ•°ä¸º ç¬¬ (N+1)/2 ä¸ªæ•°ï¼›å½“æ ·æœ¬æ•°ä¸ºå¶æ•°æ—¶ï¼Œä¸­ä½æ•°ä¸º ç¬¬ N/2 ä¸ªæ•°ä¸ç¬¬ 1+N/2 ä¸ªæ•°çš„å‡å€¼ã€‚\n\n### è§£ç­”æ€è·¯\n\nå¦‚æœè¿™é“é¢˜æ²¡æœ‰å†…å­˜å¤§å°é™åˆ¶ï¼Œåˆ™å¯ä»¥æŠŠæ‰€æœ‰æ•°è¯»åˆ°å†…å­˜ä¸­æ’åºåæ‰¾å‡ºä¸­ä½æ•°ã€‚ä½†æ˜¯æœ€å¥½çš„æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸º O(NlogN)ã€‚è¿™é‡Œä½¿ç”¨å…¶ä»–æ–¹æ³•ã€‚\n\n#### æ–¹æ³•ä¸€ï¼šåŒå †æ³•\n\nç»´æŠ¤ä¸¤ä¸ªå †ï¼Œä¸€ä¸ªå¤§é¡¶å †ï¼Œä¸€ä¸ªå°é¡¶å †ã€‚å¤§é¡¶å †ä¸­æœ€å¤§çš„æ•°**å°äºç­‰äº**å°é¡¶å †ä¸­æœ€å°çš„æ•°ï¼›ä¿è¯è¿™ä¸¤ä¸ªå †ä¸­çš„å…ƒç´ ä¸ªæ•°çš„å·®ä¸è¶…è¿‡ 1ã€‚\nè‹¥æ•°æ®æ€»æ•°ä¸º**å¶æ•°**ï¼Œå½“è¿™ä¸¤ä¸ªå †å»ºå¥½ä¹‹åï¼Œ**ä¸­ä½æ•°å°±æ˜¯è¿™ä¸¤ä¸ªå †é¡¶å…ƒç´ çš„å¹³å‡å€¼**ã€‚å½“æ•°æ®æ€»æ•°ä¸º**å¥‡æ•°**æ—¶ï¼Œæ ¹æ®ä¸¤ä¸ªå †çš„å¤§å°ï¼Œ**ä¸­ä½æ•°ä¸€å®šåœ¨æ•°æ®å¤šçš„å †çš„å †é¡¶**ã€‚\nä»¥ä¸Šè¿™ç§æ–¹æ³•ï¼Œéœ€è¦æŠŠæ‰€æœ‰æ•°æ®éƒ½åŠ è½½åˆ°å†…å­˜ä¸­ã€‚å½“æ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œå°±ä¸èƒ½è¿™æ ·äº†ï¼Œå› æ­¤ï¼Œè¿™ç§æ–¹æ³•**é€‚ç”¨äºæ•°æ®é‡è¾ƒå°çš„æƒ…å†µ**ã€‚5 äº¿ä¸ªæ•°ï¼Œæ¯ä¸ªæ•°å­—å ç”¨ 4Bï¼Œæ€»å…±éœ€è¦ 2G å†…å­˜ã€‚å¦‚æœå¯ç”¨å†…å­˜ä¸è¶³ 2Gï¼Œå°±ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•äº†ã€‚\n\n#### æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•\n\nåˆ†æ²»æ³•çš„æ€æƒ³æ˜¯æŠŠä¸€ä¸ªå¤§çš„é—®é¢˜é€æ¸è½¬æ¢ä¸ºè§„æ¨¡è¾ƒå°çš„é—®é¢˜æ¥æ±‚è§£ã€‚\né¡ºåºè¯»å–è¿™ 5 äº¿ä¸ªæ•°å­—ï¼Œå¯¹äºè¯»å–åˆ°çš„æ•°å­— numberï¼Œå¦‚æœå®ƒå¯¹åº”çš„äºŒè¿›åˆ¶ä¸­æœ€é«˜ä½ä¸º1ï¼Œåˆ™æŠŠè¿™ä¸ªæ•°å­—å†™åˆ° file(1) ä¸­ï¼Œå¦åˆ™å†™å…¥ file(0) ä¸­ã€‚é€šè¿‡è¿™ä¸€æ­¥ï¼Œå¯ä»¥æŠŠè¿™ 5 äº¿ä¸ªæ•°åˆ’**åˆ†ä¸ºä¸¤éƒ¨åˆ†**ï¼Œè€Œä¸” file(0) ä¸­çš„æ•°éƒ½å¤§äº file(1) ä¸­çš„æ•°ï¼ˆæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼‰ã€‚\nåˆ’åˆ†ä¹‹åï¼Œå¯ä»¥éå¸¸å®¹æ˜“åœ°çŸ¥é“ä¸­ä½æ•°æ˜¯åœ¨ file(0) è¿˜æ˜¯ file(1) ä¸­ã€‚å‡è®¾ file(1) ä¸­æœ‰ 1 äº¿ä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°ä¸€å®šåœ¨ file(0) ä¸­ï¼Œä¸”æ˜¯åœ¨ file(0) ä¸­ï¼Œä»å°åˆ°å¤§æ’åˆ—çš„ç¬¬ 1.5 äº¿ä¸ªæ•°ä¸å®ƒåé¢çš„ä¸€ä¸ªæ•°çš„å¹³å‡å€¼ã€‚\nç”±äº5 äº¿æ•°çš„ä¸­ä½æ•°æ˜¯ç¬¬ 2.5 äº¿ä¸å³è¾¹ç›¸é‚»ä¸€ä¸ªæ•°æ±‚å¹³å‡å€¼ã€‚è‹¥ file(1) æœ‰ä¸€äº¿ä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯ file(0) ä¸­ä»ç¬¬ 1.5 äº¿ä¸ªæ•°å¼€å§‹çš„ä¸¤ä¸ªæ•°æ±‚å¾—çš„å¹³å‡å€¼ã€‚\nå¯¹äº file(0) å¯ä»¥ç”¨æ¬¡é«˜ä½çš„äºŒè¿›åˆ¶ç»§ç»­å°†æ–‡ä»¶ä¸€åˆ†ä¸ºäºŒï¼Œå¦‚æ­¤åˆ’åˆ†ä¸‹å»ï¼Œ**ç›´åˆ°åˆ’åˆ†åçš„æ–‡ä»¶å¯ä»¥è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼ŒæŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ä»¥åç›´æ¥æ’åºï¼Œæ‰¾å‡ºä¸­ä½æ•°ã€‚**\nå½“æ•°æ®æ€»æ•°ä¸ºå¶æ•°ï¼Œå¦‚æœåˆ’åˆ†åä¸¤ä¸ªæ–‡ä»¶ä¸­çš„æ•°æ®æœ‰ç›¸åŒä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ•°æ®è¾ƒå°çš„æ–‡ä»¶ä¸­çš„æœ€å¤§å€¼ä¸æ•°æ®è¾ƒå¤§çš„æ–‡ä»¶ä¸­çš„æœ€å°å€¼çš„å¹³å‡å€¼ã€‚\n\n# å¤§æ–‡ä»¶æŸ¥è¯¢é¢‘åº¦æ’åº\n\n### é¢˜ç›®æè¿°\n\næœ‰ 10 ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¤§å°ä¸º 1Gï¼Œæ¯ä¸ªæ–‡ä»¶çš„æ¯ä¸€è¡Œå­˜æ”¾çš„éƒ½æ˜¯ç”¨æˆ·çš„ queryï¼Œæ¯ä¸ªæ–‡ä»¶çš„ query éƒ½å¯èƒ½é‡å¤ã€‚è¦æ±‚æŒ‰ç…§ query çš„é¢‘åº¦æ’åºã€‚\n\n### è§£ç­”æ€è·¯\n\nå¦‚æœ query çš„é‡å¤åº¦æ¯”è¾ƒå¤§ï¼Œå¯ä»¥è€ƒè™‘ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰ query è¯»å…¥å†…å­˜ä¸­å¤„ç†ï¼›å¦‚æœ query çš„é‡å¤ç‡ä¸é«˜ï¼Œé‚£ä¹ˆå¯ç”¨å†…å­˜ä¸è¶³ä»¥å®¹çº³æ‰€æœ‰çš„ queryï¼Œè¿™æ—¶å€™å°±éœ€è¦é‡‡ç”¨åˆ†æ²»æ³•æˆ–å…¶ä»–çš„æ–¹æ³•æ¥è§£å†³ã€‚\n\n#### æ–¹æ³•ä¸€ï¼šHashMap æ³•\n\nå¦‚æœ query é‡å¤ç‡é«˜ï¼Œè¯´æ˜ä¸åŒ query æ€»æ•°æ¯”è¾ƒå°ï¼Œå¯ä»¥è€ƒè™‘æŠŠæ‰€æœ‰çš„ query éƒ½åŠ è½½åˆ°å†…å­˜ä¸­çš„ HashMap ä¸­ã€‚æ¥ç€å°±å¯ä»¥æŒ‰ç…§ query å‡ºç°çš„æ¬¡æ•°è¿›è¡Œæ’åºã€‚\n\n#### æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•\n\nåˆ†æ²»æ³•éœ€è¦æ ¹æ®æ•°æ®é‡å¤§å°ä»¥åŠå¯ç”¨å†…å­˜çš„å¤§å°æ¥ç¡®å®šé—®é¢˜åˆ’åˆ†çš„è§„æ¨¡ã€‚æˆ‘ä»¬é¡ºåºéå† 10 ä¸ªæ–‡ä»¶ä¸­çš„ queryï¼Œé€šè¿‡ Hash å‡½æ•° hash(query) % 10 æŠŠè¿™äº› query åˆ’åˆ†åˆ° 10 ä¸ªå°æ–‡ä»¶ä¸­ã€‚ä¹‹åå¯¹æ¯ä¸ªå°æ–‡ä»¶ä½¿ç”¨ HashMap ç»Ÿè®¡ query å‡ºç°æ¬¡æ•°ï¼Œæ ¹æ®æ¬¡æ•°æ’åºå¹¶å†™å…¥åˆ°é›¶å¤–ä¸€ä¸ªå•ç‹¬æ–‡ä»¶ä¸­ã€‚\næ¥ç€å¯¹æ‰€æœ‰æ–‡ä»¶æŒ‰ç…§ query çš„æ¬¡æ•°è¿›è¡Œæ’åºï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨**å½’å¹¶æ’åº**ï¼ˆç”±äºæ— æ³•æŠŠæ‰€æœ‰ query éƒ½è¯»å…¥å†…å­˜ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨**å¤–æ’åº**ï¼‰ã€‚\n\n**å¦‚ä½•ç†è§£å¤–æ’åºï¼Ÿ**\nä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªå«æœ‰ 10000 ä¸ªè®°å½•çš„æ–‡ä»¶ï¼Œä½†æ˜¯å†…å­˜çš„å¯ä½¿ç”¨å®¹é‡ä»…ä¸º 1000 ä¸ªè®°å½•ï¼Œæ¯«æ— ç–‘é—®éœ€è¦ä½¿ç”¨å¤–éƒ¨æ’åºç®—æ³•ï¼Œå…·ä½“åˆ†ä¸ºä¸¤æ­¥ï¼š\n\n- å°†æ•´ä¸ªæ–‡ä»¶å…¶ç­‰åˆ†ä¸º 10 ä¸ªä¸´æ—¶æ–‡ä»¶ï¼ˆæ¯ä¸ªæ–‡ä»¶ä¸­å«æœ‰ 1000 ä¸ªè®°å½•ï¼‰ï¼Œç„¶åå°†è¿™ 10 ä¸ªæ–‡ä»¶ä¾æ¬¡è¿›å…¥å†…å­˜ï¼Œé‡‡å–é€‚å½“çš„å†…å­˜æ’åºç®—æ³•å¯¹å…¶ä¸­çš„è®°å½•è¿›è¡Œæ’åºï¼Œå°†å¾—åˆ°çš„æœ‰åºæ–‡ä»¶ï¼ˆåˆå§‹å½’å¹¶æ®µï¼‰ç§»è‡³å¤–å­˜ã€‚\n- å¯¹å¾—åˆ°çš„ 10 ä¸ªåˆå§‹å½’å¹¶æ®µè¿›è¡Œå¦‚å›¾ 1 çš„ä¸¤ä¸¤å½’å¹¶ï¼Œç›´è‡³å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„æœ‰åºæ–‡ä»¶ã€‚\n![image.png](https://cdn.staticaly.com/gh/1294566108/1294566108.github.io@release/images/outSourt.pkuo99qstj4.webp)\n\n**æ³¨æ„ï¼š** åœ¨å®é™…å½’å¹¶çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºå†…å­˜å®¹é‡çš„é™åˆ¶ä¸èƒ½æ»¡è¶³åŒæ—¶å°† 2 ä¸ªå½’å¹¶æ®µå…¨éƒ¨å®Œæ•´çš„è¯»å…¥å†…å­˜è¿›è¡Œå½’å¹¶ï¼Œåªèƒ½ä¸æ–­åœ°å– 2 ä¸ªå½’å¹¶æ®µä¸­çš„æ¯ä¸€å°éƒ¨åˆ†è¿›è¡Œå½’å¹¶ï¼Œé€šè¿‡ä¸æ–­åœ°è¯»æ•°æ®å’Œå‘å¤–å­˜å†™æ•°æ®ï¼Œç›´è‡³ 2 ä¸ªå½’å¹¶æ®µå®Œæˆå½’å¹¶å˜ä¸º 1 ä¸ªå¤§çš„æœ‰åºæ–‡ä»¶ã€‚","slug":"åŸºäºå¤§é‡æ•°æ®çš„åœºæ™¯é¢˜","published":1,"updated":"2023-09-10T13:41:58.004Z","_id":"clmdh1ucs0001gkundlsahe1n","comments":1,"layout":"post","photos":[],"link":"","content":"<h1 id=\"å¤§æ–‡ä»¶æ‰¾top100å•è¯\"><a href=\"#å¤§æ–‡ä»¶æ‰¾top100å•è¯\" class=\"headerlink\" title=\"å¤§æ–‡ä»¶æ‰¾top100å•è¯\"></a>å¤§æ–‡ä»¶æ‰¾top100å•è¯</h1><h3 id=\"é¢˜ç›®æè¿°\"><a href=\"#é¢˜ç›®æè¿°\" class=\"headerlink\" title=\"é¢˜ç›®æè¿°\"></a>é¢˜ç›®æè¿°</h3><p>æœ‰ä¸€ä¸ª 1GB å¤§å°çš„æ–‡ä»¶ï¼Œæ–‡ä»¶é‡Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªè¯ï¼Œæ¯ä¸ªè¯çš„å¤§å°ä¸è¶…è¿‡ 16Bï¼Œå†…å­˜å¤§å°é™åˆ¶æ˜¯ 1MBï¼Œè¦æ±‚è¿”å›é¢‘æ•°æœ€é«˜çš„ 100 ä¸ªè¯(Top 100)ã€‚</p>\n<h3 id=\"è§£ç­”æ€è·¯\"><a href=\"#è§£ç­”æ€è·¯\" class=\"headerlink\" title=\"è§£ç­”æ€è·¯\"></a>è§£ç­”æ€è·¯</h3><p>ç”±äºå†…å­˜é™åˆ¶ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥å°†å¤§æ–‡ä»¶æ‰€æœ‰è¯ä¸€æ¬¡æ€§å…¨éƒ¨è¯»åˆ°å†…å­˜ä¸­ã€‚å› æ­¤ï¼Œå¯ä»¥é‡‡ç”¨åˆ†æ²»ç­–ç•¥ï¼ŒæŠŠä¸€ä¸ªå¤§æ–‡ä»¶åˆ†è§£æˆnä¸ªå°æ–‡ä»¶ï¼Œä¿è¯æ¯ä¸ªæ–‡ä»¶çš„å¤§å°å°äºå†…å­˜å¤§å°é™åˆ¶ï¼ˆè¿™é‡Œæ˜¯ 1MBï¼‰ï¼Œè¿›è€Œç›´æ¥å°†å•ä¸ªå°æ–‡ä»¶è¯»å–åˆ°å†…å­˜ä¸­è¿›è¡Œå¤„ç†ã€‚<br><strong>1.å“ˆå¸Œå–ä½™</strong><br>éå†å¤§æ–‡ä»¶çš„æ¯ä¸ªè¯wordï¼Œæ‰§è¡Œ hash(word) % 5000ï¼Œå°†ç»“æœä¸º i çš„è¯å­˜æ”¾åˆ°æ–‡ä»¶ file(i) ä¸­ã€‚éå†ç»“æŸåï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° 5000 ä¸ªå°æ–‡ä»¶ã€‚æ¯ä¸ªå°æ–‡ä»¶çš„å¤§å°ä¸º 200KB å·¦å³ã€‚å¦‚æœæœ‰çš„å°æ–‡ä»¶å¤§å°ä»ç„¶è¶…è¿‡ 1MBï¼Œåˆ™é‡‡ç”¨åŒæ ·çš„æ–¹å¼ç»§ç»­è¿›è¡Œåˆ†è§£ï¼Œç›´åˆ°å°äº1MBä¸ºæ­¢ã€‚<br><strong>2.ç»Ÿè®¡é¢‘æ•°</strong><br>æ¥ç€ç»Ÿè®¡æ¯ä¸ªå°æ–‡ä»¶ file(i) ä¸­å‡ºç°é¢‘æ•°æœ€é«˜çš„ 100 ä¸ªè¯ã€‚æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ HashMap æ¥å®ç°ã€‚å…¶ä¸­ key ä¸ºè¯ï¼Œvalue ä¸ºè¯¥è¯å‡ºç°çš„é¢‘ç‡ã€‚éå†åˆ°è¯ wordï¼Œå¦‚æœåœ¨ HashMap ä¸­ä¸å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œ map.put(word, 1)ï¼›å­˜åœ¨åˆ™æ‰§è¡Œ map.put(word, map.get(word)+1)ï¼Œå°†è¯¥è¯é¢‘æ•°åŠ  1ã€‚<br><strong>3.å°é¡¶å †</strong><br>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ„å»ºä¸€ä¸ªå †å¤§å°ä¸º 100 çš„å°é¡¶å †æ¥æ‰¾å‡ºæ‰€æœ‰è¯ä¸­å‡ºç°é¢‘æ•°æœ€é«˜çš„ top100 å•è¯ã€‚ä¾æ¬¡éå†æ¯ä¸ªå°æ–‡ä»¶ï¼Œéå†åˆ°çš„è¯çš„å‡ºç°æ¬¡æ•°å¤§äºå †é¡¶è¯çš„å‡ºç°æ¬¡æ•°ï¼Œåˆ™ç”¨æ–°è¯æ›¿æ¢å †é¡¶çš„è¯ï¼Œç„¶åè°ƒæ•´å°é¡¶å †ï¼Œéå†ç»“æŸåï¼Œå°é¡¶å †ä¸Šçš„è¯å°±æ˜¯å‡ºç°é¢‘æ•°æœ€é«˜çš„ 100 ä¸ªè¯ã€‚<br><strong>æ³¨æ„ï¼šè‹¥è¦æ‰¾å‡ºæœ€å°top100å•è¯çš„æ–¹æ³•ä¸ä¹‹ç±»ä¼¼ï¼Œå°†å°é¡¶å †æ¢æˆå¤§é¡¶å †å°±å¥½äº†ã€‚</strong><br>ä»åºåˆ—ä¸­é€‰æ‹©æœ€å¤§çš„Kä¸ªæ•°ï¼ˆå°é¡¶å †ï¼‰<br>åœºæ™¯ï¼šè¦é€‰æ‹©æœ€å¤§çš„kä¸ªæ•°ã€‚<br>åšæ³•ï¼šã€æ„é€ å°é¡¶å †ï¼ˆä¸€å…±kä¸ªæ•°ï¼‰ã€‘ï¼Œæ¯æ¬¡å–æ•°ç»„ä¸­å‰©ä½™æ•°ä¸ ã€å †é¡¶çš„å…ƒç´ ï¼ˆkä¸ªæ•°ä¸­çš„æœ€å°å€¼ï¼‰ã€‘ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å¤§ï¼Œåˆ™åˆ é™¤å †é¡¶å…ƒç´ ï¼Œå¹¶æ·»åŠ è¿™ä¸ªæ–°æ•°åˆ°å †ä¸­ï¼›å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å°ï¼Œåˆ™è¯´æ˜å †ä¸­çš„kä¸ªæ•°éƒ½æ¯”æ–°æ•°å¤§ï¼Œæ‰€ä»¥ä¸ç”¨è¿›è¡Œæ“ä½œã€‚<br>ä»åºåˆ—ä¸­é€‰æ‹©æœ€å°çš„Kä¸ªæ•°ï¼ˆå¤§é¡¶å †ï¼‰<br>åœºæ™¯ï¼šè¦é€‰æ‹©æœ€å°çš„kä¸ªæ•°ã€‚<br>åšæ³•ï¼šã€æ„é€ å¤§é¡¶å †ï¼ˆä¸€å…±kä¸ªæ•°ï¼‰ã€‘ï¼Œæ¯æ¬¡å–æ•°ç»„ä¸­å‰©ä½™æ•°ä¸ ã€å †é¡¶çš„å…ƒç´ ï¼ˆkä¸ªæ•°ä¸­çš„æœ€å¤§æ•°ï¼‰ã€‘ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å°ï¼Œåˆ™åˆ é™¤å †é¡¶å…ƒç´ ï¼Œå¹¶æ·»åŠ è¿™ä¸ªæ–°æ•°åˆ°å †ä¸­ï¼›å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å¤§ï¼Œåˆ™è¯´æ˜å †ä¸­çš„kä¸ªæ•°éƒ½æ¯”æ–°æ•°å°ï¼Œæ‰€ä»¥ä¸ç”¨è¿›è¡Œæ“ä½œã€‚</p>\n<h1 id=\"å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸é‡å¤æ•´æ•°\"><a href=\"#å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸é‡å¤æ•´æ•°\" class=\"headerlink\" title=\"å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸é‡å¤æ•´æ•°\"></a>å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸é‡å¤æ•´æ•°</h1><h3 id=\"é¢˜ç›®æè¿°-1\"><a href=\"#é¢˜ç›®æè¿°-1\" class=\"headerlink\" title=\"é¢˜ç›®æè¿°\"></a>é¢˜ç›®æè¿°</h3><p>åœ¨ 2 äº¿ä¸ªæ•´æ•°ä¸­æ‰¾å‡ºä¸é‡å¤çš„æ•´æ•°ï¼Œå†…å­˜ä¸è¶³ä»¥å®¹çº³è¿™ 2 äº¿ä¸ªæ•´æ•°ã€‚</p>\n<h3 id=\"è§£ç­”æ€è·¯-1\"><a href=\"#è§£ç­”æ€è·¯-1\" class=\"headerlink\" title=\"è§£ç­”æ€è·¯\"></a>è§£ç­”æ€è·¯</h3><h4 id=\"æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•\"><a href=\"#æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•\" class=\"headerlink\" title=\"æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•\"></a>æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•</h4><p>ä¸å‰é¢çš„é¢˜ç›®æ–¹æ³•ç±»ä¼¼ï¼Œå…ˆå°† 2 äº¿ä¸ªæ•°åˆ’åˆ†åˆ°å¤šä¸ªå°æ–‡ä»¶ï¼Œç”¨ HashSet&#x2F;HashMap æ‰¾å‡ºæ¯ä¸ªå°æ–‡ä»¶ä¸­ä¸é‡å¤çš„æ•´æ•°ï¼Œå†åˆå¹¶æ¯ä¸ªå­ç»“æœï¼Œå³ä¸ºæœ€ç»ˆç»“æœã€‚</p>\n<h4 id=\"æ–¹æ³•äºŒï¼šä½å›¾æ³•\"><a href=\"#æ–¹æ³•äºŒï¼šä½å›¾æ³•\" class=\"headerlink\" title=\"æ–¹æ³•äºŒï¼šä½å›¾æ³•\"></a>æ–¹æ³•äºŒï¼šä½å›¾æ³•</h4><p>ä½å›¾æ˜¯æŒ‡ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª bit æ¥æ ‡è®°æŸä¸ªå…ƒç´ å¯¹åº”çš„å€¼ã€‚å› ä¸ºä½¿ç”¨bitä¸ºå•ä½å­˜å‚¨æ•°æ®å¯ä»¥å¤§å¤§èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚å¯¹äºè¿™é“é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ 2 ä¸ª bit æ¥è¡¨ç¤ºå„ä¸ªæ•°å­—çš„çŠ¶æ€ï¼š</p>\n<ul>\n<li>00 è¡¨ç¤ºè¿™ä¸ªæ•°å­—æ²¡å‡ºç°è¿‡ï¼›</li>\n<li>01 è¡¨ç¤ºè¿™ä¸ªæ•°å­—å‡ºç°è¿‡ä¸€æ¬¡ï¼ˆå³ä¸ºé¢˜ç›®æ‰€æ‰¾çš„ä¸é‡å¤æ•´æ•°ï¼‰ï¼›</li>\n<li>10 è¡¨ç¤ºè¿™ä¸ªæ•°å­—å‡ºç°äº†å¤šæ¬¡ã€‚</li>\n</ul>\n<p>2äº¿ä¸ªæ•´æ•°ï¼Œæ€»å…±æ‰€éœ€å†…å­˜ä¸º</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2äº¿ä¸ªæ•´æ•° Ã— 4å­—èŠ‚/æ•´æ•° = 8äº¿å­—èŠ‚</span><br><span class=\"line\">1GBç­‰äº1,073,741,824å­—èŠ‚ã€‚</span><br><span class=\"line\">8äº¿å­—èŠ‚ Ã· 1,073,741,824å­—èŠ‚/GB â‰ˆ 0.745GBã€‚</span><br></pre></td></tr></table></figure>\n\n<p>å› æ­¤ï¼Œå¦‚æœæ­¤é¢˜çš„å¯ç”¨å†…å­˜è¶…è¿‡ 0.75GB æ—¶ï¼Œå¯ä»¥é‡‡ç”¨ä½å›¾æ³•ã€‚<br>éå† 2 äº¿ä¸ªæ•´æ•°ï¼ŒæŸ¥çœ‹ä½å›¾ä¸­å¯¹åº”çš„ä½ï¼Œå¦‚æœæ˜¯ 00ï¼Œåˆ™å˜ä¸º 01ï¼Œå¦‚æœæ˜¯ 01 åˆ™å˜ä¸º 10ï¼Œå¦‚æœæ˜¯ 10 åˆ™ä¿æŒä¸å˜ã€‚éå†ç»“æŸåï¼ŒæŸ¥çœ‹ä½å›¾ï¼ŒæŠŠå¯¹åº”ä½æ˜¯ 01 çš„æ•´æ•°è¾“å‡ºå³å¯ã€‚</p>\n<h1 id=\"å¤§é‡æ•°æ®ä¸­åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨\"><a href=\"#å¤§é‡æ•°æ®ä¸­åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨\" class=\"headerlink\" title=\"å¤§é‡æ•°æ®ä¸­åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨\"></a>å¤§é‡æ•°æ®ä¸­åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨</h1><h3 id=\"é¢˜ç›®æè¿°-2\"><a href=\"#é¢˜ç›®æè¿°-2\" class=\"headerlink\" title=\"é¢˜ç›®æè¿°\"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®š 40 äº¿ä¸ªä¸é‡å¤çš„æ²¡æ’è¿‡åºçš„ unsigned int å‹æ•´æ•°ï¼Œç„¶åå†ç»™å®šä¸€ä¸ªæ•°ï¼Œå¦‚ä½•å¿«é€Ÿåˆ¤æ–­è¿™ä¸ªæ•°æ˜¯å¦åœ¨è¿™ 40 äº¿ä¸ªæ•´æ•°å½“ä¸­ï¼Ÿ</p>\n<h3 id=\"è§£ç­”æ€è·¯-2\"><a href=\"#è§£ç­”æ€è·¯-2\" class=\"headerlink\" title=\"è§£ç­”æ€è·¯\"></a>è§£ç­”æ€è·¯</h3><h4 id=\"æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•-1\"><a href=\"#æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•-1\" class=\"headerlink\" title=\"æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•\"></a>æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•</h4><p>åˆ†æ²»æ³•è§£å†³ï¼Œä¸å‰é¢ç±»ä¼¼ï¼Œä¸å†èµ˜è¿°ã€‚</p>\n<h4 id=\"æ–¹æ³•äºŒï¼šä½å›¾æ³•-1\"><a href=\"#æ–¹æ³•äºŒï¼šä½å›¾æ³•-1\" class=\"headerlink\" title=\"æ–¹æ³•äºŒï¼šä½å›¾æ³•\"></a>æ–¹æ³•äºŒï¼šä½å›¾æ³•</h4><p>40 äº¿ä¸ªä¸é‡å¤æ•´æ•°ï¼Œæˆ‘ä»¬ç”¨ 40 äº¿ä¸ª bit æ¥è¡¨ç¤ºï¼Œåˆå§‹ä½å‡ä¸º 0ï¼Œé‚£ä¹ˆæ€»å…±éœ€è¦å†…å­˜ï¼š4,000,000,000bâ‰ˆ512Mã€‚<br>æˆ‘ä»¬è¯»å–è¿™ 40 äº¿ä¸ªæ•´æ•°ï¼Œå°†å¯¹åº”çš„ bit è®¾ç½®ä¸º 1ã€‚æ¥ç€è¯»å–è¦æŸ¥è¯¢çš„æ•°ï¼ŒæŸ¥çœ‹ç›¸åº”ä½æ˜¯å¦ä¸º 1ï¼Œå¦‚æœä¸º 1 è¡¨ç¤ºå­˜åœ¨ï¼Œå¦‚æœä¸º 0 è¡¨ç¤ºä¸å­˜åœ¨ã€‚</p>\n<h1 id=\"å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸­ä½æ•°\"><a href=\"#å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸­ä½æ•°\" class=\"headerlink\" title=\"å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸­ä½æ•°\"></a>å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸­ä½æ•°</h1><h3 id=\"é¢˜ç›®æè¿°-3\"><a href=\"#é¢˜ç›®æè¿°-3\" class=\"headerlink\" title=\"é¢˜ç›®æè¿°\"></a>é¢˜ç›®æè¿°</h3><p>ä» 5 äº¿ä¸ªæ•°ä¸­æ‰¾å‡ºä¸­ä½æ•°ã€‚æ•°æ®æ’åºåï¼Œä½ç½®åœ¨æœ€ä¸­é—´çš„æ•°å°±æ˜¯ä¸­ä½æ•°ã€‚å½“æ ·æœ¬æ•°ä¸ºå¥‡æ•°æ—¶ï¼Œä¸­ä½æ•°ä¸º ç¬¬ (N+1)&#x2F;2 ä¸ªæ•°ï¼›å½“æ ·æœ¬æ•°ä¸ºå¶æ•°æ—¶ï¼Œä¸­ä½æ•°ä¸º ç¬¬ N&#x2F;2 ä¸ªæ•°ä¸ç¬¬ 1+N&#x2F;2 ä¸ªæ•°çš„å‡å€¼ã€‚</p>\n<h3 id=\"è§£ç­”æ€è·¯-3\"><a href=\"#è§£ç­”æ€è·¯-3\" class=\"headerlink\" title=\"è§£ç­”æ€è·¯\"></a>è§£ç­”æ€è·¯</h3><p>å¦‚æœè¿™é“é¢˜æ²¡æœ‰å†…å­˜å¤§å°é™åˆ¶ï¼Œåˆ™å¯ä»¥æŠŠæ‰€æœ‰æ•°è¯»åˆ°å†…å­˜ä¸­æ’åºåæ‰¾å‡ºä¸­ä½æ•°ã€‚ä½†æ˜¯æœ€å¥½çš„æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸º O(NlogN)ã€‚è¿™é‡Œä½¿ç”¨å…¶ä»–æ–¹æ³•ã€‚</p>\n<h4 id=\"æ–¹æ³•ä¸€ï¼šåŒå †æ³•\"><a href=\"#æ–¹æ³•ä¸€ï¼šåŒå †æ³•\" class=\"headerlink\" title=\"æ–¹æ³•ä¸€ï¼šåŒå †æ³•\"></a>æ–¹æ³•ä¸€ï¼šåŒå †æ³•</h4><p>ç»´æŠ¤ä¸¤ä¸ªå †ï¼Œä¸€ä¸ªå¤§é¡¶å †ï¼Œä¸€ä¸ªå°é¡¶å †ã€‚å¤§é¡¶å †ä¸­æœ€å¤§çš„æ•°<strong>å°äºç­‰äº</strong>å°é¡¶å †ä¸­æœ€å°çš„æ•°ï¼›ä¿è¯è¿™ä¸¤ä¸ªå †ä¸­çš„å…ƒç´ ä¸ªæ•°çš„å·®ä¸è¶…è¿‡ 1ã€‚<br>è‹¥æ•°æ®æ€»æ•°ä¸º<strong>å¶æ•°</strong>ï¼Œå½“è¿™ä¸¤ä¸ªå †å»ºå¥½ä¹‹åï¼Œ<strong>ä¸­ä½æ•°å°±æ˜¯è¿™ä¸¤ä¸ªå †é¡¶å…ƒç´ çš„å¹³å‡å€¼</strong>ã€‚å½“æ•°æ®æ€»æ•°ä¸º<strong>å¥‡æ•°</strong>æ—¶ï¼Œæ ¹æ®ä¸¤ä¸ªå †çš„å¤§å°ï¼Œ<strong>ä¸­ä½æ•°ä¸€å®šåœ¨æ•°æ®å¤šçš„å †çš„å †é¡¶</strong>ã€‚<br>ä»¥ä¸Šè¿™ç§æ–¹æ³•ï¼Œéœ€è¦æŠŠæ‰€æœ‰æ•°æ®éƒ½åŠ è½½åˆ°å†…å­˜ä¸­ã€‚å½“æ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œå°±ä¸èƒ½è¿™æ ·äº†ï¼Œå› æ­¤ï¼Œè¿™ç§æ–¹æ³•<strong>é€‚ç”¨äºæ•°æ®é‡è¾ƒå°çš„æƒ…å†µ</strong>ã€‚5 äº¿ä¸ªæ•°ï¼Œæ¯ä¸ªæ•°å­—å ç”¨ 4Bï¼Œæ€»å…±éœ€è¦ 2G å†…å­˜ã€‚å¦‚æœå¯ç”¨å†…å­˜ä¸è¶³ 2Gï¼Œå°±ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•äº†ã€‚</p>\n<h4 id=\"æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•\"><a href=\"#æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•\" class=\"headerlink\" title=\"æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•\"></a>æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•</h4><p>åˆ†æ²»æ³•çš„æ€æƒ³æ˜¯æŠŠä¸€ä¸ªå¤§çš„é—®é¢˜é€æ¸è½¬æ¢ä¸ºè§„æ¨¡è¾ƒå°çš„é—®é¢˜æ¥æ±‚è§£ã€‚<br>é¡ºåºè¯»å–è¿™ 5 äº¿ä¸ªæ•°å­—ï¼Œå¯¹äºè¯»å–åˆ°çš„æ•°å­— numberï¼Œå¦‚æœå®ƒå¯¹åº”çš„äºŒè¿›åˆ¶ä¸­æœ€é«˜ä½ä¸º1ï¼Œåˆ™æŠŠè¿™ä¸ªæ•°å­—å†™åˆ° file(1) ä¸­ï¼Œå¦åˆ™å†™å…¥ file(0) ä¸­ã€‚é€šè¿‡è¿™ä¸€æ­¥ï¼Œå¯ä»¥æŠŠè¿™ 5 äº¿ä¸ªæ•°åˆ’<strong>åˆ†ä¸ºä¸¤éƒ¨åˆ†</strong>ï¼Œè€Œä¸” file(0) ä¸­çš„æ•°éƒ½å¤§äº file(1) ä¸­çš„æ•°ï¼ˆæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼‰ã€‚<br>åˆ’åˆ†ä¹‹åï¼Œå¯ä»¥éå¸¸å®¹æ˜“åœ°çŸ¥é“ä¸­ä½æ•°æ˜¯åœ¨ file(0) è¿˜æ˜¯ file(1) ä¸­ã€‚å‡è®¾ file(1) ä¸­æœ‰ 1 äº¿ä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°ä¸€å®šåœ¨ file(0) ä¸­ï¼Œä¸”æ˜¯åœ¨ file(0) ä¸­ï¼Œä»å°åˆ°å¤§æ’åˆ—çš„ç¬¬ 1.5 äº¿ä¸ªæ•°ä¸å®ƒåé¢çš„ä¸€ä¸ªæ•°çš„å¹³å‡å€¼ã€‚<br>ç”±äº5 äº¿æ•°çš„ä¸­ä½æ•°æ˜¯ç¬¬ 2.5 äº¿ä¸å³è¾¹ç›¸é‚»ä¸€ä¸ªæ•°æ±‚å¹³å‡å€¼ã€‚è‹¥ file(1) æœ‰ä¸€äº¿ä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯ file(0) ä¸­ä»ç¬¬ 1.5 äº¿ä¸ªæ•°å¼€å§‹çš„ä¸¤ä¸ªæ•°æ±‚å¾—çš„å¹³å‡å€¼ã€‚<br>å¯¹äº file(0) å¯ä»¥ç”¨æ¬¡é«˜ä½çš„äºŒè¿›åˆ¶ç»§ç»­å°†æ–‡ä»¶ä¸€åˆ†ä¸ºäºŒï¼Œå¦‚æ­¤åˆ’åˆ†ä¸‹å»ï¼Œ<strong>ç›´åˆ°åˆ’åˆ†åçš„æ–‡ä»¶å¯ä»¥è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼ŒæŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ä»¥åç›´æ¥æ’åºï¼Œæ‰¾å‡ºä¸­ä½æ•°ã€‚</strong><br>å½“æ•°æ®æ€»æ•°ä¸ºå¶æ•°ï¼Œå¦‚æœåˆ’åˆ†åä¸¤ä¸ªæ–‡ä»¶ä¸­çš„æ•°æ®æœ‰ç›¸åŒä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ•°æ®è¾ƒå°çš„æ–‡ä»¶ä¸­çš„æœ€å¤§å€¼ä¸æ•°æ®è¾ƒå¤§çš„æ–‡ä»¶ä¸­çš„æœ€å°å€¼çš„å¹³å‡å€¼ã€‚</p>\n<h1 id=\"å¤§æ–‡ä»¶æŸ¥è¯¢é¢‘åº¦æ’åº\"><a href=\"#å¤§æ–‡ä»¶æŸ¥è¯¢é¢‘åº¦æ’åº\" class=\"headerlink\" title=\"å¤§æ–‡ä»¶æŸ¥è¯¢é¢‘åº¦æ’åº\"></a>å¤§æ–‡ä»¶æŸ¥è¯¢é¢‘åº¦æ’åº</h1><h3 id=\"é¢˜ç›®æè¿°-4\"><a href=\"#é¢˜ç›®æè¿°-4\" class=\"headerlink\" title=\"é¢˜ç›®æè¿°\"></a>é¢˜ç›®æè¿°</h3><p>æœ‰ 10 ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¤§å°ä¸º 1Gï¼Œæ¯ä¸ªæ–‡ä»¶çš„æ¯ä¸€è¡Œå­˜æ”¾çš„éƒ½æ˜¯ç”¨æˆ·çš„ queryï¼Œæ¯ä¸ªæ–‡ä»¶çš„ query éƒ½å¯èƒ½é‡å¤ã€‚è¦æ±‚æŒ‰ç…§ query çš„é¢‘åº¦æ’åºã€‚</p>\n<h3 id=\"è§£ç­”æ€è·¯-4\"><a href=\"#è§£ç­”æ€è·¯-4\" class=\"headerlink\" title=\"è§£ç­”æ€è·¯\"></a>è§£ç­”æ€è·¯</h3><p>å¦‚æœ query çš„é‡å¤åº¦æ¯”è¾ƒå¤§ï¼Œå¯ä»¥è€ƒè™‘ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰ query è¯»å…¥å†…å­˜ä¸­å¤„ç†ï¼›å¦‚æœ query çš„é‡å¤ç‡ä¸é«˜ï¼Œé‚£ä¹ˆå¯ç”¨å†…å­˜ä¸è¶³ä»¥å®¹çº³æ‰€æœ‰çš„ queryï¼Œè¿™æ—¶å€™å°±éœ€è¦é‡‡ç”¨åˆ†æ²»æ³•æˆ–å…¶ä»–çš„æ–¹æ³•æ¥è§£å†³ã€‚</p>\n<h4 id=\"æ–¹æ³•ä¸€ï¼šHashMap-æ³•\"><a href=\"#æ–¹æ³•ä¸€ï¼šHashMap-æ³•\" class=\"headerlink\" title=\"æ–¹æ³•ä¸€ï¼šHashMap æ³•\"></a>æ–¹æ³•ä¸€ï¼šHashMap æ³•</h4><p>å¦‚æœ query é‡å¤ç‡é«˜ï¼Œè¯´æ˜ä¸åŒ query æ€»æ•°æ¯”è¾ƒå°ï¼Œå¯ä»¥è€ƒè™‘æŠŠæ‰€æœ‰çš„ query éƒ½åŠ è½½åˆ°å†…å­˜ä¸­çš„ HashMap ä¸­ã€‚æ¥ç€å°±å¯ä»¥æŒ‰ç…§ query å‡ºç°çš„æ¬¡æ•°è¿›è¡Œæ’åºã€‚</p>\n<h4 id=\"æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•-1\"><a href=\"#æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•-1\" class=\"headerlink\" title=\"æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•\"></a>æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•</h4><p>åˆ†æ²»æ³•éœ€è¦æ ¹æ®æ•°æ®é‡å¤§å°ä»¥åŠå¯ç”¨å†…å­˜çš„å¤§å°æ¥ç¡®å®šé—®é¢˜åˆ’åˆ†çš„è§„æ¨¡ã€‚æˆ‘ä»¬é¡ºåºéå† 10 ä¸ªæ–‡ä»¶ä¸­çš„ queryï¼Œé€šè¿‡ Hash å‡½æ•° hash(query) % 10 æŠŠè¿™äº› query åˆ’åˆ†åˆ° 10 ä¸ªå°æ–‡ä»¶ä¸­ã€‚ä¹‹åå¯¹æ¯ä¸ªå°æ–‡ä»¶ä½¿ç”¨ HashMap ç»Ÿè®¡ query å‡ºç°æ¬¡æ•°ï¼Œæ ¹æ®æ¬¡æ•°æ’åºå¹¶å†™å…¥åˆ°é›¶å¤–ä¸€ä¸ªå•ç‹¬æ–‡ä»¶ä¸­ã€‚<br>æ¥ç€å¯¹æ‰€æœ‰æ–‡ä»¶æŒ‰ç…§ query çš„æ¬¡æ•°è¿›è¡Œæ’åºï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨<strong>å½’å¹¶æ’åº</strong>ï¼ˆç”±äºæ— æ³•æŠŠæ‰€æœ‰ query éƒ½è¯»å…¥å†…å­˜ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨<strong>å¤–æ’åº</strong>ï¼‰ã€‚</p>\n<p><strong>å¦‚ä½•ç†è§£å¤–æ’åºï¼Ÿ</strong><br>ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªå«æœ‰ 10000 ä¸ªè®°å½•çš„æ–‡ä»¶ï¼Œä½†æ˜¯å†…å­˜çš„å¯ä½¿ç”¨å®¹é‡ä»…ä¸º 1000 ä¸ªè®°å½•ï¼Œæ¯«æ— ç–‘é—®éœ€è¦ä½¿ç”¨å¤–éƒ¨æ’åºç®—æ³•ï¼Œå…·ä½“åˆ†ä¸ºä¸¤æ­¥ï¼š</p>\n<ul>\n<li>å°†æ•´ä¸ªæ–‡ä»¶å…¶ç­‰åˆ†ä¸º 10 ä¸ªä¸´æ—¶æ–‡ä»¶ï¼ˆæ¯ä¸ªæ–‡ä»¶ä¸­å«æœ‰ 1000 ä¸ªè®°å½•ï¼‰ï¼Œç„¶åå°†è¿™ 10 ä¸ªæ–‡ä»¶ä¾æ¬¡è¿›å…¥å†…å­˜ï¼Œé‡‡å–é€‚å½“çš„å†…å­˜æ’åºç®—æ³•å¯¹å…¶ä¸­çš„è®°å½•è¿›è¡Œæ’åºï¼Œå°†å¾—åˆ°çš„æœ‰åºæ–‡ä»¶ï¼ˆåˆå§‹å½’å¹¶æ®µï¼‰ç§»è‡³å¤–å­˜ã€‚</li>\n<li>å¯¹å¾—åˆ°çš„ 10 ä¸ªåˆå§‹å½’å¹¶æ®µè¿›è¡Œå¦‚å›¾ 1 çš„ä¸¤ä¸¤å½’å¹¶ï¼Œç›´è‡³å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„æœ‰åºæ–‡ä»¶ã€‚<br><img  \n                     lazyload\n                     alt=\"image\"\n                     data-src=\"https://cdn.staticaly.com/gh/1294566108/1294566108.github.io@release/images/outSourt.pkuo99qstj4.webp\"\n                      alt=\"image.png\"\n                ></li>\n</ul>\n<p><strong>æ³¨æ„ï¼š</strong> åœ¨å®é™…å½’å¹¶çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºå†…å­˜å®¹é‡çš„é™åˆ¶ä¸èƒ½æ»¡è¶³åŒæ—¶å°† 2 ä¸ªå½’å¹¶æ®µå…¨éƒ¨å®Œæ•´çš„è¯»å…¥å†…å­˜è¿›è¡Œå½’å¹¶ï¼Œåªèƒ½ä¸æ–­åœ°å– 2 ä¸ªå½’å¹¶æ®µä¸­çš„æ¯ä¸€å°éƒ¨åˆ†è¿›è¡Œå½’å¹¶ï¼Œé€šè¿‡ä¸æ–­åœ°è¯»æ•°æ®å’Œå‘å¤–å­˜å†™æ•°æ®ï¼Œç›´è‡³ 2 ä¸ªå½’å¹¶æ®µå®Œæˆå½’å¹¶å˜ä¸º 1 ä¸ªå¤§çš„æœ‰åºæ–‡ä»¶ã€‚</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"å¤§æ–‡ä»¶æ‰¾top100å•è¯\"><a href=\"#å¤§æ–‡ä»¶æ‰¾top100å•è¯\" class=\"headerlink\" title=\"å¤§æ–‡ä»¶æ‰¾top100å•è¯\"></a>å¤§æ–‡ä»¶æ‰¾top100å•è¯</h1><h3 id=\"é¢˜ç›®æè¿°\"><a href=\"#é¢˜ç›®æè¿°\" class=\"headerlink\" title=\"é¢˜ç›®æè¿°\"></a>é¢˜ç›®æè¿°</h3><p>æœ‰ä¸€ä¸ª 1GB å¤§å°çš„æ–‡ä»¶ï¼Œæ–‡ä»¶é‡Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªè¯ï¼Œæ¯ä¸ªè¯çš„å¤§å°ä¸è¶…è¿‡ 16Bï¼Œå†…å­˜å¤§å°é™åˆ¶æ˜¯ 1MBï¼Œè¦æ±‚è¿”å›é¢‘æ•°æœ€é«˜çš„ 100 ä¸ªè¯(Top 100)ã€‚</p>\n<h3 id=\"è§£ç­”æ€è·¯\"><a href=\"#è§£ç­”æ€è·¯\" class=\"headerlink\" title=\"è§£ç­”æ€è·¯\"></a>è§£ç­”æ€è·¯</h3><p>ç”±äºå†…å­˜é™åˆ¶ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥å°†å¤§æ–‡ä»¶æ‰€æœ‰è¯ä¸€æ¬¡æ€§å…¨éƒ¨è¯»åˆ°å†…å­˜ä¸­ã€‚å› æ­¤ï¼Œå¯ä»¥é‡‡ç”¨åˆ†æ²»ç­–ç•¥ï¼ŒæŠŠä¸€ä¸ªå¤§æ–‡ä»¶åˆ†è§£æˆnä¸ªå°æ–‡ä»¶ï¼Œä¿è¯æ¯ä¸ªæ–‡ä»¶çš„å¤§å°å°äºå†…å­˜å¤§å°é™åˆ¶ï¼ˆè¿™é‡Œæ˜¯ 1MBï¼‰ï¼Œè¿›è€Œç›´æ¥å°†å•ä¸ªå°æ–‡ä»¶è¯»å–åˆ°å†…å­˜ä¸­è¿›è¡Œå¤„ç†ã€‚<br><strong>1.å“ˆå¸Œå–ä½™</strong><br>éå†å¤§æ–‡ä»¶çš„æ¯ä¸ªè¯wordï¼Œæ‰§è¡Œ hash(word) % 5000ï¼Œå°†ç»“æœä¸º i çš„è¯å­˜æ”¾åˆ°æ–‡ä»¶ file(i) ä¸­ã€‚éå†ç»“æŸåï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° 5000 ä¸ªå°æ–‡ä»¶ã€‚æ¯ä¸ªå°æ–‡ä»¶çš„å¤§å°ä¸º 200KB å·¦å³ã€‚å¦‚æœæœ‰çš„å°æ–‡ä»¶å¤§å°ä»ç„¶è¶…è¿‡ 1MBï¼Œåˆ™é‡‡ç”¨åŒæ ·çš„æ–¹å¼ç»§ç»­è¿›è¡Œåˆ†è§£ï¼Œç›´åˆ°å°äº1MBä¸ºæ­¢ã€‚<br><strong>2.ç»Ÿè®¡é¢‘æ•°</strong><br>æ¥ç€ç»Ÿè®¡æ¯ä¸ªå°æ–‡ä»¶ file(i) ä¸­å‡ºç°é¢‘æ•°æœ€é«˜çš„ 100 ä¸ªè¯ã€‚æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ HashMap æ¥å®ç°ã€‚å…¶ä¸­ key ä¸ºè¯ï¼Œvalue ä¸ºè¯¥è¯å‡ºç°çš„é¢‘ç‡ã€‚éå†åˆ°è¯ wordï¼Œå¦‚æœåœ¨ HashMap ä¸­ä¸å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œ map.put(word, 1)ï¼›å­˜åœ¨åˆ™æ‰§è¡Œ map.put(word, map.get(word)+1)ï¼Œå°†è¯¥è¯é¢‘æ•°åŠ  1ã€‚<br><strong>3.å°é¡¶å †</strong><br>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ„å»ºä¸€ä¸ªå †å¤§å°ä¸º 100 çš„å°é¡¶å †æ¥æ‰¾å‡ºæ‰€æœ‰è¯ä¸­å‡ºç°é¢‘æ•°æœ€é«˜çš„ top100 å•è¯ã€‚ä¾æ¬¡éå†æ¯ä¸ªå°æ–‡ä»¶ï¼Œéå†åˆ°çš„è¯çš„å‡ºç°æ¬¡æ•°å¤§äºå †é¡¶è¯çš„å‡ºç°æ¬¡æ•°ï¼Œåˆ™ç”¨æ–°è¯æ›¿æ¢å †é¡¶çš„è¯ï¼Œç„¶åè°ƒæ•´å°é¡¶å †ï¼Œéå†ç»“æŸåï¼Œå°é¡¶å †ä¸Šçš„è¯å°±æ˜¯å‡ºç°é¢‘æ•°æœ€é«˜çš„ 100 ä¸ªè¯ã€‚<br><strong>æ³¨æ„ï¼šè‹¥è¦æ‰¾å‡ºæœ€å°top100å•è¯çš„æ–¹æ³•ä¸ä¹‹ç±»ä¼¼ï¼Œå°†å°é¡¶å †æ¢æˆå¤§é¡¶å †å°±å¥½äº†ã€‚</strong><br>ä»åºåˆ—ä¸­é€‰æ‹©æœ€å¤§çš„Kä¸ªæ•°ï¼ˆå°é¡¶å †ï¼‰<br>åœºæ™¯ï¼šè¦é€‰æ‹©æœ€å¤§çš„kä¸ªæ•°ã€‚<br>åšæ³•ï¼šã€æ„é€ å°é¡¶å †ï¼ˆä¸€å…±kä¸ªæ•°ï¼‰ã€‘ï¼Œæ¯æ¬¡å–æ•°ç»„ä¸­å‰©ä½™æ•°ä¸ ã€å †é¡¶çš„å…ƒç´ ï¼ˆkä¸ªæ•°ä¸­çš„æœ€å°å€¼ï¼‰ã€‘ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å¤§ï¼Œåˆ™åˆ é™¤å †é¡¶å…ƒç´ ï¼Œå¹¶æ·»åŠ è¿™ä¸ªæ–°æ•°åˆ°å †ä¸­ï¼›å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å°ï¼Œåˆ™è¯´æ˜å †ä¸­çš„kä¸ªæ•°éƒ½æ¯”æ–°æ•°å¤§ï¼Œæ‰€ä»¥ä¸ç”¨è¿›è¡Œæ“ä½œã€‚<br>ä»åºåˆ—ä¸­é€‰æ‹©æœ€å°çš„Kä¸ªæ•°ï¼ˆå¤§é¡¶å †ï¼‰<br>åœºæ™¯ï¼šè¦é€‰æ‹©æœ€å°çš„kä¸ªæ•°ã€‚<br>åšæ³•ï¼šã€æ„é€ å¤§é¡¶å †ï¼ˆä¸€å…±kä¸ªæ•°ï¼‰ã€‘ï¼Œæ¯æ¬¡å–æ•°ç»„ä¸­å‰©ä½™æ•°ä¸ ã€å †é¡¶çš„å…ƒç´ ï¼ˆkä¸ªæ•°ä¸­çš„æœ€å¤§æ•°ï¼‰ã€‘ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å°ï¼Œåˆ™åˆ é™¤å †é¡¶å…ƒç´ ï¼Œå¹¶æ·»åŠ è¿™ä¸ªæ–°æ•°åˆ°å †ä¸­ï¼›å¦‚æœæ–°æ•°æ¯”å †é¡¶å…ƒç´ å¤§ï¼Œåˆ™è¯´æ˜å †ä¸­çš„kä¸ªæ•°éƒ½æ¯”æ–°æ•°å°ï¼Œæ‰€ä»¥ä¸ç”¨è¿›è¡Œæ“ä½œã€‚</p>\n<h1 id=\"å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸é‡å¤æ•´æ•°\"><a href=\"#å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸é‡å¤æ•´æ•°\" class=\"headerlink\" title=\"å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸é‡å¤æ•´æ•°\"></a>å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸é‡å¤æ•´æ•°</h1><h3 id=\"é¢˜ç›®æè¿°-1\"><a href=\"#é¢˜ç›®æè¿°-1\" class=\"headerlink\" title=\"é¢˜ç›®æè¿°\"></a>é¢˜ç›®æè¿°</h3><p>åœ¨ 2 äº¿ä¸ªæ•´æ•°ä¸­æ‰¾å‡ºä¸é‡å¤çš„æ•´æ•°ï¼Œå†…å­˜ä¸è¶³ä»¥å®¹çº³è¿™ 2 äº¿ä¸ªæ•´æ•°ã€‚</p>\n<h3 id=\"è§£ç­”æ€è·¯-1\"><a href=\"#è§£ç­”æ€è·¯-1\" class=\"headerlink\" title=\"è§£ç­”æ€è·¯\"></a>è§£ç­”æ€è·¯</h3><h4 id=\"æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•\"><a href=\"#æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•\" class=\"headerlink\" title=\"æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•\"></a>æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•</h4><p>ä¸å‰é¢çš„é¢˜ç›®æ–¹æ³•ç±»ä¼¼ï¼Œå…ˆå°† 2 äº¿ä¸ªæ•°åˆ’åˆ†åˆ°å¤šä¸ªå°æ–‡ä»¶ï¼Œç”¨ HashSet&#x2F;HashMap æ‰¾å‡ºæ¯ä¸ªå°æ–‡ä»¶ä¸­ä¸é‡å¤çš„æ•´æ•°ï¼Œå†åˆå¹¶æ¯ä¸ªå­ç»“æœï¼Œå³ä¸ºæœ€ç»ˆç»“æœã€‚</p>\n<h4 id=\"æ–¹æ³•äºŒï¼šä½å›¾æ³•\"><a href=\"#æ–¹æ³•äºŒï¼šä½å›¾æ³•\" class=\"headerlink\" title=\"æ–¹æ³•äºŒï¼šä½å›¾æ³•\"></a>æ–¹æ³•äºŒï¼šä½å›¾æ³•</h4><p>ä½å›¾æ˜¯æŒ‡ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª bit æ¥æ ‡è®°æŸä¸ªå…ƒç´ å¯¹åº”çš„å€¼ã€‚å› ä¸ºä½¿ç”¨bitä¸ºå•ä½å­˜å‚¨æ•°æ®å¯ä»¥å¤§å¤§èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚å¯¹äºè¿™é“é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ 2 ä¸ª bit æ¥è¡¨ç¤ºå„ä¸ªæ•°å­—çš„çŠ¶æ€ï¼š</p>\n<ul>\n<li>00 è¡¨ç¤ºè¿™ä¸ªæ•°å­—æ²¡å‡ºç°è¿‡ï¼›</li>\n<li>01 è¡¨ç¤ºè¿™ä¸ªæ•°å­—å‡ºç°è¿‡ä¸€æ¬¡ï¼ˆå³ä¸ºé¢˜ç›®æ‰€æ‰¾çš„ä¸é‡å¤æ•´æ•°ï¼‰ï¼›</li>\n<li>10 è¡¨ç¤ºè¿™ä¸ªæ•°å­—å‡ºç°äº†å¤šæ¬¡ã€‚</li>\n</ul>\n<p>2äº¿ä¸ªæ•´æ•°ï¼Œæ€»å…±æ‰€éœ€å†…å­˜ä¸º</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2äº¿ä¸ªæ•´æ•° Ã— 4å­—èŠ‚/æ•´æ•° = 8äº¿å­—èŠ‚</span><br><span class=\"line\">1GBç­‰äº1,073,741,824å­—èŠ‚ã€‚</span><br><span class=\"line\">8äº¿å­—èŠ‚ Ã· 1,073,741,824å­—èŠ‚/GB â‰ˆ 0.745GBã€‚</span><br></pre></td></tr></table></figure>\n\n<p>å› æ­¤ï¼Œå¦‚æœæ­¤é¢˜çš„å¯ç”¨å†…å­˜è¶…è¿‡ 0.75GB æ—¶ï¼Œå¯ä»¥é‡‡ç”¨ä½å›¾æ³•ã€‚<br>éå† 2 äº¿ä¸ªæ•´æ•°ï¼ŒæŸ¥çœ‹ä½å›¾ä¸­å¯¹åº”çš„ä½ï¼Œå¦‚æœæ˜¯ 00ï¼Œåˆ™å˜ä¸º 01ï¼Œå¦‚æœæ˜¯ 01 åˆ™å˜ä¸º 10ï¼Œå¦‚æœæ˜¯ 10 åˆ™ä¿æŒä¸å˜ã€‚éå†ç»“æŸåï¼ŒæŸ¥çœ‹ä½å›¾ï¼ŒæŠŠå¯¹åº”ä½æ˜¯ 01 çš„æ•´æ•°è¾“å‡ºå³å¯ã€‚</p>\n<h1 id=\"å¤§é‡æ•°æ®ä¸­åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨\"><a href=\"#å¤§é‡æ•°æ®ä¸­åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨\" class=\"headerlink\" title=\"å¤§é‡æ•°æ®ä¸­åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨\"></a>å¤§é‡æ•°æ®ä¸­åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨</h1><h3 id=\"é¢˜ç›®æè¿°-2\"><a href=\"#é¢˜ç›®æè¿°-2\" class=\"headerlink\" title=\"é¢˜ç›®æè¿°\"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®š 40 äº¿ä¸ªä¸é‡å¤çš„æ²¡æ’è¿‡åºçš„ unsigned int å‹æ•´æ•°ï¼Œç„¶åå†ç»™å®šä¸€ä¸ªæ•°ï¼Œå¦‚ä½•å¿«é€Ÿåˆ¤æ–­è¿™ä¸ªæ•°æ˜¯å¦åœ¨è¿™ 40 äº¿ä¸ªæ•´æ•°å½“ä¸­ï¼Ÿ</p>\n<h3 id=\"è§£ç­”æ€è·¯-2\"><a href=\"#è§£ç­”æ€è·¯-2\" class=\"headerlink\" title=\"è§£ç­”æ€è·¯\"></a>è§£ç­”æ€è·¯</h3><h4 id=\"æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•-1\"><a href=\"#æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•-1\" class=\"headerlink\" title=\"æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•\"></a>æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•</h4><p>åˆ†æ²»æ³•è§£å†³ï¼Œä¸å‰é¢ç±»ä¼¼ï¼Œä¸å†èµ˜è¿°ã€‚</p>\n<h4 id=\"æ–¹æ³•äºŒï¼šä½å›¾æ³•-1\"><a href=\"#æ–¹æ³•äºŒï¼šä½å›¾æ³•-1\" class=\"headerlink\" title=\"æ–¹æ³•äºŒï¼šä½å›¾æ³•\"></a>æ–¹æ³•äºŒï¼šä½å›¾æ³•</h4><p>40 äº¿ä¸ªä¸é‡å¤æ•´æ•°ï¼Œæˆ‘ä»¬ç”¨ 40 äº¿ä¸ª bit æ¥è¡¨ç¤ºï¼Œåˆå§‹ä½å‡ä¸º 0ï¼Œé‚£ä¹ˆæ€»å…±éœ€è¦å†…å­˜ï¼š4,000,000,000bâ‰ˆ512Mã€‚<br>æˆ‘ä»¬è¯»å–è¿™ 40 äº¿ä¸ªæ•´æ•°ï¼Œå°†å¯¹åº”çš„ bit è®¾ç½®ä¸º 1ã€‚æ¥ç€è¯»å–è¦æŸ¥è¯¢çš„æ•°ï¼ŒæŸ¥çœ‹ç›¸åº”ä½æ˜¯å¦ä¸º 1ï¼Œå¦‚æœä¸º 1 è¡¨ç¤ºå­˜åœ¨ï¼Œå¦‚æœä¸º 0 è¡¨ç¤ºä¸å­˜åœ¨ã€‚</p>\n<h1 id=\"å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸­ä½æ•°\"><a href=\"#å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸­ä½æ•°\" class=\"headerlink\" title=\"å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸­ä½æ•°\"></a>å¤§é‡æ•°æ®ä¸­æ‰¾å‡ºä¸­ä½æ•°</h1><h3 id=\"é¢˜ç›®æè¿°-3\"><a href=\"#é¢˜ç›®æè¿°-3\" class=\"headerlink\" title=\"é¢˜ç›®æè¿°\"></a>é¢˜ç›®æè¿°</h3><p>ä» 5 äº¿ä¸ªæ•°ä¸­æ‰¾å‡ºä¸­ä½æ•°ã€‚æ•°æ®æ’åºåï¼Œä½ç½®åœ¨æœ€ä¸­é—´çš„æ•°å°±æ˜¯ä¸­ä½æ•°ã€‚å½“æ ·æœ¬æ•°ä¸ºå¥‡æ•°æ—¶ï¼Œä¸­ä½æ•°ä¸º ç¬¬ (N+1)&#x2F;2 ä¸ªæ•°ï¼›å½“æ ·æœ¬æ•°ä¸ºå¶æ•°æ—¶ï¼Œä¸­ä½æ•°ä¸º ç¬¬ N&#x2F;2 ä¸ªæ•°ä¸ç¬¬ 1+N&#x2F;2 ä¸ªæ•°çš„å‡å€¼ã€‚</p>\n<h3 id=\"è§£ç­”æ€è·¯-3\"><a href=\"#è§£ç­”æ€è·¯-3\" class=\"headerlink\" title=\"è§£ç­”æ€è·¯\"></a>è§£ç­”æ€è·¯</h3><p>å¦‚æœè¿™é“é¢˜æ²¡æœ‰å†…å­˜å¤§å°é™åˆ¶ï¼Œåˆ™å¯ä»¥æŠŠæ‰€æœ‰æ•°è¯»åˆ°å†…å­˜ä¸­æ’åºåæ‰¾å‡ºä¸­ä½æ•°ã€‚ä½†æ˜¯æœ€å¥½çš„æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸º O(NlogN)ã€‚è¿™é‡Œä½¿ç”¨å…¶ä»–æ–¹æ³•ã€‚</p>\n<h4 id=\"æ–¹æ³•ä¸€ï¼šåŒå †æ³•\"><a href=\"#æ–¹æ³•ä¸€ï¼šåŒå †æ³•\" class=\"headerlink\" title=\"æ–¹æ³•ä¸€ï¼šåŒå †æ³•\"></a>æ–¹æ³•ä¸€ï¼šåŒå †æ³•</h4><p>ç»´æŠ¤ä¸¤ä¸ªå †ï¼Œä¸€ä¸ªå¤§é¡¶å †ï¼Œä¸€ä¸ªå°é¡¶å †ã€‚å¤§é¡¶å †ä¸­æœ€å¤§çš„æ•°<strong>å°äºç­‰äº</strong>å°é¡¶å †ä¸­æœ€å°çš„æ•°ï¼›ä¿è¯è¿™ä¸¤ä¸ªå †ä¸­çš„å…ƒç´ ä¸ªæ•°çš„å·®ä¸è¶…è¿‡ 1ã€‚<br>è‹¥æ•°æ®æ€»æ•°ä¸º<strong>å¶æ•°</strong>ï¼Œå½“è¿™ä¸¤ä¸ªå †å»ºå¥½ä¹‹åï¼Œ<strong>ä¸­ä½æ•°å°±æ˜¯è¿™ä¸¤ä¸ªå †é¡¶å…ƒç´ çš„å¹³å‡å€¼</strong>ã€‚å½“æ•°æ®æ€»æ•°ä¸º<strong>å¥‡æ•°</strong>æ—¶ï¼Œæ ¹æ®ä¸¤ä¸ªå †çš„å¤§å°ï¼Œ<strong>ä¸­ä½æ•°ä¸€å®šåœ¨æ•°æ®å¤šçš„å †çš„å †é¡¶</strong>ã€‚<br>ä»¥ä¸Šè¿™ç§æ–¹æ³•ï¼Œéœ€è¦æŠŠæ‰€æœ‰æ•°æ®éƒ½åŠ è½½åˆ°å†…å­˜ä¸­ã€‚å½“æ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œå°±ä¸èƒ½è¿™æ ·äº†ï¼Œå› æ­¤ï¼Œè¿™ç§æ–¹æ³•<strong>é€‚ç”¨äºæ•°æ®é‡è¾ƒå°çš„æƒ…å†µ</strong>ã€‚5 äº¿ä¸ªæ•°ï¼Œæ¯ä¸ªæ•°å­—å ç”¨ 4Bï¼Œæ€»å…±éœ€è¦ 2G å†…å­˜ã€‚å¦‚æœå¯ç”¨å†…å­˜ä¸è¶³ 2Gï¼Œå°±ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•äº†ã€‚</p>\n<h4 id=\"æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•\"><a href=\"#æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•\" class=\"headerlink\" title=\"æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•\"></a>æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•</h4><p>åˆ†æ²»æ³•çš„æ€æƒ³æ˜¯æŠŠä¸€ä¸ªå¤§çš„é—®é¢˜é€æ¸è½¬æ¢ä¸ºè§„æ¨¡è¾ƒå°çš„é—®é¢˜æ¥æ±‚è§£ã€‚<br>é¡ºåºè¯»å–è¿™ 5 äº¿ä¸ªæ•°å­—ï¼Œå¯¹äºè¯»å–åˆ°çš„æ•°å­— numberï¼Œå¦‚æœå®ƒå¯¹åº”çš„äºŒè¿›åˆ¶ä¸­æœ€é«˜ä½ä¸º1ï¼Œåˆ™æŠŠè¿™ä¸ªæ•°å­—å†™åˆ° file(1) ä¸­ï¼Œå¦åˆ™å†™å…¥ file(0) ä¸­ã€‚é€šè¿‡è¿™ä¸€æ­¥ï¼Œå¯ä»¥æŠŠè¿™ 5 äº¿ä¸ªæ•°åˆ’<strong>åˆ†ä¸ºä¸¤éƒ¨åˆ†</strong>ï¼Œè€Œä¸” file(0) ä¸­çš„æ•°éƒ½å¤§äº file(1) ä¸­çš„æ•°ï¼ˆæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼‰ã€‚<br>åˆ’åˆ†ä¹‹åï¼Œå¯ä»¥éå¸¸å®¹æ˜“åœ°çŸ¥é“ä¸­ä½æ•°æ˜¯åœ¨ file(0) è¿˜æ˜¯ file(1) ä¸­ã€‚å‡è®¾ file(1) ä¸­æœ‰ 1 äº¿ä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°ä¸€å®šåœ¨ file(0) ä¸­ï¼Œä¸”æ˜¯åœ¨ file(0) ä¸­ï¼Œä»å°åˆ°å¤§æ’åˆ—çš„ç¬¬ 1.5 äº¿ä¸ªæ•°ä¸å®ƒåé¢çš„ä¸€ä¸ªæ•°çš„å¹³å‡å€¼ã€‚<br>ç”±äº5 äº¿æ•°çš„ä¸­ä½æ•°æ˜¯ç¬¬ 2.5 äº¿ä¸å³è¾¹ç›¸é‚»ä¸€ä¸ªæ•°æ±‚å¹³å‡å€¼ã€‚è‹¥ file(1) æœ‰ä¸€äº¿ä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯ file(0) ä¸­ä»ç¬¬ 1.5 äº¿ä¸ªæ•°å¼€å§‹çš„ä¸¤ä¸ªæ•°æ±‚å¾—çš„å¹³å‡å€¼ã€‚<br>å¯¹äº file(0) å¯ä»¥ç”¨æ¬¡é«˜ä½çš„äºŒè¿›åˆ¶ç»§ç»­å°†æ–‡ä»¶ä¸€åˆ†ä¸ºäºŒï¼Œå¦‚æ­¤åˆ’åˆ†ä¸‹å»ï¼Œ<strong>ç›´åˆ°åˆ’åˆ†åçš„æ–‡ä»¶å¯ä»¥è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼ŒæŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ä»¥åç›´æ¥æ’åºï¼Œæ‰¾å‡ºä¸­ä½æ•°ã€‚</strong><br>å½“æ•°æ®æ€»æ•°ä¸ºå¶æ•°ï¼Œå¦‚æœåˆ’åˆ†åä¸¤ä¸ªæ–‡ä»¶ä¸­çš„æ•°æ®æœ‰ç›¸åŒä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ•°æ®è¾ƒå°çš„æ–‡ä»¶ä¸­çš„æœ€å¤§å€¼ä¸æ•°æ®è¾ƒå¤§çš„æ–‡ä»¶ä¸­çš„æœ€å°å€¼çš„å¹³å‡å€¼ã€‚</p>\n<h1 id=\"å¤§æ–‡ä»¶æŸ¥è¯¢é¢‘åº¦æ’åº\"><a href=\"#å¤§æ–‡ä»¶æŸ¥è¯¢é¢‘åº¦æ’åº\" class=\"headerlink\" title=\"å¤§æ–‡ä»¶æŸ¥è¯¢é¢‘åº¦æ’åº\"></a>å¤§æ–‡ä»¶æŸ¥è¯¢é¢‘åº¦æ’åº</h1><h3 id=\"é¢˜ç›®æè¿°-4\"><a href=\"#é¢˜ç›®æè¿°-4\" class=\"headerlink\" title=\"é¢˜ç›®æè¿°\"></a>é¢˜ç›®æè¿°</h3><p>æœ‰ 10 ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¤§å°ä¸º 1Gï¼Œæ¯ä¸ªæ–‡ä»¶çš„æ¯ä¸€è¡Œå­˜æ”¾çš„éƒ½æ˜¯ç”¨æˆ·çš„ queryï¼Œæ¯ä¸ªæ–‡ä»¶çš„ query éƒ½å¯èƒ½é‡å¤ã€‚è¦æ±‚æŒ‰ç…§ query çš„é¢‘åº¦æ’åºã€‚</p>\n<h3 id=\"è§£ç­”æ€è·¯-4\"><a href=\"#è§£ç­”æ€è·¯-4\" class=\"headerlink\" title=\"è§£ç­”æ€è·¯\"></a>è§£ç­”æ€è·¯</h3><p>å¦‚æœ query çš„é‡å¤åº¦æ¯”è¾ƒå¤§ï¼Œå¯ä»¥è€ƒè™‘ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰ query è¯»å…¥å†…å­˜ä¸­å¤„ç†ï¼›å¦‚æœ query çš„é‡å¤ç‡ä¸é«˜ï¼Œé‚£ä¹ˆå¯ç”¨å†…å­˜ä¸è¶³ä»¥å®¹çº³æ‰€æœ‰çš„ queryï¼Œè¿™æ—¶å€™å°±éœ€è¦é‡‡ç”¨åˆ†æ²»æ³•æˆ–å…¶ä»–çš„æ–¹æ³•æ¥è§£å†³ã€‚</p>\n<h4 id=\"æ–¹æ³•ä¸€ï¼šHashMap-æ³•\"><a href=\"#æ–¹æ³•ä¸€ï¼šHashMap-æ³•\" class=\"headerlink\" title=\"æ–¹æ³•ä¸€ï¼šHashMap æ³•\"></a>æ–¹æ³•ä¸€ï¼šHashMap æ³•</h4><p>å¦‚æœ query é‡å¤ç‡é«˜ï¼Œè¯´æ˜ä¸åŒ query æ€»æ•°æ¯”è¾ƒå°ï¼Œå¯ä»¥è€ƒè™‘æŠŠæ‰€æœ‰çš„ query éƒ½åŠ è½½åˆ°å†…å­˜ä¸­çš„ HashMap ä¸­ã€‚æ¥ç€å°±å¯ä»¥æŒ‰ç…§ query å‡ºç°çš„æ¬¡æ•°è¿›è¡Œæ’åºã€‚</p>\n<h4 id=\"æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•-1\"><a href=\"#æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•-1\" class=\"headerlink\" title=\"æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•\"></a>æ–¹æ³•äºŒï¼šåˆ†æ²»æ³•</h4><p>åˆ†æ²»æ³•éœ€è¦æ ¹æ®æ•°æ®é‡å¤§å°ä»¥åŠå¯ç”¨å†…å­˜çš„å¤§å°æ¥ç¡®å®šé—®é¢˜åˆ’åˆ†çš„è§„æ¨¡ã€‚æˆ‘ä»¬é¡ºåºéå† 10 ä¸ªæ–‡ä»¶ä¸­çš„ queryï¼Œé€šè¿‡ Hash å‡½æ•° hash(query) % 10 æŠŠè¿™äº› query åˆ’åˆ†åˆ° 10 ä¸ªå°æ–‡ä»¶ä¸­ã€‚ä¹‹åå¯¹æ¯ä¸ªå°æ–‡ä»¶ä½¿ç”¨ HashMap ç»Ÿè®¡ query å‡ºç°æ¬¡æ•°ï¼Œæ ¹æ®æ¬¡æ•°æ’åºå¹¶å†™å…¥åˆ°é›¶å¤–ä¸€ä¸ªå•ç‹¬æ–‡ä»¶ä¸­ã€‚<br>æ¥ç€å¯¹æ‰€æœ‰æ–‡ä»¶æŒ‰ç…§ query çš„æ¬¡æ•°è¿›è¡Œæ’åºï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨<strong>å½’å¹¶æ’åº</strong>ï¼ˆç”±äºæ— æ³•æŠŠæ‰€æœ‰ query éƒ½è¯»å…¥å†…å­˜ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨<strong>å¤–æ’åº</strong>ï¼‰ã€‚</p>\n<p><strong>å¦‚ä½•ç†è§£å¤–æ’åºï¼Ÿ</strong><br>ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªå«æœ‰ 10000 ä¸ªè®°å½•çš„æ–‡ä»¶ï¼Œä½†æ˜¯å†…å­˜çš„å¯ä½¿ç”¨å®¹é‡ä»…ä¸º 1000 ä¸ªè®°å½•ï¼Œæ¯«æ— ç–‘é—®éœ€è¦ä½¿ç”¨å¤–éƒ¨æ’åºç®—æ³•ï¼Œå…·ä½“åˆ†ä¸ºä¸¤æ­¥ï¼š</p>\n<ul>\n<li>å°†æ•´ä¸ªæ–‡ä»¶å…¶ç­‰åˆ†ä¸º 10 ä¸ªä¸´æ—¶æ–‡ä»¶ï¼ˆæ¯ä¸ªæ–‡ä»¶ä¸­å«æœ‰ 1000 ä¸ªè®°å½•ï¼‰ï¼Œç„¶åå°†è¿™ 10 ä¸ªæ–‡ä»¶ä¾æ¬¡è¿›å…¥å†…å­˜ï¼Œé‡‡å–é€‚å½“çš„å†…å­˜æ’åºç®—æ³•å¯¹å…¶ä¸­çš„è®°å½•è¿›è¡Œæ’åºï¼Œå°†å¾—åˆ°çš„æœ‰åºæ–‡ä»¶ï¼ˆåˆå§‹å½’å¹¶æ®µï¼‰ç§»è‡³å¤–å­˜ã€‚</li>\n<li>å¯¹å¾—åˆ°çš„ 10 ä¸ªåˆå§‹å½’å¹¶æ®µè¿›è¡Œå¦‚å›¾ 1 çš„ä¸¤ä¸¤å½’å¹¶ï¼Œç›´è‡³å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„æœ‰åºæ–‡ä»¶ã€‚<br><img src=\"https://cdn.staticaly.com/gh/1294566108/1294566108.github.io@release/images/outSourt.pkuo99qstj4.webp\" alt=\"image.png\"></li>\n</ul>\n<p><strong>æ³¨æ„ï¼š</strong> åœ¨å®é™…å½’å¹¶çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºå†…å­˜å®¹é‡çš„é™åˆ¶ä¸èƒ½æ»¡è¶³åŒæ—¶å°† 2 ä¸ªå½’å¹¶æ®µå…¨éƒ¨å®Œæ•´çš„è¯»å…¥å†…å­˜è¿›è¡Œå½’å¹¶ï¼Œåªèƒ½ä¸æ–­åœ°å– 2 ä¸ªå½’å¹¶æ®µä¸­çš„æ¯ä¸€å°éƒ¨åˆ†è¿›è¡Œå½’å¹¶ï¼Œé€šè¿‡ä¸æ–­åœ°è¯»æ•°æ®å’Œå‘å¤–å­˜å†™æ•°æ®ï¼Œç›´è‡³ 2 ä¸ªå½’å¹¶æ®µå®Œæˆå½’å¹¶å˜ä¸º 1 ä¸ªå¤§çš„æœ‰åºæ–‡ä»¶ã€‚</p>\n","popularPost_tmp_postPath":true,"eyeCatchImage":"https://cdn.staticaly.com/gh/1294566108/1294566108.github.io@release/images/outSourt.pkuo99qstj4.webp","popularPost_tmp_gaData":{"updated":"Sun Sep 10 2023 21:41:58 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)","title":"åŸºäºå¤§é‡æ•°æ®çš„åœºæ™¯é¢˜","path":"2023/09/10/åŸºäºå¤§é‡æ•°æ®çš„åœºæ™¯é¢˜/","eyeCatchImage":"https://cdn.staticaly.com/gh/1294566108/1294566108.github.io@release/images/outSourt.pkuo99qstj4.webp","excerpt":null,"date":{"_isAMomentObject":true,"_i":"2023-09-10T13:01:55.000Z","_isUTC":false,"_pf":{"empty":false,"unusedTokens":[],"unusedInput":[],"overflow":-2,"charsLeftOver":0,"nullInput":false,"invalidEra":null,"invalidMonth":null,"invalidFormat":false,"userInvalidated":false,"iso":false,"parsedDateParts":[],"era":null,"meridiem":null,"rfc2822":false,"weekdayMismatch":false},"_locale":{"_calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"_longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"_invalidDate":"Invalid date","_dayOfMonthOrdinalParse":{},"_relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"_months":["January","February","March","April","May","June","July","August","September","October","November","December"],"_monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"_week":{"dow":0,"doy":6},"_weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"_weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"_weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"_meridiemParse":{},"_eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"_abbr":"en","_config":{"calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"invalidDate":"Invalid date","dayOfMonthOrdinalParse":{},"relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"week":{"dow":0,"doy":6},"weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"meridiemParse":{},"eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"abbr":"en"},"_dayOfMonthOrdinalParseLenient":{}},"_d":"2023-09-10T13:01:55.000Z","_isValid":true,"_z":null},"pv":0,"totalPV":0,"categories":"","tags":["åœºæ™¯é¢˜"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"JRaft-jepsen çº¿æ€§ä¸€è‡´æ€§æµ‹è¯•","date":"2023-09-11T05:47:03.000Z","_content":"\n**Jepsenå‰ç½®èµ„æ–™å‚è€ƒï¼š**[Jepsenä¸­æ–‡å®˜æ–¹æ–‡æ¡£](https://jaydenwen123.gitbook.io/zh_jepsen_doc/)   [Jepsenä½œè€…åšå®¢](https://aphyr.com/)\n**Cloujreå‰ç½®èµ„æ–™ï¼š**[Clojureå…¥é—¨æ–‡ç« -è‹±æ–‡ç‰ˆ](https://aphyr.com/posts/301-clojure-from-the-ground-up-welcome)   [Clojureä¸­æ–‡æ–‡æ¡£](https://siddontang.gitbooks.io/lean-clojure/content/hello-clojure.html)\n\n# çº¿æ€§ä¸€è‡´æ€§æ¦‚è¿°\n\n## æ¦‚å¿µ\n\nå¦‚æœè¯´ä½ å¯¹çº¿æ€§ä¸€è‡´æ€§ï¼ˆLinearizabilityï¼‰æ¦‚å¿µä¸å¤ªç†Ÿï¼Œé‚£ä¸€å®šçŸ¥é“å¼ºä¸€è‡´æ€§ï¼ˆstrong consistencyï¼‰ï¼Œæˆ–è€…è¯´åŸå­ä¸€è‡´æ€§ï¼ˆatomic consistencyï¼‰ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºçš„ CAP ç†è®ºä¸­çš„ Cã€‚\n\n## Raftçº¿æ€§ä¸€è‡´æ€§çš„å®ç°\n\n### çº¿æ€§ä¸€è‡´æ€§å†™\n\næ‰€æœ‰çš„ read/write éƒ½ä¼šæ¥åˆ° Leaderï¼Œwrite ä¼šæœ‰ Log è¢«åºåˆ—åŒ–ï¼Œä¾æ¬¡é¡ºåºå¾€å commitï¼Œå¹¶ apply ç„¶ååœ¨è¿”å›ï¼Œé‚£ä¹ˆä¸€æ—¦ä¸€ä¸ª write è¢« committedï¼Œé‚£ä¹ˆå…¶å‰é¢çš„ write çš„ Log ä¸€å®šå°±è¢« committed äº†ã€‚ æ‰€æœ‰çš„ write éƒ½æ˜¯æœ‰ä¸¥æ ¼çš„é¡ºåºçš„ï¼Œä¸€æ—¦è¢« committed å°±å¯è§äº†ï¼Œæ‰€ä»¥ Raft æ˜¯çº¿æ€§ä¸€è‡´æ€§å†™ã€‚\n\n### çº¿æ€§ä¸€è‡´æ€§è¯»\n\nçº¿æ€§ä¸€è‡´æ€§è¯»æœ‰å¾ˆå¤šç§æ–¹æ³•å¯ä»¥å»å®ç°ï¼Œä¾‹å¦‚ä»¥ä¸‹ä»‹ç»äº†å››ç§å®ç°çº¿æ€§ä¸€è‡´æ€§è¯»çš„åŠæ³•ï¼š\n\n1. Raft Log readï¼šæ¯ä¸ª read éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ Logï¼Œå’Œ write ä¸€æ ·ï¼Œå°†éäº‹åŠ¡è¯·æ±‚ä»¥äº‹åŠ¡è¯·æ±‚çš„é€»è¾‘å»è¿›è¡Œå¤„ç†ã€‚åœ¨ Read Log è¢« Apply çš„æ—¶å€™è¯»ï¼Œé‚£ä¹ˆæ­¤æ—¶è¿™ä¸ª read Log ä¹‹å‰çš„ write Log ä¹Ÿä¸€å®šè¢« applied äº†ï¼Œé‚£ä¹ˆè¯»åˆ°çš„æ•°æ®ä¸€å®šæ˜¯æœ€æ–°çš„ã€‚\n2. ReadIndexï¼šæˆ‘ä»¬çŸ¥é“ Raft log readï¼Œä¼šæœ‰ Raft read log çš„å¤åˆ¶å’Œæäº¤çš„å¼€é”€ï¼Œæ‰€ä»¥å‡ºç°äº† ReadIndexã€‚å½“ read è¯·æ±‚å‘é€ç»™ Leader çš„æ—¶å€™ï¼š**ï¼ˆ1ï¼‰é¦–å…ˆéœ€è¦ç¡®è®¤ read å¿…é¡»è¿”å›æœ€æ–° committed çš„ç»“æœ**ã€‚ä½†æ˜¯ä¸€ä¸ªèŠ‚ç‚¹åˆšå½“é€‰ Leader çš„æ—¶å€™å¹¶ä¸çŸ¥é“æœ€æ–°çš„ committed indexï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æäº¤ä¸€ä¸ª Noop Log Entry æ¥æäº¤ä¹‹å‰çš„ Log Entryï¼Œç„¶åå¼€å§‹ Readï¼›**ï¼ˆ2ï¼‰ç¡®è®¤å½“å‰çš„ Leader æ˜¯ä¸æ˜¯è¿˜æ˜¯ Leader**ã€‚å¯èƒ½ç”±äºç½‘ç»œåˆ†åŒºï¼Œè¿™ä¸ª Leader å·²ç»è¢«å­¤ç«‹äº†ï¼Œæ‰€ä»¥ Leader åœ¨è¿”å› read ä¹‹å‰ï¼Œå…ˆå’Œ Replica-Group çš„å…¶ä»–æˆå‘˜å‘é€ heartbeat ç¡®å®šè‡ªå·± Leader çš„èº«ä»½ï¼›é€šè¿‡ä¸Šè¿°ä¸¤æ¡æ‰å¯ä»¥ä¿è¯è¯»åˆ°çš„æ˜¯æœ€æ–°åˆšè¢« committed çš„æ•°æ®ã€‚\n3. Lease readï¼šä¸»è¦æ˜¯é€šè¿‡ lease æœºåˆ¶ç»´æŠ¤ Leader çš„çŠ¶æ€ï¼Œæ¥å‡å°‘äº† ReadIndex æ¯æ¬¡ read å‘é€ heartheat çš„å¼€é”€ã€‚\n4. Follower readï¼šå…ˆå» Leader æŸ¥è¯¢æœ€æ–°çš„ committed indexï¼Œç„¶åæ‹¿ç€ committed Index å» Follower readï¼Œä»è€Œä¿è¯èƒ½ä» Follower ä¸­è¯»åˆ°æœ€æ–°çš„æ•°æ®ï¼Œå½“å‰ Etcd å’Œ SOFA-Jraft å°±å®ç°äº† Follower readã€‚\n\nå…³äºSOFA-JRaftå®ç°çº¿æ€§ä¸€è‡´æ€§è¯»å¯å‚è€ƒæ–‡ç« ï¼š[SOFAJRaft çº¿æ€§ä¸€è‡´è¯»å®ç°å‰–æ](https://www.sofastack.tech/blog/sofa-jraft-linear-consistent-read-implementation/)\n\n# Jepsen æ¦‚è¿°\n\nJepsen æ˜¯ç”± Kyle Kingsbury é‡‡ç”¨å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ Clojure ç¼–å†™çš„éªŒè¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸€è‡´æ€§çš„æµ‹è¯•æ¡†æ¶ï¼Œä½œè€…ä½¿ç”¨å®ƒå¯¹è®¸å¤šè‘—åçš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆetcd, cockroachdb...ï¼‰è¿›è¡Œäº†â€œæ”»å‡»â€ï¼ˆä¸€è‡´æ€§éªŒè¯ï¼‰ï¼Œå¹¶ä¸”å¸®åŠ©å…¶ä¸­çš„éƒ¨åˆ†ç³»ç»Ÿæ‰¾åˆ°äº† bugã€‚\nç½‘ä¸Šå·²æœ‰æ–‡ç« å¯¹å…¶åŸç†è¿›è¡Œè¿‡ç®€è¿°ï¼Œæ­¤å¤„è´´ä¸Šé“¾æ¥å³å¯ï¼š[å½“ TiDB é‡ä¸Š Jepsen](https://juejin.cn/post/6844903491442327566)\n\n# Jraft-Jepsen éƒ¨ç½²éªŒè¯ä¸€è‡´æ€§\n\n> ä¸‹é¢çš„å†…å®¹æ˜¯ä½œè€…è‡ªå·±è¸©å‘æ€»ç»“å‡ºæ¥çš„éƒ¨ç½²æµç¨‹ï¼Œä»‹ç»äº†å¦‚ä½•æ‰‹åŠ¨éƒ¨ç½²ä¸€å¥—Jepsenæ¡†æ¶å¯¹JRaftä»£ç è¿›è¡Œä¸€è‡´æ€§éªŒè¯ã€‚\n\n## æ‰“å¼€gitpod/linux\n\nè¿è¡Œubuntuå®¹å™¨ï¼Œå…¶ä¸­1ä¸ªcontrolèŠ‚ç‚¹ï¼Œ5ä¸ªjraft-testèŠ‚ç‚¹ã€‚\n\n```shell\ndocker run -itd --name ubuntu-1 --hostname control --privileged=true ubuntu\ndocker run -itd --name ubuntu-2 --hostname jraft1 --privileged=true ubuntu\ndocker run -itd --name ubuntu-3 --hostname jraft2 --privileged=true ubuntu\ndocker run -itd --name ubuntu-4 --hostname jraft3 --privileged=true ubuntu\ndocker run -itd --name ubuntu-5 --hostname jraft4 --privileged=true ubuntu\ndocker run -itd --name ubuntu-6 --hostname jraft5 --privileged=true ubuntu\n```\n\næŸ¥æ‰¾æ‰€æœ‰å®¹å™¨çš„ip\n\n```shell\ndocker inspect --format='{{.Name}} - {{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' $(docker ps -aq)\n```\n\nè¿›å…¥å®¹å™¨\n\n```shell\ndocker exec -it ubuntu-1 bash\n```\n\nä¿®æ”¹hostsæ–‡ä»¶ï¼Œæ·»åŠ ipä¸åŸŸåçš„å¯¹åº”å…³ç³»\n\n```shell\nvim /etc/hosts\n```\n\næ­¤å¤„æ ¹æ®æŸ¥è¯¢å‡ºçš„å®¹å™¨ipå¯¹åº”å¡«å†™å³å¯\n\n```shell\n127.0.0.1       localhost\n::1     localhost ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n172.17.0.2      control\n172.17.0.3      jraft1\n172.17.0.4      jraft2\n172.17.0.5      jraft3\n172.17.0.6      jraft4\n172.17.0.7      jraft5\n```\n\n## è®¾ç½®Docker-SSHå…å¯†ç™»å½•\n\nå®‰è£…SSHæœåŠ¡\n\n```shell\napt-get update \napt-get install openssh-server //å®‰è£…sshæœåŠ¡\n```\n\nå¼€å¯SSHæœåŠ¡\n\n```shell\n/etc/init.d/ssh start\nps -e | grep ssh  //æ£€æŸ¥æ˜¯å¦å¼€å¯ssh\n```\n\n### jraft-testèŠ‚ç‚¹\n\nåœ¨Test-Nodeçš„dockerå®¹å™¨å†…ï¼Œç¼–è¾‘æ–‡ä»¶/etc/ssh/sshd_configï¼Œæ·»åŠ ä¸€è¡ŒPermitRootLogin yesè¡¨ç¤ºsshå…è®¸rootç™»å½•ã€‚\n\n```shell\necho \"PermitRootLogin yes\" >> /etc/ssh/sshd_config\n# æˆ–è€… vim /etc/ssh/sshd_config å¹¶æ‰‹æ•²ä¸€è¡ŒPermitRootLogin yes\n```\n\néšåä¸€å®šè¦é‡å¯sshæœåŠ¡\n\n```shell\nservice ssh restart\n```\n\nè®¾ç½®rootå¯†ç \n\n```shell\npasswd root\n```\n\n### controlèŠ‚ç‚¹\n\n```shell\nssh-keygen //ç”Ÿæˆå…¬é’¥ç§é’¥\nssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft1\nssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft2\nssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft3\nssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft4\nssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft5\n```\n\nç§é’¥æ–‡ä»¶æ ¼å¼é—®é¢˜ï¼šæ‚¨éœ€è¦ç¡®ä¿æ‚¨çš„SSHç§é’¥æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼Œå¹¶ä¸”Jepsenæµ‹è¯•å·¥å…·å¯ä»¥æ­£ç¡®è¯†åˆ«å®ƒã€‚é€šå¸¸ï¼ŒSSHç§é’¥æ–‡ä»¶æ ¼å¼ä¸ºOpenSSHæ ¼å¼ã€‚æ‚¨å¯ä»¥å°è¯•ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†ç§é’¥æ–‡ä»¶è½¬æ¢ä¸ºOpenSSHæ ¼å¼ï¼š\n\n```shell\nssh-keygen -p -f /root/.ssh/id_rsa -m pem -t rsa\n```\n\n## Ubuntuå·¥å…·å®‰è£…\n\ncontrolèŠ‚ç‚¹å®‰è£…ï¼š\n\n```shell\napt-get update \napt-get install leiningen\napt-get install wget\napt-get install git\napt-get install vim\napt-get install sudo\napt-get install iptables\n```\n\ntestèŠ‚ç‚¹å®‰è£…ï¼š\n\n```shell\napt-get update \napt-get install leiningen\napt-get install wget\napt-get install vim\napt-get install sudo\napt-get install iptables\n```\n\n**ubuntuå®¹å™¨å®‰è£…jdk-8ï¼š**\nè¿›å…¥ç›®å½•ï¼š\n\n```shell\nmkdir /usr/local/java && cd /usr/local/java\n```\n\nwgetä¸‹è½½jdk8ï¼š\n\n```shell\nwget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u141-b15/336fa29ff2bb4ef291e347e091f7f4a7/jdk-8u141-linux-x64.tar.gz\"\n```\n\nè§£å‹ï¼š\n\n```shell\ntar -zxvf jdk-8u141-linux-x64.tar.gz -C /usr/local/java\n```\n\nç¼–è¾‘é…ç½®æ–‡ä»¶ï¼šæ­¤å¤„éœ€è¦æ³¨æ„ï¼Œæœ‰å¯èƒ½åœ¨å®‰è£…å…¶ä»–å®‰è£…åŒ…æ—¶ä¼šè‡ªåŠ¨å®‰è£…jdk11ï¼Œæ­¤å¤„éœ€è¦ä¿®æ”¹ä¸¤ä¸ªé…ç½®æ–‡ä»¶æ‰èƒ½ç”Ÿæ•ˆï¼Œå¹¶ä¸”ä¿®æ”¹ä¸ºjdk8.\n\n```shell\nvim ~/.bashrc\n```\n\n```shell\nexport JAVA_HOME=/usr/local/java/jdk1.8.0_141\nexport PATH=$JAVA_HOME/bin:$PATH\n```\n\n```shell\nvim /etc/profile\n```\n\n```shell\nexport JAVA_HOME=/usr/local/java/jdk1.8.0_141\nexport JRE_HOME=${JAVA_HOME}/jre\nexport CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib\nexport PATH=${JAVA_HOME}/bin:$PATH\n```\n\næ‰§è¡Œå‘½ä»¤ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼š\n\n```shell\nsource /etc/profile\n```\n\n## å®‰è£…clojure-control\n\n**æ­¤æ“ä½œåœ¨controlèŠ‚ç‚¹å®Œæˆï¼š**\nå¤åˆ¶é“¾æ¥ä¸­çš„shellè„šæœ¬ï¼š[https://raw.githubusercontent.com/killme2008/clojure-control/master/bin/control](https://raw.githubusercontent.com/killme2008/clojure-control/master/bin/control)\n\n```shell\ncd ~/bin\nvim control\n```\n\nå°†shellè„šæœ¬ç²˜è´´åˆ°controlä¸­\n\n```shell\nchmod 777 control\n```\n\nè®¾ç½®controlç³»ç»Ÿå˜é‡\n\n```shell\nexport CONTROL_ROOT=1\n```\n\n```shell\nexport PATH=$PATH:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/root/bin\n```\n\n## ä¸‹è½½jraftæµ‹è¯•ä»£ç \n\n**å…‹éš†è¿œç¨‹ä»“åº“ä»£ç ï¼š**\n\n```shell\ngit clone jraftä»“åº“ï¼ˆè‡ªæµ‹ä»“åº“/å®˜æ–¹ä»“åº“ï¼‰\n```\n\n**å®‰è£…jaråˆ°æœ¬åœ°ä»“åº“ï¼š**\n\n```shell\nmvn clean install -DskipTests=true\n```\n\n## éƒ¨ç½²atomic-server\n\n**æ­¤æ“ä½œåœ¨controlèŠ‚ç‚¹æ‰§è¡Œï¼š**\n\n```shell\ncontrol run jraft build\ncontrol run jraft deploy\n```\n\n## å¼€å¯æµ‹è¯•\n\n**bashå¼€å¯æµ‹è¯•**\nconfiguration-test\n\n```shell\nbash run_test.sh --testfn configuration-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa\n```\n\nbridge-test\n\n```shell\nbash run_test.sh --testfn bridge-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa\n```\n\npause-test\n\n```shell\nbash run_test.sh --testfn pause-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa\n```\n\ncrash-test\n\n```shell\nbash run_test.sh --testfn crash-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa\n```\n\npartition-test\n\n```shell\nbash run_test.sh --testfn partition-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa\n```\n\npartition-majority-test\n\n```shell\nbash run_test.sh --testfn partition-majority-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa\n```\n\n**æµ‹è¯•æ–¹æ³•**\n\n```shell\nconfiguration-test\nbridge-test\npause-test\ncrash-test\npartition-test\npartition-majority-test\n```\n\n## æ½œåœ¨é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\n\nå¦‚æœå‡ºç°æŠ¥é”™ï¼š\n\n```shell\nCould not find artifact apache-codec:commons-codec:jar:1.2 in central (https://repo1.maven.org/maven2/)\nCould not find artifact apache-codec:commons-codec:jar:1.2 in clojars (https://repo.clojars.org/)\nThis could be due to a typo in :dependencies, file system permissions, or network issues.\nIf you are behind a proxy, try setting the 'http_proxy' environment variable.\nUberjar aborting because jar failed: Could not resolve dependencies\n```\n\nè§£å†³åŠæ³•ï¼š\n\n```shell\ncd ~/.m2/repository/apache-codec/commons-codec/1.2\n```\n\nå¯ä»¥çœ‹åˆ°é‡Œé¢æ˜¯ç©ºçš„ï¼Œæ­¤æ—¶æ‹‰å–è¿œç¨‹ä»“åº“jaråŒ…å³å¯\n\n```shell\nwget https://repo1.maven.org/maven2/commons-codec/commons-codec/1.2/commons-codec-1.2.pom\nwget https://repo1.maven.org/maven2/commons-codec/commons-codec/1.2/commons-codec-1.2.jar\n```","source":"_posts/JRaft-jepsen-çº¿æ€§ä¸€è‡´æ€§æµ‹è¯•.md","raw":"---\ntitle: JRaft-jepsen çº¿æ€§ä¸€è‡´æ€§æµ‹è¯•\ndate: 2023-09-11 13:47:03\ntags: SOFA-JRaft\n---\n\n**Jepsenå‰ç½®èµ„æ–™å‚è€ƒï¼š**[Jepsenä¸­æ–‡å®˜æ–¹æ–‡æ¡£](https://jaydenwen123.gitbook.io/zh_jepsen_doc/)   [Jepsenä½œè€…åšå®¢](https://aphyr.com/)\n**Cloujreå‰ç½®èµ„æ–™ï¼š**[Clojureå…¥é—¨æ–‡ç« -è‹±æ–‡ç‰ˆ](https://aphyr.com/posts/301-clojure-from-the-ground-up-welcome)   [Clojureä¸­æ–‡æ–‡æ¡£](https://siddontang.gitbooks.io/lean-clojure/content/hello-clojure.html)\n\n# çº¿æ€§ä¸€è‡´æ€§æ¦‚è¿°\n\n## æ¦‚å¿µ\n\nå¦‚æœè¯´ä½ å¯¹çº¿æ€§ä¸€è‡´æ€§ï¼ˆLinearizabilityï¼‰æ¦‚å¿µä¸å¤ªç†Ÿï¼Œé‚£ä¸€å®šçŸ¥é“å¼ºä¸€è‡´æ€§ï¼ˆstrong consistencyï¼‰ï¼Œæˆ–è€…è¯´åŸå­ä¸€è‡´æ€§ï¼ˆatomic consistencyï¼‰ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºçš„ CAP ç†è®ºä¸­çš„ Cã€‚\n\n## Raftçº¿æ€§ä¸€è‡´æ€§çš„å®ç°\n\n### çº¿æ€§ä¸€è‡´æ€§å†™\n\næ‰€æœ‰çš„ read/write éƒ½ä¼šæ¥åˆ° Leaderï¼Œwrite ä¼šæœ‰ Log è¢«åºåˆ—åŒ–ï¼Œä¾æ¬¡é¡ºåºå¾€å commitï¼Œå¹¶ apply ç„¶ååœ¨è¿”å›ï¼Œé‚£ä¹ˆä¸€æ—¦ä¸€ä¸ª write è¢« committedï¼Œé‚£ä¹ˆå…¶å‰é¢çš„ write çš„ Log ä¸€å®šå°±è¢« committed äº†ã€‚ æ‰€æœ‰çš„ write éƒ½æ˜¯æœ‰ä¸¥æ ¼çš„é¡ºåºçš„ï¼Œä¸€æ—¦è¢« committed å°±å¯è§äº†ï¼Œæ‰€ä»¥ Raft æ˜¯çº¿æ€§ä¸€è‡´æ€§å†™ã€‚\n\n### çº¿æ€§ä¸€è‡´æ€§è¯»\n\nçº¿æ€§ä¸€è‡´æ€§è¯»æœ‰å¾ˆå¤šç§æ–¹æ³•å¯ä»¥å»å®ç°ï¼Œä¾‹å¦‚ä»¥ä¸‹ä»‹ç»äº†å››ç§å®ç°çº¿æ€§ä¸€è‡´æ€§è¯»çš„åŠæ³•ï¼š\n\n1. Raft Log readï¼šæ¯ä¸ª read éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ Logï¼Œå’Œ write ä¸€æ ·ï¼Œå°†éäº‹åŠ¡è¯·æ±‚ä»¥äº‹åŠ¡è¯·æ±‚çš„é€»è¾‘å»è¿›è¡Œå¤„ç†ã€‚åœ¨ Read Log è¢« Apply çš„æ—¶å€™è¯»ï¼Œé‚£ä¹ˆæ­¤æ—¶è¿™ä¸ª read Log ä¹‹å‰çš„ write Log ä¹Ÿä¸€å®šè¢« applied äº†ï¼Œé‚£ä¹ˆè¯»åˆ°çš„æ•°æ®ä¸€å®šæ˜¯æœ€æ–°çš„ã€‚\n2. ReadIndexï¼šæˆ‘ä»¬çŸ¥é“ Raft log readï¼Œä¼šæœ‰ Raft read log çš„å¤åˆ¶å’Œæäº¤çš„å¼€é”€ï¼Œæ‰€ä»¥å‡ºç°äº† ReadIndexã€‚å½“ read è¯·æ±‚å‘é€ç»™ Leader çš„æ—¶å€™ï¼š**ï¼ˆ1ï¼‰é¦–å…ˆéœ€è¦ç¡®è®¤ read å¿…é¡»è¿”å›æœ€æ–° committed çš„ç»“æœ**ã€‚ä½†æ˜¯ä¸€ä¸ªèŠ‚ç‚¹åˆšå½“é€‰ Leader çš„æ—¶å€™å¹¶ä¸çŸ¥é“æœ€æ–°çš„ committed indexï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æäº¤ä¸€ä¸ª Noop Log Entry æ¥æäº¤ä¹‹å‰çš„ Log Entryï¼Œç„¶åå¼€å§‹ Readï¼›**ï¼ˆ2ï¼‰ç¡®è®¤å½“å‰çš„ Leader æ˜¯ä¸æ˜¯è¿˜æ˜¯ Leader**ã€‚å¯èƒ½ç”±äºç½‘ç»œåˆ†åŒºï¼Œè¿™ä¸ª Leader å·²ç»è¢«å­¤ç«‹äº†ï¼Œæ‰€ä»¥ Leader åœ¨è¿”å› read ä¹‹å‰ï¼Œå…ˆå’Œ Replica-Group çš„å…¶ä»–æˆå‘˜å‘é€ heartbeat ç¡®å®šè‡ªå·± Leader çš„èº«ä»½ï¼›é€šè¿‡ä¸Šè¿°ä¸¤æ¡æ‰å¯ä»¥ä¿è¯è¯»åˆ°çš„æ˜¯æœ€æ–°åˆšè¢« committed çš„æ•°æ®ã€‚\n3. Lease readï¼šä¸»è¦æ˜¯é€šè¿‡ lease æœºåˆ¶ç»´æŠ¤ Leader çš„çŠ¶æ€ï¼Œæ¥å‡å°‘äº† ReadIndex æ¯æ¬¡ read å‘é€ heartheat çš„å¼€é”€ã€‚\n4. Follower readï¼šå…ˆå» Leader æŸ¥è¯¢æœ€æ–°çš„ committed indexï¼Œç„¶åæ‹¿ç€ committed Index å» Follower readï¼Œä»è€Œä¿è¯èƒ½ä» Follower ä¸­è¯»åˆ°æœ€æ–°çš„æ•°æ®ï¼Œå½“å‰ Etcd å’Œ SOFA-Jraft å°±å®ç°äº† Follower readã€‚\n\nå…³äºSOFA-JRaftå®ç°çº¿æ€§ä¸€è‡´æ€§è¯»å¯å‚è€ƒæ–‡ç« ï¼š[SOFAJRaft çº¿æ€§ä¸€è‡´è¯»å®ç°å‰–æ](https://www.sofastack.tech/blog/sofa-jraft-linear-consistent-read-implementation/)\n\n# Jepsen æ¦‚è¿°\n\nJepsen æ˜¯ç”± Kyle Kingsbury é‡‡ç”¨å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ Clojure ç¼–å†™çš„éªŒè¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸€è‡´æ€§çš„æµ‹è¯•æ¡†æ¶ï¼Œä½œè€…ä½¿ç”¨å®ƒå¯¹è®¸å¤šè‘—åçš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆetcd, cockroachdb...ï¼‰è¿›è¡Œäº†â€œæ”»å‡»â€ï¼ˆä¸€è‡´æ€§éªŒè¯ï¼‰ï¼Œå¹¶ä¸”å¸®åŠ©å…¶ä¸­çš„éƒ¨åˆ†ç³»ç»Ÿæ‰¾åˆ°äº† bugã€‚\nç½‘ä¸Šå·²æœ‰æ–‡ç« å¯¹å…¶åŸç†è¿›è¡Œè¿‡ç®€è¿°ï¼Œæ­¤å¤„è´´ä¸Šé“¾æ¥å³å¯ï¼š[å½“ TiDB é‡ä¸Š Jepsen](https://juejin.cn/post/6844903491442327566)\n\n# Jraft-Jepsen éƒ¨ç½²éªŒè¯ä¸€è‡´æ€§\n\n> ä¸‹é¢çš„å†…å®¹æ˜¯ä½œè€…è‡ªå·±è¸©å‘æ€»ç»“å‡ºæ¥çš„éƒ¨ç½²æµç¨‹ï¼Œä»‹ç»äº†å¦‚ä½•æ‰‹åŠ¨éƒ¨ç½²ä¸€å¥—Jepsenæ¡†æ¶å¯¹JRaftä»£ç è¿›è¡Œä¸€è‡´æ€§éªŒè¯ã€‚\n\n## æ‰“å¼€gitpod/linux\n\nè¿è¡Œubuntuå®¹å™¨ï¼Œå…¶ä¸­1ä¸ªcontrolèŠ‚ç‚¹ï¼Œ5ä¸ªjraft-testèŠ‚ç‚¹ã€‚\n\n```shell\ndocker run -itd --name ubuntu-1 --hostname control --privileged=true ubuntu\ndocker run -itd --name ubuntu-2 --hostname jraft1 --privileged=true ubuntu\ndocker run -itd --name ubuntu-3 --hostname jraft2 --privileged=true ubuntu\ndocker run -itd --name ubuntu-4 --hostname jraft3 --privileged=true ubuntu\ndocker run -itd --name ubuntu-5 --hostname jraft4 --privileged=true ubuntu\ndocker run -itd --name ubuntu-6 --hostname jraft5 --privileged=true ubuntu\n```\n\næŸ¥æ‰¾æ‰€æœ‰å®¹å™¨çš„ip\n\n```shell\ndocker inspect --format='{{.Name}} - {{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' $(docker ps -aq)\n```\n\nè¿›å…¥å®¹å™¨\n\n```shell\ndocker exec -it ubuntu-1 bash\n```\n\nä¿®æ”¹hostsæ–‡ä»¶ï¼Œæ·»åŠ ipä¸åŸŸåçš„å¯¹åº”å…³ç³»\n\n```shell\nvim /etc/hosts\n```\n\næ­¤å¤„æ ¹æ®æŸ¥è¯¢å‡ºçš„å®¹å™¨ipå¯¹åº”å¡«å†™å³å¯\n\n```shell\n127.0.0.1       localhost\n::1     localhost ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n172.17.0.2      control\n172.17.0.3      jraft1\n172.17.0.4      jraft2\n172.17.0.5      jraft3\n172.17.0.6      jraft4\n172.17.0.7      jraft5\n```\n\n## è®¾ç½®Docker-SSHå…å¯†ç™»å½•\n\nå®‰è£…SSHæœåŠ¡\n\n```shell\napt-get update \napt-get install openssh-server //å®‰è£…sshæœåŠ¡\n```\n\nå¼€å¯SSHæœåŠ¡\n\n```shell\n/etc/init.d/ssh start\nps -e | grep ssh  //æ£€æŸ¥æ˜¯å¦å¼€å¯ssh\n```\n\n### jraft-testèŠ‚ç‚¹\n\nåœ¨Test-Nodeçš„dockerå®¹å™¨å†…ï¼Œç¼–è¾‘æ–‡ä»¶/etc/ssh/sshd_configï¼Œæ·»åŠ ä¸€è¡ŒPermitRootLogin yesè¡¨ç¤ºsshå…è®¸rootç™»å½•ã€‚\n\n```shell\necho \"PermitRootLogin yes\" >> /etc/ssh/sshd_config\n# æˆ–è€… vim /etc/ssh/sshd_config å¹¶æ‰‹æ•²ä¸€è¡ŒPermitRootLogin yes\n```\n\néšåä¸€å®šè¦é‡å¯sshæœåŠ¡\n\n```shell\nservice ssh restart\n```\n\nè®¾ç½®rootå¯†ç \n\n```shell\npasswd root\n```\n\n### controlèŠ‚ç‚¹\n\n```shell\nssh-keygen //ç”Ÿæˆå…¬é’¥ç§é’¥\nssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft1\nssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft2\nssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft3\nssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft4\nssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft5\n```\n\nç§é’¥æ–‡ä»¶æ ¼å¼é—®é¢˜ï¼šæ‚¨éœ€è¦ç¡®ä¿æ‚¨çš„SSHç§é’¥æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼Œå¹¶ä¸”Jepsenæµ‹è¯•å·¥å…·å¯ä»¥æ­£ç¡®è¯†åˆ«å®ƒã€‚é€šå¸¸ï¼ŒSSHç§é’¥æ–‡ä»¶æ ¼å¼ä¸ºOpenSSHæ ¼å¼ã€‚æ‚¨å¯ä»¥å°è¯•ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†ç§é’¥æ–‡ä»¶è½¬æ¢ä¸ºOpenSSHæ ¼å¼ï¼š\n\n```shell\nssh-keygen -p -f /root/.ssh/id_rsa -m pem -t rsa\n```\n\n## Ubuntuå·¥å…·å®‰è£…\n\ncontrolèŠ‚ç‚¹å®‰è£…ï¼š\n\n```shell\napt-get update \napt-get install leiningen\napt-get install wget\napt-get install git\napt-get install vim\napt-get install sudo\napt-get install iptables\n```\n\ntestèŠ‚ç‚¹å®‰è£…ï¼š\n\n```shell\napt-get update \napt-get install leiningen\napt-get install wget\napt-get install vim\napt-get install sudo\napt-get install iptables\n```\n\n**ubuntuå®¹å™¨å®‰è£…jdk-8ï¼š**\nè¿›å…¥ç›®å½•ï¼š\n\n```shell\nmkdir /usr/local/java && cd /usr/local/java\n```\n\nwgetä¸‹è½½jdk8ï¼š\n\n```shell\nwget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u141-b15/336fa29ff2bb4ef291e347e091f7f4a7/jdk-8u141-linux-x64.tar.gz\"\n```\n\nè§£å‹ï¼š\n\n```shell\ntar -zxvf jdk-8u141-linux-x64.tar.gz -C /usr/local/java\n```\n\nç¼–è¾‘é…ç½®æ–‡ä»¶ï¼šæ­¤å¤„éœ€è¦æ³¨æ„ï¼Œæœ‰å¯èƒ½åœ¨å®‰è£…å…¶ä»–å®‰è£…åŒ…æ—¶ä¼šè‡ªåŠ¨å®‰è£…jdk11ï¼Œæ­¤å¤„éœ€è¦ä¿®æ”¹ä¸¤ä¸ªé…ç½®æ–‡ä»¶æ‰èƒ½ç”Ÿæ•ˆï¼Œå¹¶ä¸”ä¿®æ”¹ä¸ºjdk8.\n\n```shell\nvim ~/.bashrc\n```\n\n```shell\nexport JAVA_HOME=/usr/local/java/jdk1.8.0_141\nexport PATH=$JAVA_HOME/bin:$PATH\n```\n\n```shell\nvim /etc/profile\n```\n\n```shell\nexport JAVA_HOME=/usr/local/java/jdk1.8.0_141\nexport JRE_HOME=${JAVA_HOME}/jre\nexport CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib\nexport PATH=${JAVA_HOME}/bin:$PATH\n```\n\næ‰§è¡Œå‘½ä»¤ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼š\n\n```shell\nsource /etc/profile\n```\n\n## å®‰è£…clojure-control\n\n**æ­¤æ“ä½œåœ¨controlèŠ‚ç‚¹å®Œæˆï¼š**\nå¤åˆ¶é“¾æ¥ä¸­çš„shellè„šæœ¬ï¼š[https://raw.githubusercontent.com/killme2008/clojure-control/master/bin/control](https://raw.githubusercontent.com/killme2008/clojure-control/master/bin/control)\n\n```shell\ncd ~/bin\nvim control\n```\n\nå°†shellè„šæœ¬ç²˜è´´åˆ°controlä¸­\n\n```shell\nchmod 777 control\n```\n\nè®¾ç½®controlç³»ç»Ÿå˜é‡\n\n```shell\nexport CONTROL_ROOT=1\n```\n\n```shell\nexport PATH=$PATH:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/root/bin\n```\n\n## ä¸‹è½½jraftæµ‹è¯•ä»£ç \n\n**å…‹éš†è¿œç¨‹ä»“åº“ä»£ç ï¼š**\n\n```shell\ngit clone jraftä»“åº“ï¼ˆè‡ªæµ‹ä»“åº“/å®˜æ–¹ä»“åº“ï¼‰\n```\n\n**å®‰è£…jaråˆ°æœ¬åœ°ä»“åº“ï¼š**\n\n```shell\nmvn clean install -DskipTests=true\n```\n\n## éƒ¨ç½²atomic-server\n\n**æ­¤æ“ä½œåœ¨controlèŠ‚ç‚¹æ‰§è¡Œï¼š**\n\n```shell\ncontrol run jraft build\ncontrol run jraft deploy\n```\n\n## å¼€å¯æµ‹è¯•\n\n**bashå¼€å¯æµ‹è¯•**\nconfiguration-test\n\n```shell\nbash run_test.sh --testfn configuration-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa\n```\n\nbridge-test\n\n```shell\nbash run_test.sh --testfn bridge-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa\n```\n\npause-test\n\n```shell\nbash run_test.sh --testfn pause-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa\n```\n\ncrash-test\n\n```shell\nbash run_test.sh --testfn crash-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa\n```\n\npartition-test\n\n```shell\nbash run_test.sh --testfn partition-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa\n```\n\npartition-majority-test\n\n```shell\nbash run_test.sh --testfn partition-majority-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa\n```\n\n**æµ‹è¯•æ–¹æ³•**\n\n```shell\nconfiguration-test\nbridge-test\npause-test\ncrash-test\npartition-test\npartition-majority-test\n```\n\n## æ½œåœ¨é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\n\nå¦‚æœå‡ºç°æŠ¥é”™ï¼š\n\n```shell\nCould not find artifact apache-codec:commons-codec:jar:1.2 in central (https://repo1.maven.org/maven2/)\nCould not find artifact apache-codec:commons-codec:jar:1.2 in clojars (https://repo.clojars.org/)\nThis could be due to a typo in :dependencies, file system permissions, or network issues.\nIf you are behind a proxy, try setting the 'http_proxy' environment variable.\nUberjar aborting because jar failed: Could not resolve dependencies\n```\n\nè§£å†³åŠæ³•ï¼š\n\n```shell\ncd ~/.m2/repository/apache-codec/commons-codec/1.2\n```\n\nå¯ä»¥çœ‹åˆ°é‡Œé¢æ˜¯ç©ºçš„ï¼Œæ­¤æ—¶æ‹‰å–è¿œç¨‹ä»“åº“jaråŒ…å³å¯\n\n```shell\nwget https://repo1.maven.org/maven2/commons-codec/commons-codec/1.2/commons-codec-1.2.pom\nwget https://repo1.maven.org/maven2/commons-codec/commons-codec/1.2/commons-codec-1.2.jar\n```","slug":"JRaft-jepsen-çº¿æ€§ä¸€è‡´æ€§æµ‹è¯•","published":1,"updated":"2023-09-11T06:01:19.128Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clmehe4cn0000v0uncc9a7brm","content":"<p><strong>Jepsenå‰ç½®èµ„æ–™å‚è€ƒï¼š</strong><a class=\"link\"   href=\"https://jaydenwen123.gitbook.io/zh_jepsen_doc/\" >Jepsenä¸­æ–‡å®˜æ–¹æ–‡æ¡£<i class=\"fas fa-external-link-alt\"></i></a>   <a class=\"link\"   href=\"https://aphyr.com/\" >Jepsenä½œè€…åšå®¢<i class=\"fas fa-external-link-alt\"></i></a><br><strong>Cloujreå‰ç½®èµ„æ–™ï¼š</strong><a class=\"link\"   href=\"https://aphyr.com/posts/301-clojure-from-the-ground-up-welcome\" >Clojureå…¥é—¨æ–‡ç« -è‹±æ–‡ç‰ˆ<i class=\"fas fa-external-link-alt\"></i></a>   <a class=\"link\"   href=\"https://siddontang.gitbooks.io/lean-clojure/content/hello-clojure.html\" >Clojureä¸­æ–‡æ–‡æ¡£<i class=\"fas fa-external-link-alt\"></i></a></p>\n<h1 id=\"çº¿æ€§ä¸€è‡´æ€§æ¦‚è¿°\"><a href=\"#çº¿æ€§ä¸€è‡´æ€§æ¦‚è¿°\" class=\"headerlink\" title=\"çº¿æ€§ä¸€è‡´æ€§æ¦‚è¿°\"></a>çº¿æ€§ä¸€è‡´æ€§æ¦‚è¿°</h1><h2 id=\"æ¦‚å¿µ\"><a href=\"#æ¦‚å¿µ\" class=\"headerlink\" title=\"æ¦‚å¿µ\"></a>æ¦‚å¿µ</h2><p>å¦‚æœè¯´ä½ å¯¹çº¿æ€§ä¸€è‡´æ€§ï¼ˆLinearizabilityï¼‰æ¦‚å¿µä¸å¤ªç†Ÿï¼Œé‚£ä¸€å®šçŸ¥é“å¼ºä¸€è‡´æ€§ï¼ˆstrong consistencyï¼‰ï¼Œæˆ–è€…è¯´åŸå­ä¸€è‡´æ€§ï¼ˆatomic consistencyï¼‰ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºçš„ CAP ç†è®ºä¸­çš„ Cã€‚</p>\n<h2 id=\"Raftçº¿æ€§ä¸€è‡´æ€§çš„å®ç°\"><a href=\"#Raftçº¿æ€§ä¸€è‡´æ€§çš„å®ç°\" class=\"headerlink\" title=\"Raftçº¿æ€§ä¸€è‡´æ€§çš„å®ç°\"></a>Raftçº¿æ€§ä¸€è‡´æ€§çš„å®ç°</h2><h3 id=\"çº¿æ€§ä¸€è‡´æ€§å†™\"><a href=\"#çº¿æ€§ä¸€è‡´æ€§å†™\" class=\"headerlink\" title=\"çº¿æ€§ä¸€è‡´æ€§å†™\"></a>çº¿æ€§ä¸€è‡´æ€§å†™</h3><p>æ‰€æœ‰çš„ read&#x2F;write éƒ½ä¼šæ¥åˆ° Leaderï¼Œwrite ä¼šæœ‰ Log è¢«åºåˆ—åŒ–ï¼Œä¾æ¬¡é¡ºåºå¾€å commitï¼Œå¹¶ apply ç„¶ååœ¨è¿”å›ï¼Œé‚£ä¹ˆä¸€æ—¦ä¸€ä¸ª write è¢« committedï¼Œé‚£ä¹ˆå…¶å‰é¢çš„ write çš„ Log ä¸€å®šå°±è¢« committed äº†ã€‚ æ‰€æœ‰çš„ write éƒ½æ˜¯æœ‰ä¸¥æ ¼çš„é¡ºåºçš„ï¼Œä¸€æ—¦è¢« committed å°±å¯è§äº†ï¼Œæ‰€ä»¥ Raft æ˜¯çº¿æ€§ä¸€è‡´æ€§å†™ã€‚</p>\n<h3 id=\"çº¿æ€§ä¸€è‡´æ€§è¯»\"><a href=\"#çº¿æ€§ä¸€è‡´æ€§è¯»\" class=\"headerlink\" title=\"çº¿æ€§ä¸€è‡´æ€§è¯»\"></a>çº¿æ€§ä¸€è‡´æ€§è¯»</h3><p>çº¿æ€§ä¸€è‡´æ€§è¯»æœ‰å¾ˆå¤šç§æ–¹æ³•å¯ä»¥å»å®ç°ï¼Œä¾‹å¦‚ä»¥ä¸‹ä»‹ç»äº†å››ç§å®ç°çº¿æ€§ä¸€è‡´æ€§è¯»çš„åŠæ³•ï¼š</p>\n<ol>\n<li>Raft Log readï¼šæ¯ä¸ª read éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ Logï¼Œå’Œ write ä¸€æ ·ï¼Œå°†éäº‹åŠ¡è¯·æ±‚ä»¥äº‹åŠ¡è¯·æ±‚çš„é€»è¾‘å»è¿›è¡Œå¤„ç†ã€‚åœ¨ Read Log è¢« Apply çš„æ—¶å€™è¯»ï¼Œé‚£ä¹ˆæ­¤æ—¶è¿™ä¸ª read Log ä¹‹å‰çš„ write Log ä¹Ÿä¸€å®šè¢« applied äº†ï¼Œé‚£ä¹ˆè¯»åˆ°çš„æ•°æ®ä¸€å®šæ˜¯æœ€æ–°çš„ã€‚</li>\n<li>ReadIndexï¼šæˆ‘ä»¬çŸ¥é“ Raft log readï¼Œä¼šæœ‰ Raft read log çš„å¤åˆ¶å’Œæäº¤çš„å¼€é”€ï¼Œæ‰€ä»¥å‡ºç°äº† ReadIndexã€‚å½“ read è¯·æ±‚å‘é€ç»™ Leader çš„æ—¶å€™ï¼š<strong>ï¼ˆ1ï¼‰é¦–å…ˆéœ€è¦ç¡®è®¤ read å¿…é¡»è¿”å›æœ€æ–° committed çš„ç»“æœ</strong>ã€‚ä½†æ˜¯ä¸€ä¸ªèŠ‚ç‚¹åˆšå½“é€‰ Leader çš„æ—¶å€™å¹¶ä¸çŸ¥é“æœ€æ–°çš„ committed indexï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æäº¤ä¸€ä¸ª Noop Log Entry æ¥æäº¤ä¹‹å‰çš„ Log Entryï¼Œç„¶åå¼€å§‹ Readï¼›<strong>ï¼ˆ2ï¼‰ç¡®è®¤å½“å‰çš„ Leader æ˜¯ä¸æ˜¯è¿˜æ˜¯ Leader</strong>ã€‚å¯èƒ½ç”±äºç½‘ç»œåˆ†åŒºï¼Œè¿™ä¸ª Leader å·²ç»è¢«å­¤ç«‹äº†ï¼Œæ‰€ä»¥ Leader åœ¨è¿”å› read ä¹‹å‰ï¼Œå…ˆå’Œ Replica-Group çš„å…¶ä»–æˆå‘˜å‘é€ heartbeat ç¡®å®šè‡ªå·± Leader çš„èº«ä»½ï¼›é€šè¿‡ä¸Šè¿°ä¸¤æ¡æ‰å¯ä»¥ä¿è¯è¯»åˆ°çš„æ˜¯æœ€æ–°åˆšè¢« committed çš„æ•°æ®ã€‚</li>\n<li>Lease readï¼šä¸»è¦æ˜¯é€šè¿‡ lease æœºåˆ¶ç»´æŠ¤ Leader çš„çŠ¶æ€ï¼Œæ¥å‡å°‘äº† ReadIndex æ¯æ¬¡ read å‘é€ heartheat çš„å¼€é”€ã€‚</li>\n<li>Follower readï¼šå…ˆå» Leader æŸ¥è¯¢æœ€æ–°çš„ committed indexï¼Œç„¶åæ‹¿ç€ committed Index å» Follower readï¼Œä»è€Œä¿è¯èƒ½ä» Follower ä¸­è¯»åˆ°æœ€æ–°çš„æ•°æ®ï¼Œå½“å‰ Etcd å’Œ SOFA-Jraft å°±å®ç°äº† Follower readã€‚</li>\n</ol>\n<p>å…³äºSOFA-JRaftå®ç°çº¿æ€§ä¸€è‡´æ€§è¯»å¯å‚è€ƒæ–‡ç« ï¼š<a class=\"link\"   href=\"https://www.sofastack.tech/blog/sofa-jraft-linear-consistent-read-implementation/\" >SOFAJRaft çº¿æ€§ä¸€è‡´è¯»å®ç°å‰–æ<i class=\"fas fa-external-link-alt\"></i></a></p>\n<h1 id=\"Jepsen-æ¦‚è¿°\"><a href=\"#Jepsen-æ¦‚è¿°\" class=\"headerlink\" title=\"Jepsen æ¦‚è¿°\"></a>Jepsen æ¦‚è¿°</h1><p>Jepsen æ˜¯ç”± Kyle Kingsbury é‡‡ç”¨å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ Clojure ç¼–å†™çš„éªŒè¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸€è‡´æ€§çš„æµ‹è¯•æ¡†æ¶ï¼Œä½œè€…ä½¿ç”¨å®ƒå¯¹è®¸å¤šè‘—åçš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆetcd, cockroachdbâ€¦ï¼‰è¿›è¡Œäº†â€œæ”»å‡»â€ï¼ˆä¸€è‡´æ€§éªŒè¯ï¼‰ï¼Œå¹¶ä¸”å¸®åŠ©å…¶ä¸­çš„éƒ¨åˆ†ç³»ç»Ÿæ‰¾åˆ°äº† bugã€‚<br>ç½‘ä¸Šå·²æœ‰æ–‡ç« å¯¹å…¶åŸç†è¿›è¡Œè¿‡ç®€è¿°ï¼Œæ­¤å¤„è´´ä¸Šé“¾æ¥å³å¯ï¼š<a class=\"link\"   href=\"https://juejin.cn/post/6844903491442327566\" >å½“ TiDB é‡ä¸Š Jepsen<i class=\"fas fa-external-link-alt\"></i></a></p>\n<h1 id=\"Jraft-Jepsen-éƒ¨ç½²éªŒè¯ä¸€è‡´æ€§\"><a href=\"#Jraft-Jepsen-éƒ¨ç½²éªŒè¯ä¸€è‡´æ€§\" class=\"headerlink\" title=\"Jraft-Jepsen éƒ¨ç½²éªŒè¯ä¸€è‡´æ€§\"></a>Jraft-Jepsen éƒ¨ç½²éªŒè¯ä¸€è‡´æ€§</h1><blockquote>\n<p>ä¸‹é¢çš„å†…å®¹æ˜¯ä½œè€…è‡ªå·±è¸©å‘æ€»ç»“å‡ºæ¥çš„éƒ¨ç½²æµç¨‹ï¼Œä»‹ç»äº†å¦‚ä½•æ‰‹åŠ¨éƒ¨ç½²ä¸€å¥—Jepsenæ¡†æ¶å¯¹JRaftä»£ç è¿›è¡Œä¸€è‡´æ€§éªŒè¯ã€‚</p>\n</blockquote>\n<h2 id=\"æ‰“å¼€gitpod-linux\"><a href=\"#æ‰“å¼€gitpod-linux\" class=\"headerlink\" title=\"æ‰“å¼€gitpod&#x2F;linux\"></a>æ‰“å¼€gitpod&#x2F;linux</h2><p>è¿è¡Œubuntuå®¹å™¨ï¼Œå…¶ä¸­1ä¸ªcontrolèŠ‚ç‚¹ï¼Œ5ä¸ªjraft-testèŠ‚ç‚¹ã€‚</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd --name ubuntu-1 --hostname control --privileged=true ubuntu</span><br><span class=\"line\">docker run -itd --name ubuntu-2 --hostname jraft1 --privileged=true ubuntu</span><br><span class=\"line\">docker run -itd --name ubuntu-3 --hostname jraft2 --privileged=true ubuntu</span><br><span class=\"line\">docker run -itd --name ubuntu-4 --hostname jraft3 --privileged=true ubuntu</span><br><span class=\"line\">docker run -itd --name ubuntu-5 --hostname jraft4 --privileged=true ubuntu</span><br><span class=\"line\">docker run -itd --name ubuntu-6 --hostname jraft5 --privileged=true ubuntu</span><br></pre></td></tr></table></figure>\n\n<p>æŸ¥æ‰¾æ‰€æœ‰å®¹å™¨çš„ip</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker inspect --format=&#x27;&#123;&#123;.Name&#125;&#125; - &#123;&#123;range .NetworkSettings.Networks&#125;&#125;&#123;&#123;.IPAddress&#125;&#125;&#123;&#123;end&#125;&#125;&#x27; $(docker ps -aq)</span><br></pre></td></tr></table></figure>\n\n<p>è¿›å…¥å®¹å™¨</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec -it ubuntu-1 bash</span><br></pre></td></tr></table></figure>\n\n<p>ä¿®æ”¹hostsæ–‡ä»¶ï¼Œæ·»åŠ ipä¸åŸŸåçš„å¯¹åº”å…³ç³»</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/hosts</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤å¤„æ ¹æ®æŸ¥è¯¢å‡ºçš„å®¹å™¨ipå¯¹åº”å¡«å†™å³å¯</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1       localhost</span><br><span class=\"line\">::1     localhost ip6-localhost ip6-loopback</span><br><span class=\"line\">fe00::0 ip6-localnet</span><br><span class=\"line\">ff00::0 ip6-mcastprefix</span><br><span class=\"line\">ff02::1 ip6-allnodes</span><br><span class=\"line\">ff02::2 ip6-allrouters</span><br><span class=\"line\">172.17.0.2      control</span><br><span class=\"line\">172.17.0.3      jraft1</span><br><span class=\"line\">172.17.0.4      jraft2</span><br><span class=\"line\">172.17.0.5      jraft3</span><br><span class=\"line\">172.17.0.6      jraft4</span><br><span class=\"line\">172.17.0.7      jraft5</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"è®¾ç½®Docker-SSHå…å¯†ç™»å½•\"><a href=\"#è®¾ç½®Docker-SSHå…å¯†ç™»å½•\" class=\"headerlink\" title=\"è®¾ç½®Docker-SSHå…å¯†ç™»å½•\"></a>è®¾ç½®Docker-SSHå…å¯†ç™»å½•</h2><p>å®‰è£…SSHæœåŠ¡</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get update </span><br><span class=\"line\">apt-get install openssh-server //å®‰è£…sshæœåŠ¡</span><br></pre></td></tr></table></figure>\n\n<p>å¼€å¯SSHæœåŠ¡</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/etc/init.d/ssh start</span><br><span class=\"line\">ps -e | grep ssh  //æ£€æŸ¥æ˜¯å¦å¼€å¯ssh</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"jraft-testèŠ‚ç‚¹\"><a href=\"#jraft-testèŠ‚ç‚¹\" class=\"headerlink\" title=\"jraft-testèŠ‚ç‚¹\"></a>jraft-testèŠ‚ç‚¹</h3><p>åœ¨Test-Nodeçš„dockerå®¹å™¨å†…ï¼Œç¼–è¾‘æ–‡ä»¶&#x2F;etc&#x2F;ssh&#x2F;sshd_configï¼Œæ·»åŠ ä¸€è¡ŒPermitRootLogin yesè¡¨ç¤ºsshå…è®¸rootç™»å½•ã€‚</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo &quot;PermitRootLogin yes&quot; &gt;&gt; /etc/ssh/sshd_config</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">æˆ–è€… vim /etc/ssh/sshd_config å¹¶æ‰‹æ•²ä¸€è¡ŒPermitRootLogin <span class=\"built_in\">yes</span></span></span><br></pre></td></tr></table></figure>\n\n<p>éšåä¸€å®šè¦é‡å¯sshæœåŠ¡</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service ssh restart</span><br></pre></td></tr></table></figure>\n\n<p>è®¾ç½®rootå¯†ç </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">passwd root</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"controlèŠ‚ç‚¹\"><a href=\"#controlèŠ‚ç‚¹\" class=\"headerlink\" title=\"controlèŠ‚ç‚¹\"></a>controlèŠ‚ç‚¹</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen //ç”Ÿæˆå…¬é’¥ç§é’¥</span><br><span class=\"line\">ssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft1</span><br><span class=\"line\">ssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft2</span><br><span class=\"line\">ssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft3</span><br><span class=\"line\">ssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft4</span><br><span class=\"line\">ssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft5</span><br></pre></td></tr></table></figure>\n\n<p>ç§é’¥æ–‡ä»¶æ ¼å¼é—®é¢˜ï¼šæ‚¨éœ€è¦ç¡®ä¿æ‚¨çš„SSHç§é’¥æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼Œå¹¶ä¸”Jepsenæµ‹è¯•å·¥å…·å¯ä»¥æ­£ç¡®è¯†åˆ«å®ƒã€‚é€šå¸¸ï¼ŒSSHç§é’¥æ–‡ä»¶æ ¼å¼ä¸ºOpenSSHæ ¼å¼ã€‚æ‚¨å¯ä»¥å°è¯•ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†ç§é’¥æ–‡ä»¶è½¬æ¢ä¸ºOpenSSHæ ¼å¼ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -p -f /root/.ssh/id_rsa -m pem -t rsa</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Ubuntuå·¥å…·å®‰è£…\"><a href=\"#Ubuntuå·¥å…·å®‰è£…\" class=\"headerlink\" title=\"Ubuntuå·¥å…·å®‰è£…\"></a>Ubuntuå·¥å…·å®‰è£…</h2><p>controlèŠ‚ç‚¹å®‰è£…ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get update </span><br><span class=\"line\">apt-get install leiningen</span><br><span class=\"line\">apt-get install wget</span><br><span class=\"line\">apt-get install git</span><br><span class=\"line\">apt-get install vim</span><br><span class=\"line\">apt-get install sudo</span><br><span class=\"line\">apt-get install iptables</span><br></pre></td></tr></table></figure>\n\n<p>testèŠ‚ç‚¹å®‰è£…ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get update </span><br><span class=\"line\">apt-get install leiningen</span><br><span class=\"line\">apt-get install wget</span><br><span class=\"line\">apt-get install vim</span><br><span class=\"line\">apt-get install sudo</span><br><span class=\"line\">apt-get install iptables</span><br></pre></td></tr></table></figure>\n\n<p><strong>ubuntuå®¹å™¨å®‰è£…jdk-8ï¼š</strong><br>è¿›å…¥ç›®å½•ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /usr/local/java &amp;&amp; cd /usr/local/java</span><br></pre></td></tr></table></figure>\n\n<p>wgetä¸‹è½½jdk8ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/8u141-b15/336fa29ff2bb4ef291e347e091f7f4a7/jdk-8u141-linux-x64.tar.gz&quot;</span><br></pre></td></tr></table></figure>\n\n<p>è§£å‹ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -zxvf jdk-8u141-linux-x64.tar.gz -C /usr/local/java</span><br></pre></td></tr></table></figure>\n\n<p>ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼šæ­¤å¤„éœ€è¦æ³¨æ„ï¼Œæœ‰å¯èƒ½åœ¨å®‰è£…å…¶ä»–å®‰è£…åŒ…æ—¶ä¼šè‡ªåŠ¨å®‰è£…jdk11ï¼Œæ­¤å¤„éœ€è¦ä¿®æ”¹ä¸¤ä¸ªé…ç½®æ–‡ä»¶æ‰èƒ½ç”Ÿæ•ˆï¼Œå¹¶ä¸”ä¿®æ”¹ä¸ºjdk8.</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim ~/.bashrc</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export JAVA_HOME=/usr/local/java/jdk1.8.0_141</span><br><span class=\"line\">export PATH=$JAVA_HOME/bin:$PATH</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/profile</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export JAVA_HOME=/usr/local/java/jdk1.8.0_141</span><br><span class=\"line\">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</span><br><span class=\"line\">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib</span><br><span class=\"line\">export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure>\n\n<p>æ‰§è¡Œå‘½ä»¤ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source /etc/profile</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å®‰è£…clojure-control\"><a href=\"#å®‰è£…clojure-control\" class=\"headerlink\" title=\"å®‰è£…clojure-control\"></a>å®‰è£…clojure-control</h2><p><strong>æ­¤æ“ä½œåœ¨controlèŠ‚ç‚¹å®Œæˆï¼š</strong><br>å¤åˆ¶é“¾æ¥ä¸­çš„shellè„šæœ¬ï¼š<a class=\"link\"   href=\"https://raw.githubusercontent.com/killme2008/clojure-control/master/bin/control\" >https://raw.githubusercontent.com/killme2008/clojure-control/master/bin/control<i class=\"fas fa-external-link-alt\"></i></a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd ~/bin</span><br><span class=\"line\">vim control</span><br></pre></td></tr></table></figure>\n\n<p>å°†shellè„šæœ¬ç²˜è´´åˆ°controlä¸­</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 777 control</span><br></pre></td></tr></table></figure>\n\n<p>è®¾ç½®controlç³»ç»Ÿå˜é‡</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export CONTROL_ROOT=1</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export PATH=$PATH:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/root/bin</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸‹è½½jraftæµ‹è¯•ä»£ç \"><a href=\"#ä¸‹è½½jraftæµ‹è¯•ä»£ç \" class=\"headerlink\" title=\"ä¸‹è½½jraftæµ‹è¯•ä»£ç \"></a>ä¸‹è½½jraftæµ‹è¯•ä»£ç </h2><p><strong>å…‹éš†è¿œç¨‹ä»“åº“ä»£ç ï¼š</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone jraftä»“åº“ï¼ˆè‡ªæµ‹ä»“åº“/å®˜æ–¹ä»“åº“ï¼‰</span><br></pre></td></tr></table></figure>\n\n<p><strong>å®‰è£…jaråˆ°æœ¬åœ°ä»“åº“ï¼š</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn clean install -DskipTests=true</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"éƒ¨ç½²atomic-server\"><a href=\"#éƒ¨ç½²atomic-server\" class=\"headerlink\" title=\"éƒ¨ç½²atomic-server\"></a>éƒ¨ç½²atomic-server</h2><p><strong>æ­¤æ“ä½œåœ¨controlèŠ‚ç‚¹æ‰§è¡Œï¼š</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">control run jraft build</span><br><span class=\"line\">control run jraft deploy</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¼€å¯æµ‹è¯•\"><a href=\"#å¼€å¯æµ‹è¯•\" class=\"headerlink\" title=\"å¼€å¯æµ‹è¯•\"></a>å¼€å¯æµ‹è¯•</h2><p><strong>bashå¼€å¯æµ‹è¯•</strong><br>configuration-test</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash run_test.sh --testfn configuration-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n\n<p>bridge-test</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash run_test.sh --testfn bridge-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n\n<p>pause-test</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash run_test.sh --testfn pause-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n\n<p>crash-test</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash run_test.sh --testfn crash-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n\n<p>partition-test</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash run_test.sh --testfn partition-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n\n<p>partition-majority-test</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash run_test.sh --testfn partition-majority-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n\n<p><strong>æµ‹è¯•æ–¹æ³•</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">configuration-test</span><br><span class=\"line\">bridge-test</span><br><span class=\"line\">pause-test</span><br><span class=\"line\">crash-test</span><br><span class=\"line\">partition-test</span><br><span class=\"line\">partition-majority-test</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ½œåœ¨é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\"><a href=\"#æ½œåœ¨é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"æ½œåœ¨é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\"></a>æ½œåœ¨é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2><p>å¦‚æœå‡ºç°æŠ¥é”™ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Could not find artifact apache-codec:commons-codec:jar:1.2 in central (https://repo1.maven.org/maven2/)</span><br><span class=\"line\">Could not find artifact apache-codec:commons-codec:jar:1.2 in clojars (https://repo.clojars.org/)</span><br><span class=\"line\">This could be due to a typo in :dependencies, file system permissions, or network issues.</span><br><span class=\"line\">If you are behind a proxy, try setting the &#x27;http_proxy&#x27; environment variable.</span><br><span class=\"line\">Uberjar aborting because jar failed: Could not resolve dependencies</span><br></pre></td></tr></table></figure>\n\n<p>è§£å†³åŠæ³•ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd ~/.m2/repository/apache-codec/commons-codec/1.2</span><br></pre></td></tr></table></figure>\n\n<p>å¯ä»¥çœ‹åˆ°é‡Œé¢æ˜¯ç©ºçš„ï¼Œæ­¤æ—¶æ‹‰å–è¿œç¨‹ä»“åº“jaråŒ…å³å¯</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://repo1.maven.org/maven2/commons-codec/commons-codec/1.2/commons-codec-1.2.pom</span><br><span class=\"line\">wget https://repo1.maven.org/maven2/commons-codec/commons-codec/1.2/commons-codec-1.2.jar</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p><strong>Jepsenå‰ç½®èµ„æ–™å‚è€ƒï¼š</strong><a href=\"https://jaydenwen123.gitbook.io/zh_jepsen_doc/\">Jepsenä¸­æ–‡å®˜æ–¹æ–‡æ¡£</a>   <a href=\"https://aphyr.com/\">Jepsenä½œè€…åšå®¢</a><br><strong>Cloujreå‰ç½®èµ„æ–™ï¼š</strong><a href=\"https://aphyr.com/posts/301-clojure-from-the-ground-up-welcome\">Clojureå…¥é—¨æ–‡ç« -è‹±æ–‡ç‰ˆ</a>   <a href=\"https://siddontang.gitbooks.io/lean-clojure/content/hello-clojure.html\">Clojureä¸­æ–‡æ–‡æ¡£</a></p>\n<h1 id=\"çº¿æ€§ä¸€è‡´æ€§æ¦‚è¿°\"><a href=\"#çº¿æ€§ä¸€è‡´æ€§æ¦‚è¿°\" class=\"headerlink\" title=\"çº¿æ€§ä¸€è‡´æ€§æ¦‚è¿°\"></a>çº¿æ€§ä¸€è‡´æ€§æ¦‚è¿°</h1><h2 id=\"æ¦‚å¿µ\"><a href=\"#æ¦‚å¿µ\" class=\"headerlink\" title=\"æ¦‚å¿µ\"></a>æ¦‚å¿µ</h2><p>å¦‚æœè¯´ä½ å¯¹çº¿æ€§ä¸€è‡´æ€§ï¼ˆLinearizabilityï¼‰æ¦‚å¿µä¸å¤ªç†Ÿï¼Œé‚£ä¸€å®šçŸ¥é“å¼ºä¸€è‡´æ€§ï¼ˆstrong consistencyï¼‰ï¼Œæˆ–è€…è¯´åŸå­ä¸€è‡´æ€§ï¼ˆatomic consistencyï¼‰ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºçš„ CAP ç†è®ºä¸­çš„ Cã€‚</p>\n<h2 id=\"Raftçº¿æ€§ä¸€è‡´æ€§çš„å®ç°\"><a href=\"#Raftçº¿æ€§ä¸€è‡´æ€§çš„å®ç°\" class=\"headerlink\" title=\"Raftçº¿æ€§ä¸€è‡´æ€§çš„å®ç°\"></a>Raftçº¿æ€§ä¸€è‡´æ€§çš„å®ç°</h2><h3 id=\"çº¿æ€§ä¸€è‡´æ€§å†™\"><a href=\"#çº¿æ€§ä¸€è‡´æ€§å†™\" class=\"headerlink\" title=\"çº¿æ€§ä¸€è‡´æ€§å†™\"></a>çº¿æ€§ä¸€è‡´æ€§å†™</h3><p>æ‰€æœ‰çš„ read&#x2F;write éƒ½ä¼šæ¥åˆ° Leaderï¼Œwrite ä¼šæœ‰ Log è¢«åºåˆ—åŒ–ï¼Œä¾æ¬¡é¡ºåºå¾€å commitï¼Œå¹¶ apply ç„¶ååœ¨è¿”å›ï¼Œé‚£ä¹ˆä¸€æ—¦ä¸€ä¸ª write è¢« committedï¼Œé‚£ä¹ˆå…¶å‰é¢çš„ write çš„ Log ä¸€å®šå°±è¢« committed äº†ã€‚ æ‰€æœ‰çš„ write éƒ½æ˜¯æœ‰ä¸¥æ ¼çš„é¡ºåºçš„ï¼Œä¸€æ—¦è¢« committed å°±å¯è§äº†ï¼Œæ‰€ä»¥ Raft æ˜¯çº¿æ€§ä¸€è‡´æ€§å†™ã€‚</p>\n<h3 id=\"çº¿æ€§ä¸€è‡´æ€§è¯»\"><a href=\"#çº¿æ€§ä¸€è‡´æ€§è¯»\" class=\"headerlink\" title=\"çº¿æ€§ä¸€è‡´æ€§è¯»\"></a>çº¿æ€§ä¸€è‡´æ€§è¯»</h3><p>çº¿æ€§ä¸€è‡´æ€§è¯»æœ‰å¾ˆå¤šç§æ–¹æ³•å¯ä»¥å»å®ç°ï¼Œä¾‹å¦‚ä»¥ä¸‹ä»‹ç»äº†å››ç§å®ç°çº¿æ€§ä¸€è‡´æ€§è¯»çš„åŠæ³•ï¼š</p>\n<ol>\n<li>Raft Log readï¼šæ¯ä¸ª read éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ Logï¼Œå’Œ write ä¸€æ ·ï¼Œå°†éäº‹åŠ¡è¯·æ±‚ä»¥äº‹åŠ¡è¯·æ±‚çš„é€»è¾‘å»è¿›è¡Œå¤„ç†ã€‚åœ¨ Read Log è¢« Apply çš„æ—¶å€™è¯»ï¼Œé‚£ä¹ˆæ­¤æ—¶è¿™ä¸ª read Log ä¹‹å‰çš„ write Log ä¹Ÿä¸€å®šè¢« applied äº†ï¼Œé‚£ä¹ˆè¯»åˆ°çš„æ•°æ®ä¸€å®šæ˜¯æœ€æ–°çš„ã€‚</li>\n<li>ReadIndexï¼šæˆ‘ä»¬çŸ¥é“ Raft log readï¼Œä¼šæœ‰ Raft read log çš„å¤åˆ¶å’Œæäº¤çš„å¼€é”€ï¼Œæ‰€ä»¥å‡ºç°äº† ReadIndexã€‚å½“ read è¯·æ±‚å‘é€ç»™ Leader çš„æ—¶å€™ï¼š<strong>ï¼ˆ1ï¼‰é¦–å…ˆéœ€è¦ç¡®è®¤ read å¿…é¡»è¿”å›æœ€æ–° committed çš„ç»“æœ</strong>ã€‚ä½†æ˜¯ä¸€ä¸ªèŠ‚ç‚¹åˆšå½“é€‰ Leader çš„æ—¶å€™å¹¶ä¸çŸ¥é“æœ€æ–°çš„ committed indexï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æäº¤ä¸€ä¸ª Noop Log Entry æ¥æäº¤ä¹‹å‰çš„ Log Entryï¼Œç„¶åå¼€å§‹ Readï¼›<strong>ï¼ˆ2ï¼‰ç¡®è®¤å½“å‰çš„ Leader æ˜¯ä¸æ˜¯è¿˜æ˜¯ Leader</strong>ã€‚å¯èƒ½ç”±äºç½‘ç»œåˆ†åŒºï¼Œè¿™ä¸ª Leader å·²ç»è¢«å­¤ç«‹äº†ï¼Œæ‰€ä»¥ Leader åœ¨è¿”å› read ä¹‹å‰ï¼Œå…ˆå’Œ Replica-Group çš„å…¶ä»–æˆå‘˜å‘é€ heartbeat ç¡®å®šè‡ªå·± Leader çš„èº«ä»½ï¼›é€šè¿‡ä¸Šè¿°ä¸¤æ¡æ‰å¯ä»¥ä¿è¯è¯»åˆ°çš„æ˜¯æœ€æ–°åˆšè¢« committed çš„æ•°æ®ã€‚</li>\n<li>Lease readï¼šä¸»è¦æ˜¯é€šè¿‡ lease æœºåˆ¶ç»´æŠ¤ Leader çš„çŠ¶æ€ï¼Œæ¥å‡å°‘äº† ReadIndex æ¯æ¬¡ read å‘é€ heartheat çš„å¼€é”€ã€‚</li>\n<li>Follower readï¼šå…ˆå» Leader æŸ¥è¯¢æœ€æ–°çš„ committed indexï¼Œç„¶åæ‹¿ç€ committed Index å» Follower readï¼Œä»è€Œä¿è¯èƒ½ä» Follower ä¸­è¯»åˆ°æœ€æ–°çš„æ•°æ®ï¼Œå½“å‰ Etcd å’Œ SOFA-Jraft å°±å®ç°äº† Follower readã€‚</li>\n</ol>\n<p>å…³äºSOFA-JRaftå®ç°çº¿æ€§ä¸€è‡´æ€§è¯»å¯å‚è€ƒæ–‡ç« ï¼š<a href=\"https://www.sofastack.tech/blog/sofa-jraft-linear-consistent-read-implementation/\">SOFAJRaft çº¿æ€§ä¸€è‡´è¯»å®ç°å‰–æ</a></p>\n<h1 id=\"Jepsen-æ¦‚è¿°\"><a href=\"#Jepsen-æ¦‚è¿°\" class=\"headerlink\" title=\"Jepsen æ¦‚è¿°\"></a>Jepsen æ¦‚è¿°</h1><p>Jepsen æ˜¯ç”± Kyle Kingsbury é‡‡ç”¨å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ Clojure ç¼–å†™çš„éªŒè¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸€è‡´æ€§çš„æµ‹è¯•æ¡†æ¶ï¼Œä½œè€…ä½¿ç”¨å®ƒå¯¹è®¸å¤šè‘—åçš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆetcd, cockroachdbâ€¦ï¼‰è¿›è¡Œäº†â€œæ”»å‡»â€ï¼ˆä¸€è‡´æ€§éªŒè¯ï¼‰ï¼Œå¹¶ä¸”å¸®åŠ©å…¶ä¸­çš„éƒ¨åˆ†ç³»ç»Ÿæ‰¾åˆ°äº† bugã€‚<br>ç½‘ä¸Šå·²æœ‰æ–‡ç« å¯¹å…¶åŸç†è¿›è¡Œè¿‡ç®€è¿°ï¼Œæ­¤å¤„è´´ä¸Šé“¾æ¥å³å¯ï¼š<a href=\"https://juejin.cn/post/6844903491442327566\">å½“ TiDB é‡ä¸Š Jepsen</a></p>\n<h1 id=\"Jraft-Jepsen-éƒ¨ç½²éªŒè¯ä¸€è‡´æ€§\"><a href=\"#Jraft-Jepsen-éƒ¨ç½²éªŒè¯ä¸€è‡´æ€§\" class=\"headerlink\" title=\"Jraft-Jepsen éƒ¨ç½²éªŒè¯ä¸€è‡´æ€§\"></a>Jraft-Jepsen éƒ¨ç½²éªŒè¯ä¸€è‡´æ€§</h1><blockquote>\n<p>ä¸‹é¢çš„å†…å®¹æ˜¯ä½œè€…è‡ªå·±è¸©å‘æ€»ç»“å‡ºæ¥çš„éƒ¨ç½²æµç¨‹ï¼Œä»‹ç»äº†å¦‚ä½•æ‰‹åŠ¨éƒ¨ç½²ä¸€å¥—Jepsenæ¡†æ¶å¯¹JRaftä»£ç è¿›è¡Œä¸€è‡´æ€§éªŒè¯ã€‚</p>\n</blockquote>\n<h2 id=\"æ‰“å¼€gitpod-linux\"><a href=\"#æ‰“å¼€gitpod-linux\" class=\"headerlink\" title=\"æ‰“å¼€gitpod&#x2F;linux\"></a>æ‰“å¼€gitpod&#x2F;linux</h2><p>è¿è¡Œubuntuå®¹å™¨ï¼Œå…¶ä¸­1ä¸ªcontrolèŠ‚ç‚¹ï¼Œ5ä¸ªjraft-testèŠ‚ç‚¹ã€‚</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd --name ubuntu-1 --hostname control --privileged=true ubuntu</span><br><span class=\"line\">docker run -itd --name ubuntu-2 --hostname jraft1 --privileged=true ubuntu</span><br><span class=\"line\">docker run -itd --name ubuntu-3 --hostname jraft2 --privileged=true ubuntu</span><br><span class=\"line\">docker run -itd --name ubuntu-4 --hostname jraft3 --privileged=true ubuntu</span><br><span class=\"line\">docker run -itd --name ubuntu-5 --hostname jraft4 --privileged=true ubuntu</span><br><span class=\"line\">docker run -itd --name ubuntu-6 --hostname jraft5 --privileged=true ubuntu</span><br></pre></td></tr></table></figure>\n\n<p>æŸ¥æ‰¾æ‰€æœ‰å®¹å™¨çš„ip</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker inspect --format=&#x27;&#123;&#123;.Name&#125;&#125; - &#123;&#123;range .NetworkSettings.Networks&#125;&#125;&#123;&#123;.IPAddress&#125;&#125;&#123;&#123;end&#125;&#125;&#x27; $(docker ps -aq)</span><br></pre></td></tr></table></figure>\n\n<p>è¿›å…¥å®¹å™¨</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec -it ubuntu-1 bash</span><br></pre></td></tr></table></figure>\n\n<p>ä¿®æ”¹hostsæ–‡ä»¶ï¼Œæ·»åŠ ipä¸åŸŸåçš„å¯¹åº”å…³ç³»</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/hosts</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤å¤„æ ¹æ®æŸ¥è¯¢å‡ºçš„å®¹å™¨ipå¯¹åº”å¡«å†™å³å¯</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1       localhost</span><br><span class=\"line\">::1     localhost ip6-localhost ip6-loopback</span><br><span class=\"line\">fe00::0 ip6-localnet</span><br><span class=\"line\">ff00::0 ip6-mcastprefix</span><br><span class=\"line\">ff02::1 ip6-allnodes</span><br><span class=\"line\">ff02::2 ip6-allrouters</span><br><span class=\"line\">172.17.0.2      control</span><br><span class=\"line\">172.17.0.3      jraft1</span><br><span class=\"line\">172.17.0.4      jraft2</span><br><span class=\"line\">172.17.0.5      jraft3</span><br><span class=\"line\">172.17.0.6      jraft4</span><br><span class=\"line\">172.17.0.7      jraft5</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"è®¾ç½®Docker-SSHå…å¯†ç™»å½•\"><a href=\"#è®¾ç½®Docker-SSHå…å¯†ç™»å½•\" class=\"headerlink\" title=\"è®¾ç½®Docker-SSHå…å¯†ç™»å½•\"></a>è®¾ç½®Docker-SSHå…å¯†ç™»å½•</h2><p>å®‰è£…SSHæœåŠ¡</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get update </span><br><span class=\"line\">apt-get install openssh-server //å®‰è£…sshæœåŠ¡</span><br></pre></td></tr></table></figure>\n\n<p>å¼€å¯SSHæœåŠ¡</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/etc/init.d/ssh start</span><br><span class=\"line\">ps -e | grep ssh  //æ£€æŸ¥æ˜¯å¦å¼€å¯ssh</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"jraft-testèŠ‚ç‚¹\"><a href=\"#jraft-testèŠ‚ç‚¹\" class=\"headerlink\" title=\"jraft-testèŠ‚ç‚¹\"></a>jraft-testèŠ‚ç‚¹</h3><p>åœ¨Test-Nodeçš„dockerå®¹å™¨å†…ï¼Œç¼–è¾‘æ–‡ä»¶&#x2F;etc&#x2F;ssh&#x2F;sshd_configï¼Œæ·»åŠ ä¸€è¡ŒPermitRootLogin yesè¡¨ç¤ºsshå…è®¸rootç™»å½•ã€‚</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo &quot;PermitRootLogin yes&quot; &gt;&gt; /etc/ssh/sshd_config</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">æˆ–è€… vim /etc/ssh/sshd_config å¹¶æ‰‹æ•²ä¸€è¡ŒPermitRootLogin <span class=\"built_in\">yes</span></span></span><br></pre></td></tr></table></figure>\n\n<p>éšåä¸€å®šè¦é‡å¯sshæœåŠ¡</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service ssh restart</span><br></pre></td></tr></table></figure>\n\n<p>è®¾ç½®rootå¯†ç </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">passwd root</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"controlèŠ‚ç‚¹\"><a href=\"#controlèŠ‚ç‚¹\" class=\"headerlink\" title=\"controlèŠ‚ç‚¹\"></a>controlèŠ‚ç‚¹</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen //ç”Ÿæˆå…¬é’¥ç§é’¥</span><br><span class=\"line\">ssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft1</span><br><span class=\"line\">ssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft2</span><br><span class=\"line\">ssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft3</span><br><span class=\"line\">ssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft4</span><br><span class=\"line\">ssh-copy-id -i /root/.ssh/id_rsa.pub root@jraft5</span><br></pre></td></tr></table></figure>\n\n<p>ç§é’¥æ–‡ä»¶æ ¼å¼é—®é¢˜ï¼šæ‚¨éœ€è¦ç¡®ä¿æ‚¨çš„SSHç§é’¥æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼Œå¹¶ä¸”Jepsenæµ‹è¯•å·¥å…·å¯ä»¥æ­£ç¡®è¯†åˆ«å®ƒã€‚é€šå¸¸ï¼ŒSSHç§é’¥æ–‡ä»¶æ ¼å¼ä¸ºOpenSSHæ ¼å¼ã€‚æ‚¨å¯ä»¥å°è¯•ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†ç§é’¥æ–‡ä»¶è½¬æ¢ä¸ºOpenSSHæ ¼å¼ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -p -f /root/.ssh/id_rsa -m pem -t rsa</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Ubuntuå·¥å…·å®‰è£…\"><a href=\"#Ubuntuå·¥å…·å®‰è£…\" class=\"headerlink\" title=\"Ubuntuå·¥å…·å®‰è£…\"></a>Ubuntuå·¥å…·å®‰è£…</h2><p>controlèŠ‚ç‚¹å®‰è£…ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get update </span><br><span class=\"line\">apt-get install leiningen</span><br><span class=\"line\">apt-get install wget</span><br><span class=\"line\">apt-get install git</span><br><span class=\"line\">apt-get install vim</span><br><span class=\"line\">apt-get install sudo</span><br><span class=\"line\">apt-get install iptables</span><br></pre></td></tr></table></figure>\n\n<p>testèŠ‚ç‚¹å®‰è£…ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get update </span><br><span class=\"line\">apt-get install leiningen</span><br><span class=\"line\">apt-get install wget</span><br><span class=\"line\">apt-get install vim</span><br><span class=\"line\">apt-get install sudo</span><br><span class=\"line\">apt-get install iptables</span><br></pre></td></tr></table></figure>\n\n<p><strong>ubuntuå®¹å™¨å®‰è£…jdk-8ï¼š</strong><br>è¿›å…¥ç›®å½•ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /usr/local/java &amp;&amp; cd /usr/local/java</span><br></pre></td></tr></table></figure>\n\n<p>wgetä¸‹è½½jdk8ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/8u141-b15/336fa29ff2bb4ef291e347e091f7f4a7/jdk-8u141-linux-x64.tar.gz&quot;</span><br></pre></td></tr></table></figure>\n\n<p>è§£å‹ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -zxvf jdk-8u141-linux-x64.tar.gz -C /usr/local/java</span><br></pre></td></tr></table></figure>\n\n<p>ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼šæ­¤å¤„éœ€è¦æ³¨æ„ï¼Œæœ‰å¯èƒ½åœ¨å®‰è£…å…¶ä»–å®‰è£…åŒ…æ—¶ä¼šè‡ªåŠ¨å®‰è£…jdk11ï¼Œæ­¤å¤„éœ€è¦ä¿®æ”¹ä¸¤ä¸ªé…ç½®æ–‡ä»¶æ‰èƒ½ç”Ÿæ•ˆï¼Œå¹¶ä¸”ä¿®æ”¹ä¸ºjdk8.</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim ~/.bashrc</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export JAVA_HOME=/usr/local/java/jdk1.8.0_141</span><br><span class=\"line\">export PATH=$JAVA_HOME/bin:$PATH</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/profile</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export JAVA_HOME=/usr/local/java/jdk1.8.0_141</span><br><span class=\"line\">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</span><br><span class=\"line\">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib</span><br><span class=\"line\">export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure>\n\n<p>æ‰§è¡Œå‘½ä»¤ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source /etc/profile</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å®‰è£…clojure-control\"><a href=\"#å®‰è£…clojure-control\" class=\"headerlink\" title=\"å®‰è£…clojure-control\"></a>å®‰è£…clojure-control</h2><p><strong>æ­¤æ“ä½œåœ¨controlèŠ‚ç‚¹å®Œæˆï¼š</strong><br>å¤åˆ¶é“¾æ¥ä¸­çš„shellè„šæœ¬ï¼š<a href=\"https://raw.githubusercontent.com/killme2008/clojure-control/master/bin/control\">https://raw.githubusercontent.com/killme2008/clojure-control/master/bin/control</a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd ~/bin</span><br><span class=\"line\">vim control</span><br></pre></td></tr></table></figure>\n\n<p>å°†shellè„šæœ¬ç²˜è´´åˆ°controlä¸­</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 777 control</span><br></pre></td></tr></table></figure>\n\n<p>è®¾ç½®controlç³»ç»Ÿå˜é‡</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export CONTROL_ROOT=1</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export PATH=$PATH:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/root/bin</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸‹è½½jraftæµ‹è¯•ä»£ç \"><a href=\"#ä¸‹è½½jraftæµ‹è¯•ä»£ç \" class=\"headerlink\" title=\"ä¸‹è½½jraftæµ‹è¯•ä»£ç \"></a>ä¸‹è½½jraftæµ‹è¯•ä»£ç </h2><p><strong>å…‹éš†è¿œç¨‹ä»“åº“ä»£ç ï¼š</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone jraftä»“åº“ï¼ˆè‡ªæµ‹ä»“åº“/å®˜æ–¹ä»“åº“ï¼‰</span><br></pre></td></tr></table></figure>\n\n<p><strong>å®‰è£…jaråˆ°æœ¬åœ°ä»“åº“ï¼š</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn clean install -DskipTests=true</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"éƒ¨ç½²atomic-server\"><a href=\"#éƒ¨ç½²atomic-server\" class=\"headerlink\" title=\"éƒ¨ç½²atomic-server\"></a>éƒ¨ç½²atomic-server</h2><p><strong>æ­¤æ“ä½œåœ¨controlèŠ‚ç‚¹æ‰§è¡Œï¼š</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">control run jraft build</span><br><span class=\"line\">control run jraft deploy</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¼€å¯æµ‹è¯•\"><a href=\"#å¼€å¯æµ‹è¯•\" class=\"headerlink\" title=\"å¼€å¯æµ‹è¯•\"></a>å¼€å¯æµ‹è¯•</h2><p><strong>bashå¼€å¯æµ‹è¯•</strong><br>configuration-test</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash run_test.sh --testfn configuration-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n\n<p>bridge-test</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash run_test.sh --testfn bridge-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n\n<p>pause-test</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash run_test.sh --testfn pause-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n\n<p>crash-test</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash run_test.sh --testfn crash-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n\n<p>partition-test</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash run_test.sh --testfn partition-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n\n<p>partition-majority-test</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash run_test.sh --testfn partition-majority-test --username root --password 123 --ssh-private-key /root/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n\n<p><strong>æµ‹è¯•æ–¹æ³•</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">configuration-test</span><br><span class=\"line\">bridge-test</span><br><span class=\"line\">pause-test</span><br><span class=\"line\">crash-test</span><br><span class=\"line\">partition-test</span><br><span class=\"line\">partition-majority-test</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ½œåœ¨é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\"><a href=\"#æ½œåœ¨é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"æ½œåœ¨é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\"></a>æ½œåœ¨é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2><p>å¦‚æœå‡ºç°æŠ¥é”™ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Could not find artifact apache-codec:commons-codec:jar:1.2 in central (https://repo1.maven.org/maven2/)</span><br><span class=\"line\">Could not find artifact apache-codec:commons-codec:jar:1.2 in clojars (https://repo.clojars.org/)</span><br><span class=\"line\">This could be due to a typo in :dependencies, file system permissions, or network issues.</span><br><span class=\"line\">If you are behind a proxy, try setting the &#x27;http_proxy&#x27; environment variable.</span><br><span class=\"line\">Uberjar aborting because jar failed: Could not resolve dependencies</span><br></pre></td></tr></table></figure>\n\n<p>è§£å†³åŠæ³•ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd ~/.m2/repository/apache-codec/commons-codec/1.2</span><br></pre></td></tr></table></figure>\n\n<p>å¯ä»¥çœ‹åˆ°é‡Œé¢æ˜¯ç©ºçš„ï¼Œæ­¤æ—¶æ‹‰å–è¿œç¨‹ä»“åº“jaråŒ…å³å¯</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://repo1.maven.org/maven2/commons-codec/commons-codec/1.2/commons-codec-1.2.pom</span><br><span class=\"line\">wget https://repo1.maven.org/maven2/commons-codec/commons-codec/1.2/commons-codec-1.2.jar</span><br></pre></td></tr></table></figure>","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Mon Sep 11 2023 14:01:19 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)","title":"JRaft-jepsen çº¿æ€§ä¸€è‡´æ€§æµ‹è¯•","path":"2023/09/11/JRaft-jepsen-çº¿æ€§ä¸€è‡´æ€§æµ‹è¯•/","eyeCatchImage":null,"excerpt":null,"date":{"_isAMomentObject":true,"_i":"2023-09-11T05:47:03.000Z","_isUTC":false,"_pf":{"empty":false,"unusedTokens":[],"unusedInput":[],"overflow":-2,"charsLeftOver":0,"nullInput":false,"invalidEra":null,"invalidMonth":null,"invalidFormat":false,"userInvalidated":false,"iso":false,"parsedDateParts":[],"era":null,"meridiem":null,"rfc2822":false,"weekdayMismatch":false},"_locale":{"_calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"_longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"_invalidDate":"Invalid date","_dayOfMonthOrdinalParse":{},"_relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"_months":["January","February","March","April","May","June","July","August","September","October","November","December"],"_monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"_week":{"dow":0,"doy":6},"_weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"_weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"_weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"_meridiemParse":{},"_eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"_abbr":"en","_config":{"calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"invalidDate":"Invalid date","dayOfMonthOrdinalParse":{},"relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"week":{"dow":0,"doy":6},"weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"meridiemParse":{},"eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"abbr":"en"},"_dayOfMonthOrdinalParseLenient":{}},"_d":"2023-09-11T05:47:03.000Z","_isValid":true,"_z":null},"pv":0,"totalPV":0,"categories":"","tags":["SOFA-JRaft"],"internalLinks":[],"keywords":[],"keywordsLength":0}}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"clmbyfolt0001x4unckpn5ti6","tag_id":"clmdh1ucr0000gkuna5pf5x92","_id":"clmdh1ucw0003gkune4ilc827"},{"post_id":"clmbymkoc0000p4un5vbo9wf7","tag_id":"clmdh1ucr0000gkuna5pf5x92","_id":"clmdh1ucx0004gkun3ryt2mt3"},{"post_id":"clmbv15gk0007ocun9eomcuam","tag_id":"clmdh1ucr0000gkuna5pf5x92","_id":"clmdh1ucx0005gkundswcbv8w"},{"post_id":"clmbyfolp0000x4un13tp70yc","tag_id":"clmdh1ucr0000gkuna5pf5x92","_id":"clmdh1ucx0006gkun1j7k0njz"},{"post_id":"clmehe4cn0000v0uncc9a7brm","tag_id":"clmehe4cw0001v0un2gnr771o","_id":"clmehe4cy0003v0un1a3o8gru"},{"post_id":"clmdh1ucs0001gkundlsahe1n","tag_id":"clmehe4cy0002v0unhjz99meg","_id":"clmehe4cz0004v0un3scr4lri"}],"Tag":[{"name":"123","_id":"clmc838ai00007sung5fd4now"},{"name":"é¢ç»","_id":"clmdh1ucr0000gkuna5pf5x92"},{"name":"SOFA-JRaft","_id":"clmehe4cw0001v0un2gnr771o"},{"name":"åœºæ™¯é¢˜","_id":"clmehe4cy0002v0unhjz99meg"}]}}